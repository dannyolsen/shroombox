2025-03-06 13:19:09,313 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:09,315 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:09,315 - shroombox - INFO - Last modified time: 2025-03-06 13:19:09
2025-03-06 13:19:09,316 - shroombox - INFO - Last checked time: 2025-03-06 13:19:07
2025-03-06 13:19:09,316 - shroombox - INFO - Current time: 2025-03-06 13:19:09
2025-03-06 13:19:09,316 - shroombox - INFO - Config file modified at 2025-03-06 13:19:09.307382, reloading...
2025-03-06 13:19:09,316 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:09,317 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:09,317 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:09,317 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:09,317 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:09,318 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:09,318 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:09,318 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:09,318 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:09,318 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:09,319 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:09,319 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:09,319 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:09,319 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:09,319 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:09,320 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:09,320 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:09,320 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:09,320 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:09,320 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:09,320 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:09,321 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:09,334 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:09,335 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:09,371 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:09,371 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:09,371 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:09,372 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:09,372 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:09,372 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:09,372 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:09,372 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:09,372 - shroombox - INFO - =======================================================
2025-03-06 13:19:09,373 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:11,337 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:11,337 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:11,338 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:11,338 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:11,338 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:11,380 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:11,381 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:11,521 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:11,532 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:11,532 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:11,533 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:11,533 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:11,533 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:11,547 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:11,547 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:11,548 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:11,549 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:11,549 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:11,549 - shroombox - INFO - Last modified time: 2025-03-06 13:19:11
2025-03-06 13:19:11,550 - shroombox - INFO - Last checked time: 2025-03-06 13:19:09
2025-03-06 13:19:11,550 - shroombox - INFO - Current time: 2025-03-06 13:19:11
2025-03-06 13:19:11,550 - shroombox - INFO - Config file modified at 2025-03-06 13:19:11.543381, reloading...
2025-03-06 13:19:11,550 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:11,550 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:11,551 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:11,551 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:11,551 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:11,552 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:11,552 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:11,552 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:11,552 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:11,552 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:11,552 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:11,553 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:11,553 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:11,553 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:11,553 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:11,553 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:11,554 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:11,554 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:11,554 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:11,554 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:11,554 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:11,554 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:11,564 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:11,565 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:11,603 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:11,604 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:11,604 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:11,604 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:11,604 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:11,605 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:11,605 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:11,605 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:11,605 - shroombox - INFO - =======================================================
2025-03-06 13:19:11,605 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:13,565 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:13,565 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:13,565 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:13,566 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:13,566 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:13,610 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:13,610 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:13,704 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:13,716 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:13,716 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:13,716 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:13,717 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:13,717 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:13,730 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:13,730 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:13,731 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:13,732 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:13,732 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:13,733 - shroombox - INFO - Last modified time: 2025-03-06 13:19:13
2025-03-06 13:19:13,733 - shroombox - INFO - Last checked time: 2025-03-06 13:19:11
2025-03-06 13:19:13,733 - shroombox - INFO - Current time: 2025-03-06 13:19:13
2025-03-06 13:19:13,733 - shroombox - INFO - Config file modified at 2025-03-06 13:19:13.727381, reloading...
2025-03-06 13:19:13,734 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:13,734 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:13,734 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:13,734 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:13,735 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:13,735 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:13,735 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:13,735 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:13,736 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:13,736 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:13,736 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:13,736 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:13,737 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:13,737 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:13,737 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:13,737 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:13,738 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:13,738 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:13,738 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:13,738 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:13,739 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:13,739 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:13,750 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:13,751 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:13,791 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:13,792 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:13,792 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:13,792 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:13,792 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:13,793 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:13,793 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:13,793 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:13,793 - shroombox - INFO - =======================================================
2025-03-06 13:19:13,793 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:15,753 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:15,753 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:15,753 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:15,754 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:15,754 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:15,845 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:15,845 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:16,425 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:16,436 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:16,436 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:16,436 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:16,437 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:16,437 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:16,449 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:16,449 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:16,449 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:16,450 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:16,451 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:16,451 - shroombox - INFO - Last modified time: 2025-03-06 13:19:16
2025-03-06 13:19:16,451 - shroombox - INFO - Last checked time: 2025-03-06 13:19:13
2025-03-06 13:19:16,452 - shroombox - INFO - Current time: 2025-03-06 13:19:16
2025-03-06 13:19:16,452 - shroombox - INFO - Config file modified at 2025-03-06 13:19:16.443380, reloading...
2025-03-06 13:19:16,452 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:16,452 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:16,453 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:16,453 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:16,453 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:16,453 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:16,453 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:16,454 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:16,454 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:16,454 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:16,454 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:16,454 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:16,455 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:16,455 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:16,455 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:16,455 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:16,455 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:16,456 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:16,456 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:16,456 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:16,456 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:16,456 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:16,469 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:16,469 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:16,510 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:16,511 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:16,511 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:16,512 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:16,512 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:16,512 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:16,512 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:16,512 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:16,513 - shroombox - INFO - =======================================================
2025-03-06 13:19:16,513 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:18,469 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:18,470 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:18,470 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:18,470 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:18,470 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:18,516 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:18,516 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:18,611 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:18,623 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:18,623 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:18,623 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:18,624 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:18,624 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:18,637 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:18,642 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:18,643 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:18,651 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:18,652 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:18,652 - shroombox - INFO - Last modified time: 2025-03-06 13:19:18
2025-03-06 13:19:18,652 - shroombox - INFO - Last checked time: 2025-03-06 13:19:16
2025-03-06 13:19:18,652 - shroombox - INFO - Current time: 2025-03-06 13:19:18
2025-03-06 13:19:18,653 - shroombox - INFO - Config file modified at 2025-03-06 13:19:18.647379, reloading...
2025-03-06 13:19:18,653 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:18,653 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:18,653 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:18,653 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:18,654 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:18,654 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:18,654 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:18,654 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:18,655 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:18,655 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:18,655 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:18,655 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:18,655 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:18,656 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:18,656 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:18,656 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:18,656 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:18,656 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:18,657 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:18,657 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:18,657 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:18,657 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:18,706 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:18,706 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:18,747 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:18,747 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:18,748 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:18,748 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:18,748 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:18,748 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:18,748 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:18,749 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:18,749 - shroombox - INFO - =======================================================
2025-03-06 13:19:18,749 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:20,706 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:20,707 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:20,707 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:20,707 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:20,708 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:20,755 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:20,756 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:20,849 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:20,861 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:20,862 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:20,862 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:20,862 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:20,862 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:20,875 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:20,876 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:20,876 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:20,877 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:20,878 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:20,878 - shroombox - INFO - Last modified time: 2025-03-06 13:19:20
2025-03-06 13:19:20,878 - shroombox - INFO - Last checked time: 2025-03-06 13:19:18
2025-03-06 13:19:20,878 - shroombox - INFO - Current time: 2025-03-06 13:19:20
2025-03-06 13:19:20,879 - shroombox - INFO - Config file modified at 2025-03-06 13:19:20.871378, reloading...
2025-03-06 13:19:20,879 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:20,879 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:20,879 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:20,880 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:20,880 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:20,880 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:20,880 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:20,881 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:20,881 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:20,881 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:20,881 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:20,881 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:20,881 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:20,882 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:20,882 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:20,882 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:20,882 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:20,882 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:20,883 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:20,883 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:20,883 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:20,883 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:20,894 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:20,895 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:20,942 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:20,942 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:20,942 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:20,943 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:20,943 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:20,943 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:20,943 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:20,943 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:20,944 - shroombox - INFO - =======================================================
2025-03-06 13:19:20,944 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:22,897 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:22,897 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:22,898 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:22,898 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:22,898 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:22,939 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:22,940 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:23,041 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:23,052 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:23,052 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:23,052 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:23,053 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:23,053 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:23,067 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:23,068 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:23,068 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:23,069 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:23,070 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:23,070 - shroombox - INFO - Last modified time: 2025-03-06 13:19:23
2025-03-06 13:19:23,070 - shroombox - INFO - Last checked time: 2025-03-06 13:19:20
2025-03-06 13:19:23,071 - shroombox - INFO - Current time: 2025-03-06 13:19:23
2025-03-06 13:19:23,071 - shroombox - INFO - Config file modified at 2025-03-06 13:19:23.063377, reloading...
2025-03-06 13:19:23,071 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:23,071 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:23,072 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:23,072 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:23,072 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:23,072 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:23,073 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:23,073 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:23,073 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:23,073 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:23,073 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:23,073 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:23,074 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:23,074 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:23,074 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:23,074 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:23,074 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:23,075 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:23,075 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:23,075 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:23,075 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:23,075 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:23,085 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:23,086 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:23,131 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:23,131 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:23,132 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:23,132 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:23,132 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:23,132 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:23,132 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:23,133 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:23,133 - shroombox - INFO - =======================================================
2025-03-06 13:19:23,133 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:25,088 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:25,089 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:25,089 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:25,089 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:25,090 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:25,133 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:25,133 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:25,275 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:25,291 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:25,292 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:25,292 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:25,293 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:25,293 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:25,307 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:25,308 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:25,309 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:25,312 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:25,313 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:25,314 - shroombox - INFO - Last modified time: 2025-03-06 13:19:25
2025-03-06 13:19:25,315 - shroombox - INFO - Last checked time: 2025-03-06 13:19:23
2025-03-06 13:19:25,315 - shroombox - INFO - Current time: 2025-03-06 13:19:25
2025-03-06 13:19:25,316 - shroombox - INFO - Config file modified at 2025-03-06 13:19:25.307376, reloading...
2025-03-06 13:19:25,317 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:25,317 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:25,318 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:25,319 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:25,320 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:25,320 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:25,321 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:25,321 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:25,322 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:25,322 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:25,323 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:25,323 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:25,324 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:25,325 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:25,325 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:25,326 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:25,326 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:25,326 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:25,327 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:25,327 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:25,328 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:25,328 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:25,343 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:25,344 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:25,398 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:25,398 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:25,398 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:25,399 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:25,399 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:25,400 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:25,400 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:25,401 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:25,401 - shroombox - INFO - =======================================================
2025-03-06 13:19:25,402 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:27,346 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:27,347 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:27,347 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:27,347 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:27,347 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:27,397 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:27,398 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:27,493 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:27,503 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:27,504 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:27,504 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:27,504 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:27,504 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:27,517 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:27,518 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:27,519 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:27,521 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:27,522 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:27,522 - shroombox - INFO - Last modified time: 2025-03-06 13:19:27
2025-03-06 13:19:27,523 - shroombox - INFO - Last checked time: 2025-03-06 13:19:25
2025-03-06 13:19:27,523 - shroombox - INFO - Current time: 2025-03-06 13:19:27
2025-03-06 13:19:27,524 - shroombox - INFO - Config file modified at 2025-03-06 13:19:27.515375, reloading...
2025-03-06 13:19:27,525 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:27,525 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:27,526 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:27,526 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:27,527 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:27,527 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:27,527 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:27,527 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:27,528 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:27,528 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:27,528 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:27,528 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:27,528 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:27,528 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:27,529 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:27,529 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:27,529 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:27,529 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:27,529 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:27,530 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:27,530 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:27,530 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:27,542 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:27,542 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:27,581 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:27,582 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:27,582 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:27,582 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:27,582 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:27,583 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:27,583 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:27,583 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:27,583 - shroombox - INFO - =======================================================
2025-03-06 13:19:27,583 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:29,543 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:29,543 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:29,544 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:29,545 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:29,545 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:29,592 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:29,593 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:29,733 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:29,744 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:29,745 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:29,745 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:29,745 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:29,745 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:29,758 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:29,758 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:29,759 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:29,760 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:29,761 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:29,761 - shroombox - INFO - Last modified time: 2025-03-06 13:19:29
2025-03-06 13:19:29,762 - shroombox - INFO - Last checked time: 2025-03-06 13:19:27
2025-03-06 13:19:29,762 - shroombox - INFO - Current time: 2025-03-06 13:19:29
2025-03-06 13:19:29,762 - shroombox - INFO - Config file modified at 2025-03-06 13:19:29.755374, reloading...
2025-03-06 13:19:29,762 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:29,763 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:29,763 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:29,763 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:29,763 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:29,764 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:29,764 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:29,764 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:29,764 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:29,764 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:29,765 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:29,765 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:29,765 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:29,765 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:29,765 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:29,766 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:29,766 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:29,766 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:29,766 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:29,766 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:29,766 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:29,767 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:29,777 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:29,778 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:29,815 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:29,816 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:29,816 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:29,816 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:29,816 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:29,816 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:29,817 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:29,817 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:29,817 - shroombox - INFO - =======================================================
2025-03-06 13:19:29,817 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:31,779 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:31,780 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:31,780 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:31,780 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:31,781 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:31,823 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:31,824 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:31,927 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:31,937 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:31,938 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:31,938 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:31,938 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:31,938 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:31,950 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:31,950 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:31,951 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:31,952 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:31,953 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:31,953 - shroombox - INFO - Last modified time: 2025-03-06 13:19:31
2025-03-06 13:19:31,953 - shroombox - INFO - Last checked time: 2025-03-06 13:19:29
2025-03-06 13:19:31,953 - shroombox - INFO - Current time: 2025-03-06 13:19:31
2025-03-06 13:19:31,954 - shroombox - INFO - Config file modified at 2025-03-06 13:19:31.947373, reloading...
2025-03-06 13:19:31,954 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:31,954 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:31,954 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:31,955 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:31,955 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:31,955 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:31,955 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:31,956 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:31,956 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:31,956 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:31,956 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:31,956 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:31,956 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:31,957 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:31,957 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:31,957 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:31,957 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:31,957 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:31,958 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:31,958 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:31,958 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:31,958 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:31,969 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:31,970 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:32,010 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:32,011 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:32,011 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:32,011 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:32,011 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:32,012 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:32,012 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:32,012 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:32,012 - shroombox - INFO - =======================================================
2025-03-06 13:19:32,012 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:33,972 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:33,972 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:33,972 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:33,973 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:33,973 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:34,015 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:34,016 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:34,107 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:34,120 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:34,120 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:34,120 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:34,121 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:34,121 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:34,133 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:34,134 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:34,134 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:34,135 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:34,136 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:34,136 - shroombox - INFO - Last modified time: 2025-03-06 13:19:34
2025-03-06 13:19:34,136 - shroombox - INFO - Last checked time: 2025-03-06 13:19:31
2025-03-06 13:19:34,136 - shroombox - INFO - Current time: 2025-03-06 13:19:34
2025-03-06 13:19:34,137 - shroombox - INFO - Config file modified at 2025-03-06 13:19:34.131372, reloading...
2025-03-06 13:19:34,137 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:34,137 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:34,137 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:34,138 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:34,138 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:34,138 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:34,138 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:34,138 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:34,139 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:34,139 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:34,139 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:34,139 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:34,139 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:34,140 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:34,140 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:34,140 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:34,140 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:34,140 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:34,141 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:34,141 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:34,141 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:34,141 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:34,152 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:34,152 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:34,192 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:34,193 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:34,193 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:34,193 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:34,193 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:34,193 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:34,193 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:34,194 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:34,194 - shroombox - INFO - =======================================================
2025-03-06 13:19:34,194 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:36,154 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:36,155 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:36,155 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:36,155 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:36,156 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:36,199 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:36,200 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:36,299 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:36,313 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:36,313 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:36,313 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:36,313 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:36,314 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:36,328 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:36,328 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:36,329 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:36,330 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:36,330 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:36,331 - shroombox - INFO - Last modified time: 2025-03-06 13:19:36
2025-03-06 13:19:36,331 - shroombox - INFO - Last checked time: 2025-03-06 13:19:34
2025-03-06 13:19:36,331 - shroombox - INFO - Current time: 2025-03-06 13:19:36
2025-03-06 13:19:36,332 - shroombox - INFO - Config file modified at 2025-03-06 13:19:36.323371, reloading...
2025-03-06 13:19:36,332 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:36,332 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:36,333 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:36,333 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:36,333 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:36,333 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:36,334 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:36,334 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:36,334 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:36,334 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:36,334 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:36,334 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:36,335 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:36,335 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:36,335 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:36,335 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:36,335 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:36,336 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:36,336 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:36,336 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:36,336 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:36,336 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:36,348 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:36,348 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:36,388 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:36,388 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:36,388 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:36,389 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:36,389 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:36,389 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:36,389 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:36,389 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:36,389 - shroombox - INFO - =======================================================
2025-03-06 13:19:36,390 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:38,351 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:38,351 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:38,352 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:38,352 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:38,352 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:38,397 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:38,397 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:38,550 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:38,560 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:38,560 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:38,561 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:38,561 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:38,561 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:38,574 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:38,575 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:38,575 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:38,576 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:38,577 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:38,577 - shroombox - INFO - Last modified time: 2025-03-06 13:19:38
2025-03-06 13:19:38,577 - shroombox - INFO - Last checked time: 2025-03-06 13:19:36
2025-03-06 13:19:38,577 - shroombox - INFO - Current time: 2025-03-06 13:19:38
2025-03-06 13:19:38,578 - shroombox - INFO - Config file modified at 2025-03-06 13:19:38.571370, reloading...
2025-03-06 13:19:38,578 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:38,578 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:38,578 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:38,579 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:38,579 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:38,579 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:38,579 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:38,580 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:38,580 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:38,580 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:38,580 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:38,580 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:38,580 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:38,581 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:38,581 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:38,581 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:38,581 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:38,581 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:38,582 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:38,582 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:38,582 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:38,583 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:38,601 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:38,601 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:38,671 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:38,671 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:38,672 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:38,672 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:38,672 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:38,672 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:38,672 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:38,673 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:38,673 - shroombox - INFO - =======================================================
2025-03-06 13:19:38,673 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:40,603 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:40,604 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:40,604 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:40,604 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:40,604 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:40,644 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:40,645 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:40,742 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:40,752 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:40,753 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:40,753 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:40,753 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:40,753 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:40,765 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:40,766 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:40,766 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:40,767 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:40,768 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:40,768 - shroombox - INFO - Last modified time: 2025-03-06 13:19:40
2025-03-06 13:19:40,768 - shroombox - INFO - Last checked time: 2025-03-06 13:19:38
2025-03-06 13:19:40,768 - shroombox - INFO - Current time: 2025-03-06 13:19:40
2025-03-06 13:19:40,769 - shroombox - INFO - Config file modified at 2025-03-06 13:19:40.763369, reloading...
2025-03-06 13:19:40,769 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:40,769 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:40,769 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:40,770 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:40,770 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:40,770 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:40,770 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:40,771 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:40,771 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:40,771 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:40,771 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:40,772 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:40,772 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:40,772 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:40,772 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:40,772 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:40,772 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:40,773 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:40,773 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:40,773 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:40,773 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:40,773 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:40,785 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:40,786 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:40,828 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:40,829 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:40,831 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:40,831 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:40,832 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:40,832 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:40,832 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:40,833 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:40,833 - shroombox - INFO - =======================================================
2025-03-06 13:19:40,834 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:42,785 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:42,786 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:42,786 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:42,786 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:42,787 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:42,833 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:42,833 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:42,930 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:42,942 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:42,942 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:42,942 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:42,943 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:42,943 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:42,957 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:42,957 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:42,957 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:42,959 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:42,959 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:42,959 - shroombox - INFO - Last modified time: 2025-03-06 13:19:42
2025-03-06 13:19:42,960 - shroombox - INFO - Last checked time: 2025-03-06 13:19:40
2025-03-06 13:19:42,960 - shroombox - INFO - Current time: 2025-03-06 13:19:42
2025-03-06 13:19:42,960 - shroombox - INFO - Config file modified at 2025-03-06 13:19:42.951367, reloading...
2025-03-06 13:19:42,961 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:42,961 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:42,961 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:42,961 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:42,962 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:42,962 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:42,963 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:42,963 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:42,963 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:42,963 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:42,963 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:42,964 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:42,964 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:42,964 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:42,964 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:42,964 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:42,964 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:42,965 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:42,965 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:42,965 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:42,965 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:42,965 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:42,978 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:42,979 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:43,016 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:43,017 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:43,017 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:43,017 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:43,018 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:43,018 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:43,018 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:43,019 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:43,019 - shroombox - INFO - =======================================================
2025-03-06 13:19:43,019 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:44,979 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:44,980 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:44,980 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:44,981 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:44,981 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:45,024 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:45,025 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:45,112 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:45,125 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:45,125 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:45,125 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:45,125 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:45,126 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:45,139 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:45,139 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:45,139 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:45,140 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:45,141 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:45,141 - shroombox - INFO - Last modified time: 2025-03-06 13:19:45
2025-03-06 13:19:45,141 - shroombox - INFO - Last checked time: 2025-03-06 13:19:42
2025-03-06 13:19:45,142 - shroombox - INFO - Current time: 2025-03-06 13:19:45
2025-03-06 13:19:45,142 - shroombox - INFO - Config file modified at 2025-03-06 13:19:45.135366, reloading...
2025-03-06 13:19:45,142 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:45,142 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:45,143 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:45,143 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:45,143 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:45,143 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:45,144 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:45,144 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:45,144 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:45,144 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:45,144 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:45,145 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:45,145 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:45,145 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:45,145 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:45,145 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:45,145 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:45,146 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:45,146 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:45,146 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:45,146 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:45,146 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:45,158 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:45,158 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:45,202 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:45,203 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:45,203 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:45,203 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:45,203 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:45,204 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:45,204 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:45,204 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:45,204 - shroombox - INFO - =======================================================
2025-03-06 13:19:45,204 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:47,161 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:47,161 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:47,161 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:47,161 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:47,162 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:47,203 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:47,203 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:47,300 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:47,312 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:47,312 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:47,312 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:47,312 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:47,313 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:47,326 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:47,326 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:47,327 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:47,328 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:47,328 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:47,329 - shroombox - INFO - Last modified time: 2025-03-06 13:19:47
2025-03-06 13:19:47,329 - shroombox - INFO - Last checked time: 2025-03-06 13:19:45
2025-03-06 13:19:47,329 - shroombox - INFO - Current time: 2025-03-06 13:19:47
2025-03-06 13:19:47,329 - shroombox - INFO - Config file modified at 2025-03-06 13:19:47.323364, reloading...
2025-03-06 13:19:47,330 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:47,330 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:47,330 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:47,331 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:47,331 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:47,331 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:47,332 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:47,332 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:47,332 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:47,332 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:47,333 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:47,333 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:47,333 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:47,333 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:47,333 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:47,334 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:47,334 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:47,334 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:47,334 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:47,334 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:47,334 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:47,335 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:47,345 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:47,345 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:47,388 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:47,388 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:47,389 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:47,389 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:47,389 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:47,389 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:47,390 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:47,390 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:47,390 - shroombox - INFO - =======================================================
2025-03-06 13:19:47,390 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:49,346 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:49,346 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:49,346 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:49,346 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:49,347 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:49,405 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:49,405 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:49,540 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:49,552 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:49,553 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:49,553 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:49,553 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:49,553 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:49,565 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:49,566 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:49,566 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:49,567 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:49,568 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:49,568 - shroombox - INFO - Last modified time: 2025-03-06 13:19:49
2025-03-06 13:19:49,568 - shroombox - INFO - Last checked time: 2025-03-06 13:19:47
2025-03-06 13:19:49,568 - shroombox - INFO - Current time: 2025-03-06 13:19:49
2025-03-06 13:19:49,569 - shroombox - INFO - Config file modified at 2025-03-06 13:19:49.563363, reloading...
2025-03-06 13:19:49,569 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:49,569 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:49,569 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:49,569 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:49,570 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:49,570 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:49,570 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:49,571 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:49,571 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:49,571 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:49,571 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:49,571 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:49,571 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:49,572 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:49,572 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:49,572 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:49,572 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:49,572 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:49,573 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:49,573 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:49,573 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:49,573 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:49,583 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:49,584 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:49,621 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:49,621 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:49,622 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:49,622 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:49,622 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:49,622 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:49,622 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:49,623 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:49,623 - shroombox - INFO - =======================================================
2025-03-06 13:19:49,623 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:51,584 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:51,585 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:51,585 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:51,585 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:51,586 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:51,632 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:51,632 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:51,728 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:51,741 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:51,742 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:51,742 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:51,742 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:51,742 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:51,755 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:51,756 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:51,756 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:51,758 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:51,759 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:51,759 - shroombox - INFO - Last modified time: 2025-03-06 13:19:51
2025-03-06 13:19:51,759 - shroombox - INFO - Last checked time: 2025-03-06 13:19:49
2025-03-06 13:19:51,760 - shroombox - INFO - Current time: 2025-03-06 13:19:51
2025-03-06 13:19:51,760 - shroombox - INFO - Config file modified at 2025-03-06 13:19:51.751362, reloading...
2025-03-06 13:19:51,760 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:51,761 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:51,761 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:51,761 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:51,762 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:51,762 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:51,762 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:51,763 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:51,763 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:51,763 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:51,763 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:51,764 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:51,764 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:51,764 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:51,764 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:51,764 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:51,765 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:51,765 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:51,765 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:51,765 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:51,766 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:51,766 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:51,780 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:51,780 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:51,832 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:51,833 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:51,833 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:51,833 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:51,833 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:51,834 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:51,834 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:51,834 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:51,834 - shroombox - INFO - =======================================================
2025-03-06 13:19:51,834 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:53,780 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:53,780 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:53,781 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:53,781 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:53,781 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:53,832 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:53,833 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:53,985 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:53,997 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:53,997 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:53,998 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:53,998 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:53,998 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:54,011 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:54,012 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:54,012 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:54,013 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:54,014 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:54,014 - shroombox - INFO - Last modified time: 2025-03-06 13:19:54
2025-03-06 13:19:54,014 - shroombox - INFO - Last checked time: 2025-03-06 13:19:51
2025-03-06 13:19:54,014 - shroombox - INFO - Current time: 2025-03-06 13:19:54
2025-03-06 13:19:54,015 - shroombox - INFO - Config file modified at 2025-03-06 13:19:54.007360, reloading...
2025-03-06 13:19:54,015 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:54,015 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:54,015 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:54,016 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:54,016 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:54,016 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:54,016 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:54,017 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:54,017 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:54,017 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:54,017 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:54,017 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:54,017 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:54,018 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:54,018 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:54,018 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:54,018 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:54,018 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:54,018 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:54,019 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:54,019 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:54,019 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:54,029 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:54,029 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:54,070 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:54,071 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:54,071 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:54,071 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:54,071 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:54,072 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:54,072 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:54,072 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:54,072 - shroombox - INFO - =======================================================
2025-03-06 13:19:54,072 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:56,032 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:56,032 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:56,032 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:56,033 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:56,033 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:56,077 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:56,077 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:56,171 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:56,185 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:56,186 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:56,186 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:56,187 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:56,187 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:56,200 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:56,200 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:56,201 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:56,202 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:56,202 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:56,203 - shroombox - INFO - Last modified time: 2025-03-06 13:19:56
2025-03-06 13:19:56,203 - shroombox - INFO - Last checked time: 2025-03-06 13:19:54
2025-03-06 13:19:56,203 - shroombox - INFO - Current time: 2025-03-06 13:19:56
2025-03-06 13:19:56,204 - shroombox - INFO - Config file modified at 2025-03-06 13:19:56.195359, reloading...
2025-03-06 13:19:56,204 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:56,205 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:56,205 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:56,205 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:56,206 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:56,207 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:56,207 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:56,207 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:56,207 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:56,207 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:56,208 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:56,208 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:56,208 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:56,208 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:56,208 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:56,209 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:56,209 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:56,209 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:56,209 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:56,209 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:56,210 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:56,210 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:56,219 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:56,219 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:56,261 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:56,262 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:56,262 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:56,262 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:56,263 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:56,263 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:56,263 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:56,263 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:56,263 - shroombox - INFO - =======================================================
2025-03-06 13:19:56,263 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:58,220 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:58,220 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:58,221 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:58,221 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:58,221 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:58,271 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:58,272 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:58,366 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:58,381 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:58,381 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:58,382 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:58,382 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:58,382 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:58,396 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:58,397 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:58,397 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:58,398 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:58,399 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:58,399 - shroombox - INFO - Last modified time: 2025-03-06 13:19:58
2025-03-06 13:19:58,399 - shroombox - INFO - Last checked time: 2025-03-06 13:19:56
2025-03-06 13:19:58,399 - shroombox - INFO - Current time: 2025-03-06 13:19:58
2025-03-06 13:19:58,400 - shroombox - INFO - Config file modified at 2025-03-06 13:19:58.391357, reloading...
2025-03-06 13:19:58,400 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:58,400 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:58,400 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:58,401 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:58,401 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:58,401 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:58,401 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:58,401 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:58,402 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:58,402 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:58,402 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:58,402 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:58,402 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:58,403 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:58,403 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:58,403 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:58,403 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:58,404 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:58,404 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:58,404 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:58,404 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:58,404 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:58,415 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:58,416 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:58,457 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:58,457 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:58,458 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:58,458 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:58,458 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:58,458 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:58,459 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:58,459 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:58,459 - shroombox - INFO - =======================================================
2025-03-06 13:19:58,459 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:00,418 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:00,418 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:00,419 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:00,419 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:00,419 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:00,462 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:00,463 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:00,563 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:00,576 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:00,577 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:00,577 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:00,577 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:00,577 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:00,592 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:00,592 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:00,593 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:00,594 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:00,594 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:00,595 - shroombox - INFO - Last modified time: 2025-03-06 13:20:00
2025-03-06 13:20:00,595 - shroombox - INFO - Last checked time: 2025-03-06 13:19:58
2025-03-06 13:20:00,595 - shroombox - INFO - Current time: 2025-03-06 13:20:00
2025-03-06 13:20:00,595 - shroombox - INFO - Config file modified at 2025-03-06 13:20:00.587355, reloading...
2025-03-06 13:20:00,596 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:00,596 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:00,596 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:00,596 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:00,597 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:00,597 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:00,597 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:00,597 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:00,597 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:00,598 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:00,598 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:00,598 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:00,598 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:00,598 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:00,599 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:00,599 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:00,599 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:00,599 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:00,599 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:00,600 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:00,600 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:00,600 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:00,612 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:00,612 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:00,694 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:00,694 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:00,695 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:00,695 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:00,695 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:00,695 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:00,695 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:00,696 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:00,696 - shroombox - INFO - =======================================================
2025-03-06 13:20:00,696 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:02,613 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:02,614 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:02,614 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:02,615 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:02,615 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:02,660 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:02,660 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:02,780 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:02,791 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:02,791 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:02,791 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:02,792 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:02,792 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:02,805 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:02,805 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:02,806 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:02,807 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:02,807 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:02,808 - shroombox - INFO - Last modified time: 2025-03-06 13:20:02
2025-03-06 13:20:02,808 - shroombox - INFO - Last checked time: 2025-03-06 13:20:00
2025-03-06 13:20:02,808 - shroombox - INFO - Current time: 2025-03-06 13:20:02
2025-03-06 13:20:02,809 - shroombox - INFO - Config file modified at 2025-03-06 13:20:02.799353, reloading...
2025-03-06 13:20:02,809 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:02,809 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:02,810 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:02,810 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:02,810 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:02,810 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:02,811 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:02,811 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:02,811 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:02,811 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:02,811 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:02,812 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:02,812 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:02,812 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:02,812 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:02,812 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:02,813 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:02,813 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:02,813 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:02,813 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:02,813 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:02,813 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:02,826 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:02,827 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:02,877 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:02,877 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:02,877 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:02,877 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:02,878 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:02,878 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:02,878 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:02,878 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:02,878 - shroombox - INFO - =======================================================
2025-03-06 13:20:02,878 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:04,829 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:04,829 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:04,829 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:04,830 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:04,830 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:04,873 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:04,873 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:04,976 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:04,988 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:04,989 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:04,989 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:04,989 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:04,989 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:05,003 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:05,003 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:05,004 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:05,005 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:05,005 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:05,005 - shroombox - INFO - Last modified time: 2025-03-06 13:20:04
2025-03-06 13:20:05,006 - shroombox - INFO - Last checked time: 2025-03-06 13:20:02
2025-03-06 13:20:05,006 - shroombox - INFO - Current time: 2025-03-06 13:20:05
2025-03-06 13:20:05,006 - shroombox - INFO - Config file modified at 2025-03-06 13:20:04.999352, reloading...
2025-03-06 13:20:05,006 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:05,006 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:05,007 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:05,007 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:05,007 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:05,007 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:05,008 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:05,008 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:05,008 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:05,008 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:05,008 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:05,009 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:05,009 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:05,009 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:05,009 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:05,009 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:05,009 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:05,010 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:05,010 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:05,010 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:05,010 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:05,010 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:05,022 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:05,023 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:05,068 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:05,069 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:05,069 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:05,069 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:05,069 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:05,069 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:05,070 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:05,070 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:05,070 - shroombox - INFO - =======================================================
2025-03-06 13:20:05,070 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:07,024 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:07,025 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:07,025 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:07,025 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:07,026 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:07,063 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:07,064 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:07,158 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:07,169 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:07,169 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:07,170 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:07,170 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:07,170 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:07,185 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:07,185 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:07,186 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:07,187 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:07,187 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:07,187 - shroombox - INFO - Last modified time: 2025-03-06 13:20:07
2025-03-06 13:20:07,188 - shroombox - INFO - Last checked time: 2025-03-06 13:20:04
2025-03-06 13:20:07,188 - shroombox - INFO - Current time: 2025-03-06 13:20:07
2025-03-06 13:20:07,188 - shroombox - INFO - Config file modified at 2025-03-06 13:20:07.179350, reloading...
2025-03-06 13:20:07,188 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:07,189 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:07,189 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:07,189 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:07,189 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:07,190 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:07,190 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:07,190 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:07,191 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:07,191 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:07,191 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:07,191 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:07,191 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:07,192 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:07,192 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:07,192 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:07,192 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:07,192 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:07,193 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:07,193 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:07,193 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:07,193 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:07,204 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:07,205 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:07,243 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:07,243 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:07,243 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:07,243 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:07,244 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:07,244 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:07,244 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:07,244 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:07,244 - shroombox - INFO - =======================================================
2025-03-06 13:20:07,245 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:09,205 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:09,205 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:09,206 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:09,206 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:09,206 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:09,286 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:09,286 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:09,411 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:09,422 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:09,422 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:09,422 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:09,423 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:09,423 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:09,436 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:09,436 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:09,437 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:09,439 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:09,440 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:09,441 - shroombox - INFO - Last modified time: 2025-03-06 13:20:09
2025-03-06 13:20:09,441 - shroombox - INFO - Last checked time: 2025-03-06 13:20:07
2025-03-06 13:20:09,441 - shroombox - INFO - Current time: 2025-03-06 13:20:09
2025-03-06 13:20:09,442 - shroombox - INFO - Config file modified at 2025-03-06 13:20:09.435348, reloading...
2025-03-06 13:20:09,443 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:09,443 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:09,443 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:09,444 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:09,444 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:09,445 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:09,445 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:09,445 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:09,446 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:09,446 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:09,446 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:09,446 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:09,446 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:09,447 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:09,447 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:09,447 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:09,447 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:09,447 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:09,448 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:09,448 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:09,448 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:09,448 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:09,458 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:09,458 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:09,498 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:09,498 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:09,498 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:09,498 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:09,499 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:09,499 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:09,499 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:09,499 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:09,499 - shroombox - INFO - =======================================================
2025-03-06 13:20:09,500 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:11,460 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:11,460 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:11,461 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:11,461 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:11,461 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:11,508 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:11,508 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:11,602 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:11,617 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:11,617 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:11,618 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:11,618 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:11,618 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:11,633 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:11,633 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:11,634 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:11,635 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:11,636 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:11,637 - shroombox - INFO - Last modified time: 2025-03-06 13:20:11
2025-03-06 13:20:11,637 - shroombox - INFO - Last checked time: 2025-03-06 13:20:09
2025-03-06 13:20:11,637 - shroombox - INFO - Current time: 2025-03-06 13:20:11
2025-03-06 13:20:11,637 - shroombox - INFO - Config file modified at 2025-03-06 13:20:11.631346, reloading...
2025-03-06 13:20:11,638 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:11,638 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:11,638 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:11,638 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:11,639 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:11,639 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:11,639 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:11,639 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:11,640 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:11,640 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:11,640 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:11,640 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:11,640 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:11,641 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:11,641 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:11,641 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:11,641 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:11,641 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:11,641 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:11,642 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:11,642 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:11,642 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:11,652 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:11,652 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:11,692 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:11,692 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:11,693 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:11,693 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:11,693 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:11,694 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:11,694 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:11,694 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:11,694 - shroombox - INFO - =======================================================
2025-03-06 13:20:11,695 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:13,654 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:13,655 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:13,655 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:13,655 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:13,655 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:13,697 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:13,697 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:13,793 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:13,805 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:13,806 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:13,806 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:13,806 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:13,806 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:13,820 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:13,820 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:13,821 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:13,822 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:13,822 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:13,823 - shroombox - INFO - Last modified time: 2025-03-06 13:20:13
2025-03-06 13:20:13,823 - shroombox - INFO - Last checked time: 2025-03-06 13:20:11
2025-03-06 13:20:13,824 - shroombox - INFO - Current time: 2025-03-06 13:20:13
2025-03-06 13:20:13,824 - shroombox - INFO - Config file modified at 2025-03-06 13:20:13.815344, reloading...
2025-03-06 13:20:13,824 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:13,825 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:13,825 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:13,825 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:13,826 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:13,826 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:13,826 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:13,826 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:13,827 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:13,827 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:13,827 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:13,827 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:13,827 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:13,828 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:13,828 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:13,828 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:13,828 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:13,828 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:13,828 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:13,829 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:13,829 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:13,829 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:13,840 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:13,840 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:13,886 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:13,887 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:13,887 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:13,887 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:13,887 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:13,888 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:13,888 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:13,888 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:13,888 - shroombox - INFO - =======================================================
2025-03-06 13:20:13,888 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:15,843 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:15,843 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:15,843 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:15,844 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:15,844 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:15,912 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:15,912 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:16,012 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:16,024 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:16,024 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:16,025 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:16,025 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:16,025 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:16,039 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:16,039 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:16,040 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:16,041 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:16,041 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:16,042 - shroombox - INFO - Last modified time: 2025-03-06 13:20:16
2025-03-06 13:20:16,042 - shroombox - INFO - Last checked time: 2025-03-06 13:20:13
2025-03-06 13:20:16,042 - shroombox - INFO - Current time: 2025-03-06 13:20:16
2025-03-06 13:20:16,042 - shroombox - INFO - Config file modified at 2025-03-06 13:20:16.035342, reloading...
2025-03-06 13:20:16,043 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:16,043 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:16,043 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:16,043 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:16,044 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:16,044 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:16,044 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:16,044 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:16,044 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:16,045 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:16,045 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:16,045 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:16,045 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:16,045 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:16,046 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:16,046 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:16,046 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:16,046 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:16,046 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:16,046 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:16,047 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:16,047 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:16,059 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:16,060 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:16,101 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:16,102 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:16,102 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:16,103 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:16,103 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:16,103 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:16,104 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:16,104 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:16,104 - shroombox - INFO - =======================================================
2025-03-06 13:20:16,104 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:18,060 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:18,060 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:18,060 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:18,061 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:18,061 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:18,108 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:18,109 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:18,212 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:18,223 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:18,224 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:18,224 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:18,224 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:18,225 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:18,236 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:18,237 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:18,238 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:18,239 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:18,239 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:18,240 - shroombox - INFO - Last modified time: 2025-03-06 13:20:18
2025-03-06 13:20:18,240 - shroombox - INFO - Last checked time: 2025-03-06 13:20:16
2025-03-06 13:20:18,240 - shroombox - INFO - Current time: 2025-03-06 13:20:18
2025-03-06 13:20:18,240 - shroombox - INFO - Config file modified at 2025-03-06 13:20:18.231340, reloading...
2025-03-06 13:20:18,240 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:18,241 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:18,241 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:18,241 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:18,241 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:18,242 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:18,242 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:18,242 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:18,242 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:18,242 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:18,243 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:18,243 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:18,243 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:18,243 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:18,243 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:18,244 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:18,244 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:18,244 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:18,244 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:18,244 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:18,244 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:18,245 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:18,255 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:18,255 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:18,298 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:18,298 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:18,298 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:18,298 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:18,299 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:18,299 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:18,299 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:18,299 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:18,299 - shroombox - INFO - =======================================================
2025-03-06 13:20:18,300 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:20,258 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:20,258 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:20,259 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:20,259 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:20,259 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:20,304 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:20,304 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:20,407 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:20,419 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:20,420 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:20,420 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:20,420 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:20,420 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:20,435 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:20,435 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:20,436 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:20,437 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:20,437 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:20,438 - shroombox - INFO - Last modified time: 2025-03-06 13:20:20
2025-03-06 13:20:20,438 - shroombox - INFO - Last checked time: 2025-03-06 13:20:18
2025-03-06 13:20:20,438 - shroombox - INFO - Current time: 2025-03-06 13:20:20
2025-03-06 13:20:20,438 - shroombox - INFO - Config file modified at 2025-03-06 13:20:20.431338, reloading...
2025-03-06 13:20:20,439 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:20,439 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:20,439 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:20,439 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:20,440 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:20,440 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:20,440 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:20,440 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:20,440 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:20,441 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:20,441 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:20,441 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:20,441 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:20,441 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:20,442 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:20,442 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:20,442 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:20,442 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:20,442 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:20,442 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:20,443 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:20,443 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:20,455 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:20,456 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:20,496 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:20,496 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:20,496 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:20,497 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:20,497 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:20,497 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:20,497 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:20,497 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:20,498 - shroombox - INFO - =======================================================
2025-03-06 13:20:20,498 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:22,458 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:22,459 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:22,459 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:22,459 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:22,460 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:22,500 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:22,501 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:22,595 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:22,605 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:22,605 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:22,605 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:22,605 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:22,606 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:22,618 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:22,619 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:22,619 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:22,620 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:22,621 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:22,621 - shroombox - INFO - Last modified time: 2025-03-06 13:20:22
2025-03-06 13:20:22,621 - shroombox - INFO - Last checked time: 2025-03-06 13:20:20
2025-03-06 13:20:22,622 - shroombox - INFO - Current time: 2025-03-06 13:20:22
2025-03-06 13:20:22,622 - shroombox - INFO - Config file modified at 2025-03-06 13:20:22.615336, reloading...
2025-03-06 13:20:22,622 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:22,622 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:22,622 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:22,623 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:22,623 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:22,623 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:22,624 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:22,624 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:22,624 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:22,624 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:22,624 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:22,624 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:22,625 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:22,625 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:22,625 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:22,625 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:22,625 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:22,626 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:22,626 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:22,626 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:22,626 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:22,626 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:22,637 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:22,637 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:22,723 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:22,724 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:22,724 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:22,724 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:22,725 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:22,725 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:22,725 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:22,725 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:22,726 - shroombox - INFO - =======================================================
2025-03-06 13:20:22,726 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:24,637 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:24,638 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:24,638 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:24,638 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:24,638 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:24,677 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:24,677 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:24,771 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:24,782 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:24,782 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:24,783 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:24,783 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:24,783 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:24,797 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:24,797 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:24,797 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:24,798 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:24,799 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:24,799 - shroombox - INFO - Last modified time: 2025-03-06 13:20:24
2025-03-06 13:20:24,800 - shroombox - INFO - Last checked time: 2025-03-06 13:20:22
2025-03-06 13:20:24,800 - shroombox - INFO - Current time: 2025-03-06 13:20:24
2025-03-06 13:20:24,800 - shroombox - INFO - Config file modified at 2025-03-06 13:20:24.791334, reloading...
2025-03-06 13:20:24,800 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:24,801 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:24,801 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:24,801 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:24,801 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:24,802 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:24,802 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:24,802 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:24,802 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:24,803 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:24,803 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:24,804 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:24,804 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:24,804 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:24,804 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:24,805 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:24,805 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:24,805 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:24,806 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:24,806 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:24,806 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:24,806 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:24,825 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:24,825 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:24,862 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:24,862 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:24,863 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:24,863 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:24,864 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:24,864 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:24,864 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:24,865 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:24,865 - shroombox - INFO - =======================================================
2025-03-06 13:20:24,865 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:26,827 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:26,827 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:26,827 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:26,828 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:26,828 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:26,871 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:26,871 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:26,964 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:26,978 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:26,979 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:26,980 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:26,980 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:26,980 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:26,993 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:26,993 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:26,994 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:26,995 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:26,995 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:26,996 - shroombox - INFO - Last modified time: 2025-03-06 13:20:26
2025-03-06 13:20:26,996 - shroombox - INFO - Last checked time: 2025-03-06 13:20:24
2025-03-06 13:20:26,996 - shroombox - INFO - Current time: 2025-03-06 13:20:26
2025-03-06 13:20:26,996 - shroombox - INFO - Config file modified at 2025-03-06 13:20:26.991332, reloading...
2025-03-06 13:20:26,997 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:26,997 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:26,997 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:26,997 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:26,998 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:26,998 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:26,998 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:26,999 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:26,999 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:26,999 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:26,999 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:26,999 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:27,000 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:27,000 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:27,000 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:27,000 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:27,001 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:27,001 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:27,001 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:27,001 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:27,001 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:27,001 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:27,013 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:27,014 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:27,053 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:27,054 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:27,054 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:27,054 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:27,054 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:27,054 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:27,055 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:27,055 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:27,055 - shroombox - INFO - =======================================================
2025-03-06 13:20:27,055 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:20:29,016 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:29,016 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:29,016 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:20:29,016 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:20:29,017 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:29,060 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:20:29,060 - shroombox - INFO - Setting heater to ON
2025-03-06 13:20:29,152 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:20:29,181 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:20:29,181 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:20:29,182 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:20:29,182 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:20:29,182 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:20:29,196 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:20:29,196 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:20:29,197 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:20:29,198 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:20:29,198 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:29,199 - shroombox - INFO - Last modified time: 2025-03-06 13:20:29
2025-03-06 13:20:29,199 - shroombox - INFO - Last checked time: 2025-03-06 13:20:26
2025-03-06 13:20:29,199 - shroombox - INFO - Current time: 2025-03-06 13:20:29
2025-03-06 13:20:29,199 - shroombox - INFO - Config file modified at 2025-03-06 13:20:29.191329, reloading...
2025-03-06 13:20:29,199 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:20:29,200 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:29,200 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:20:29,200 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:20:29,200 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:20:29,201 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:20:29,201 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:20:29,201 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:20:29,201 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:20:29,201 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:20:29,202 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:20:29,202 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:20:29,202 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:20:29,202 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:20:29,202 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:20:29,202 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:20:29,203 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:20:29,203 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:29,203 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:20:29,203 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:20:29,203 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:20:29,204 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:20:29,213 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:20:29,214 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:20:29,256 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:20:29,256 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:20:29,256 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:20:29,257 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:20:29,257 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:20:29,257 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:20:29,257 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:20:29,257 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:20:29,257 - shroombox - INFO - =======================================================
2025-03-06 13:20:29,258 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
