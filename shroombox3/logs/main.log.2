2025-03-06 13:00:32,472 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:32,474 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:32,547 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 577.6}
2025-03-06 13:00:32,565 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:32,566 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:32,617 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 577.6}
2025-03-06 13:00:37,460 - shroombox.sensor - INFO - Successful measurement at 13:00:37 - CO2: 578.21ppm, Temp: 20.87°C, RH: 32.8%
2025-03-06 13:00:37,461 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.8%, CO2: 578.21ppm
2025-03-06 13:00:37,475 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:37,476 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:37,525 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 577.8}
2025-03-06 13:00:42,444 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:42,444 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:42,492 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.9, 'co2': 577.8}
2025-03-06 13:00:42,507 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:42,508 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:42,557 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.9, 'co2': 577.8}
2025-03-06 13:00:50,467 - shroombox.sensor - INFO - Successful measurement at 13:00:50 - CO2: 577.53ppm, Temp: 20.87°C, RH: 32.85%
2025-03-06 13:00:50,468 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.85%, CO2: 577.53ppm
2025-03-06 13:00:50,481 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:50,482 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:50,552 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 578.1}
2025-03-06 13:00:55,707 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:55,708 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:55,774 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 577.3}
2025-03-06 13:00:55,797 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:00:55,797 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:00:55,860 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 577.3}
2025-03-06 13:01:00,806 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:00,807 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:00,904 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 576.6}
2025-03-06 13:01:00,924 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:00,925 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:00,981 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 576.6}
2025-03-06 13:01:05,917 - shroombox.sensor - INFO - Successful measurement at 13:01:05 - CO2: 575.09ppm, Temp: 20.86°C, RH: 32.78%
2025-03-06 13:01:05,918 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.78%, CO2: 575.09ppm
2025-03-06 13:01:05,929 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:05,930 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:06,006 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.5}
2025-03-06 13:01:10,995 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:10,995 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:11,045 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.4}
2025-03-06 13:01:11,065 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:11,065 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:11,147 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.4}
2025-03-06 13:01:15,992 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:15,992 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:16,040 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.9}
2025-03-06 13:01:16,053 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:16,053 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:16,103 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.9}
2025-03-06 13:01:21,082 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:21,082 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:21,130 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 576.1}
2025-03-06 13:01:21,145 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:21,145 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:21,195 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 576.1}
2025-03-06 13:01:26,498 - shroombox.sensor - INFO - Successful measurement at 13:01:26 - CO2: 576.23ppm, Temp: 20.87°C, RH: 32.81%
2025-03-06 13:01:26,498 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.81%, CO2: 576.23ppm
2025-03-06 13:01:26,510 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:26,511 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:26,559 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.9}
2025-03-06 13:01:32,465 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:32,466 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:32,516 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.7}
2025-03-06 13:01:32,527 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:32,527 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:32,578 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.7}
2025-03-06 13:01:38,497 - shroombox.sensor - INFO - Successful measurement at 13:01:38 - CO2: 575.7ppm, Temp: 20.89°C, RH: 32.81%
2025-03-06 13:01:38,498 - shroombox - INFO - Live measurements - Temp: 20.89°C, RH: 32.81%, CO2: 575.7ppm
2025-03-06 13:01:38,509 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:38,510 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:38,558 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 575.7}
2025-03-06 13:01:44,487 - shroombox.sensor - INFO - Successful measurement at 13:01:44 - CO2: 574.44ppm, Temp: 20.89°C, RH: 32.8%
2025-03-06 13:01:44,488 - shroombox - INFO - Live measurements - Temp: 20.89°C, RH: 32.8%, CO2: 574.44ppm
2025-03-06 13:01:44,505 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:44,506 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:44,554 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 574.7}
2025-03-06 13:01:49,446 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:49,447 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:49,498 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 574.6}
2025-03-06 13:01:49,516 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:49,516 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:49,566 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 574.6}
2025-03-06 13:01:54,536 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:54,536 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:54,610 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.8}
2025-03-06 13:01:54,629 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:01:54,630 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:01:54,679 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.8}
2025-03-06 13:02:00,473 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:00,473 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:00,522 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.2}
2025-03-06 13:02:04,739 - shroombox.sensor - INFO - Successful measurement at 13:02:04 - CO2: nanppm, Temp: nan°C, RH: nan%
2025-03-06 13:02:04,740 - shroombox - INFO - Live measurements - Temp: nan°C, RH: nan%, CO2: nanppm
2025-03-06 13:02:06,446 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:06,447 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:06,495 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.2}
2025-03-06 13:02:06,512 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:06,513 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:06,565 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.2}
2025-03-06 13:02:12,476 - shroombox.sensor - INFO - Successful measurement at 13:02:12 - CO2: 571.89ppm, Temp: 20.86°C, RH: 32.81%
2025-03-06 13:02:12,476 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.81%, CO2: 571.89ppm
2025-03-06 13:02:12,493 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:12,494 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:12,544 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 572.2}
2025-03-06 13:02:18,476 - shroombox.sensor - INFO - Successful measurement at 13:02:18 - CO2: 572.52ppm, Temp: 20.86°C, RH: 32.81%
2025-03-06 13:02:18,477 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.81%, CO2: 572.52ppm
2025-03-06 13:02:18,493 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:18,494 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:18,543 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 572.4}
2025-03-06 13:02:24,453 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:24,453 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:24,514 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.1}
2025-03-06 13:02:24,549 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:24,549 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:24,660 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.1}
2025-03-06 13:02:30,468 - shroombox.sensor - INFO - Successful measurement at 13:02:30 - CO2: 572.91ppm, Temp: 20.89°C, RH: 32.8%
2025-03-06 13:02:30,469 - shroombox - INFO - Live measurements - Temp: 20.89°C, RH: 32.8%, CO2: 572.91ppm
2025-03-06 13:02:30,494 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:30,495 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:30,588 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 572.9}
2025-03-06 13:02:36,453 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:36,454 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:36,502 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 572.9}
2025-03-06 13:02:36,520 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:36,520 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:36,570 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 572.9}
2025-03-06 13:02:42,450 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:42,451 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:42,531 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.0}
2025-03-06 13:02:42,555 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:42,555 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:42,622 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.0}
2025-03-06 13:02:48,451 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:48,452 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:48,501 - shroombox - INFO - Retrieved measurements: {'temperature': 20.8, 'humidity': 32.8, 'co2': 572.7}
2025-03-06 13:02:48,523 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:48,523 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:48,573 - shroombox - INFO - Retrieved measurements: {'temperature': 20.8, 'humidity': 32.8, 'co2': 572.7}
2025-03-06 13:02:54,450 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:54,451 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:54,522 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 573.3}
2025-03-06 13:02:54,540 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:02:54,541 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:02:54,591 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 573.3}
2025-03-06 13:02:59,118 - shroombox - INFO - Environment variables loaded:
2025-03-06 13:02:59,118 - shroombox - INFO - INFLUXDB_URL: http://localhost:8086
2025-03-06 13:02:59,119 - shroombox - INFO - INFLUXDB_ORG: supershrooms
2025-03-06 13:02:59,119 - shroombox - INFO - INFLUXDB_BUCKET: test
2025-03-06 13:02:59,120 - shroombox - INFO - ==================================================
2025-03-06 13:03:00,468 - shroombox.sensor - INFO - Successful measurement at 13:03:00 - CO2: 573.46ppm, Temp: 20.85°C, RH: 32.76%
2025-03-06 13:03:00,468 - shroombox - INFO - Live measurements - Temp: 20.85°C, RH: 32.76%, CO2: 573.46ppm
2025-03-06 13:03:00,488 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:00,488 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:00,544 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.1}
2025-03-06 13:03:00,645 - shroombox - INFO - 
=== Starting Initial Device Scan ===
2025-03-06 13:03:00,646 - shroombox - INFO - 
Before scan - Current settings in settings.json:
2025-03-06 13:03:00,647 - shroombox - INFO - Number of devices: 2
2025-03-06 13:03:00,647 - shroombox - INFO -   - Humidifier (192.168.8.181) - Role: humidifier
2025-03-06 13:03:00,648 - shroombox - INFO -   - Heatmat (192.168.8.164) - Role: heater
2025-03-06 13:03:00,648 - shroombox - INFO - 
Scanning for devices...
2025-03-06 13:03:00,648 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:03:00,648 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:03:05,961 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:03:06,007 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:03:06,046 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:03:06,046 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:03:06,048 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:03:06,048 - shroombox - INFO - 
After scan - Updated settings in settings.json:
2025-03-06 13:03:06,049 - shroombox - INFO - 
Found and saved 2 devices:
2025-03-06 13:03:06,049 - shroombox - INFO - 
Device Details:
2025-03-06 13:03:06,050 - shroombox - INFO -   Name: Heatmat
2025-03-06 13:03:06,050 - shroombox - INFO -   IP: 192.168.8.164
2025-03-06 13:03:06,050 - shroombox - INFO -   MAC: B0-19-21-C4-CE-97
2025-03-06 13:03:06,050 - shroombox - INFO -   Model: P115
2025-03-06 13:03:06,050 - shroombox - INFO -   Role: heater
2025-03-06 13:03:06,050 - shroombox - INFO -   State: OFF
2025-03-06 13:03:06,051 - shroombox - INFO - 
Device Details:
2025-03-06 13:03:06,051 - shroombox - INFO -   Name: Humidifier
2025-03-06 13:03:06,052 - shroombox - INFO -   IP: 192.168.8.181
2025-03-06 13:03:06,052 - shroombox - INFO -   MAC: B0-19-21-C4-C9-9D
2025-03-06 13:03:06,052 - shroombox - INFO -   Model: P115
2025-03-06 13:03:06,052 - shroombox - INFO -   Role: humidifier
2025-03-06 13:03:06,053 - shroombox - INFO -   State: OFF
2025-03-06 13:03:06,053 - shroombox - INFO - 
Changes detected in settings.json!
2025-03-06 13:03:06,053 - shroombox - INFO - Settings file has been updated with new device information.
2025-03-06 13:03:06,054 - shroombox - INFO - 
=== Device Scan Complete ===

2025-03-06 13:03:06,054 - shroombox - INFO - Current working directory: /home/danny/Github/shroombox/shroombox3
2025-03-06 13:03:06,054 - shroombox - INFO - Looking for config at: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:06,055 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:06,056 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:06,056 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:06,056 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:06,057 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:06,057 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:06,058 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:06,058 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:06,059 - shroombox - INFO - Config last modified: 2025-03-06 13:03:06.045006
2025-03-06 13:03:06,059 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:03:06,072 - shroombox.sensor - INFO - SCD30 sensor initialized successfully
2025-03-06 13:03:06,073 - shroombox - INFO - Loaded device assignments - Heater: 192.168.8.164, Humidifier: 192.168.8.181
2025-03-06 13:03:06,073 - shroombox - INFO - 
Initializing PIDs:
2025-03-06 13:03:06,073 - shroombox - INFO - Phase: colonisation
2025-03-06 13:03:06,074 - shroombox - INFO - RH Setpoint: 10.0
2025-03-06 13:03:06,074 - shroombox - INFO - CO2 Setpoint: 500
2025-03-06 13:03:06,074 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:06,075 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:06,075 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:06,075 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:06,076 - shroombox - INFO - Updating humidity PID tunings: (0.2, 0.01, 0.05) -> (0.2, 0.01, 0.0)
2025-03-06 13:03:06,076 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:06,076 - shroombox - INFO - 
=== Initializing InfluxDB Client ===
2025-03-06 13:03:06,076 - shroombox - INFO - URL: http://localhost:8086
2025-03-06 13:03:06,077 - shroombox - INFO - Organization: supershrooms
2025-03-06 13:03:06,077 - shroombox - INFO - Bucket: test
2025-03-06 13:03:06,108 - shroombox - INFO - ✓ InfluxDB connection test successful
2025-03-06 13:03:06,109 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:03:06,109 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:03:06,466 - shroombox.sensor - INFO - Successful measurement at 13:03:06 - CO2: 572.61ppm, Temp: 20.86°C, RH: 32.83%
2025-03-06 13:03:06,466 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.83%, CO2: 572.61ppm
2025-03-06 13:03:06,483 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:06,483 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:06,533 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 573.1}
2025-03-06 13:03:11,123 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:03:11,168 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:03:11,213 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:03:11,214 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:03:11,216 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:03:11,223 - shroombox - INFO - 
=== Starting Main Control Loop ===
2025-03-06 13:03:11,244 - shroombox.sensor - INFO - Successful measurement at 13:03:11 - CO2: 571.54ppm, Temp: 20.87°C, RH: 32.81%
2025-03-06 13:03:11,245 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:11,245 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:11,245 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:11,291 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:11,292 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:11,435 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:11,446 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:11,447 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:11,447 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:11,447 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:11,448 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:11,487 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:11,487 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:11,488 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:11,489 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:11,489 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:11,490 - shroombox - INFO - Last modified time: 2025-03-06 13:03:11
2025-03-06 13:03:11,490 - shroombox - INFO - Last checked time: 2025-03-06 13:03:06
2025-03-06 13:03:11,490 - shroombox - INFO - Current time: 2025-03-06 13:03:11
2025-03-06 13:03:11,491 - shroombox - INFO - Config file modified at 2025-03-06 13:03:11.484961, reloading...
2025-03-06 13:03:11,491 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:11,492 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:11,492 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:11,493 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:11,493 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:11,494 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:11,494 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:11,495 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:11,495 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:11,495 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:11,495 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:11,495 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:11,496 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:11,496 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:11,496 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:11,497 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:11,497 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:11,497 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:11,497 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:11,498 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:11,498 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:11,498 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:11,519 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:11,519 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:12,464 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:12,465 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:12,514 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 571.5}
2025-03-06 13:03:12,532 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:12,532 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:12,584 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 571.5}
2025-03-06 13:03:13,535 - shroombox.sensor - INFO - Successful measurement at 13:03:13 - CO2: 571.58ppm, Temp: 20.86°C, RH: 32.85%
2025-03-06 13:03:13,535 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:13,536 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:13,536 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:13,579 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:13,580 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:13,675 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:13,687 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:13,688 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.9%, Setpoint=10.0%
2025-03-06 13:03:13,688 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:13,689 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.9% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:13,689 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:13,702 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:13,702 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:13,703 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:13,704 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:13,705 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:13,705 - shroombox - INFO - Last modified time: 2025-03-06 13:03:13
2025-03-06 13:03:13,706 - shroombox - INFO - Last checked time: 2025-03-06 13:03:11
2025-03-06 13:03:13,706 - shroombox - INFO - Current time: 2025-03-06 13:03:13
2025-03-06 13:03:13,706 - shroombox - INFO - Config file modified at 2025-03-06 13:03:13.700943, reloading...
2025-03-06 13:03:13,707 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:13,707 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:13,708 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:13,708 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:13,709 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:13,709 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:13,709 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:13,710 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:13,710 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:13,710 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:13,710 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:13,711 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:13,711 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:13,711 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:13,711 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:13,712 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:13,712 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:13,712 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:13,713 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:13,713 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:13,713 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:13,714 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:13,733 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:13,733 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:15,747 - shroombox.sensor - INFO - Successful measurement at 13:03:15 - CO2: 571.63ppm, Temp: 20.89°C, RH: 32.85%
2025-03-06 13:03:15,747 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:15,748 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:15,748 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:15,792 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:15,793 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:15,891 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:15,906 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:15,907 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.9%, Setpoint=10.0%
2025-03-06 13:03:15,907 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:15,908 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.9% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:15,908 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:15,923 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:15,923 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:15,924 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:15,925 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:15,926 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:15,926 - shroombox - INFO - Last modified time: 2025-03-06 13:03:15
2025-03-06 13:03:15,927 - shroombox - INFO - Last checked time: 2025-03-06 13:03:13
2025-03-06 13:03:15,927 - shroombox - INFO - Current time: 2025-03-06 13:03:15
2025-03-06 13:03:15,927 - shroombox - INFO - Config file modified at 2025-03-06 13:03:15.920924, reloading...
2025-03-06 13:03:15,927 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:15,928 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:15,928 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:15,928 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:15,929 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:15,929 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:15,930 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:15,930 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:15,930 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:15,931 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:15,931 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:15,932 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:15,932 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:15,933 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:15,933 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:15,933 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:15,934 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:15,934 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:15,935 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:15,935 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:15,935 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:15,936 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:15,955 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:15,955 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:17,971 - shroombox.sensor - INFO - Successful measurement at 13:03:17 - CO2: 570.75ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:03:17,971 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:17,972 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:17,972 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:18,016 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:18,017 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:18,109 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:18,121 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:18,122 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:18,122 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:18,122 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:18,123 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:18,136 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:18,136 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:18,137 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:18,138 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:18,139 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:18,139 - shroombox - INFO - Last modified time: 2025-03-06 13:03:18
2025-03-06 13:03:18,140 - shroombox - INFO - Last checked time: 2025-03-06 13:03:15
2025-03-06 13:03:18,140 - shroombox - INFO - Current time: 2025-03-06 13:03:18
2025-03-06 13:03:18,140 - shroombox - INFO - Config file modified at 2025-03-06 13:03:18.132906, reloading...
2025-03-06 13:03:18,140 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:18,141 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:18,141 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:18,141 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:18,142 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:18,142 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:18,143 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:18,143 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:18,144 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:18,144 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:18,144 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:18,145 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:18,145 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:18,145 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:18,145 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:18,146 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:18,146 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:18,146 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:18,146 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:18,146 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:18,147 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:18,147 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:18,164 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:18,164 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:18,460 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:18,461 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:18,510 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 570.8}
2025-03-06 13:03:18,528 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:18,528 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:18,578 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 570.8}
2025-03-06 13:03:20,180 - shroombox.sensor - INFO - Successful measurement at 13:03:20 - CO2: 570.66ppm, Temp: 20.86°C, RH: 32.8%
2025-03-06 13:03:20,181 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:20,181 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:20,182 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:20,226 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:20,227 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:20,321 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:20,332 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:20,332 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:20,332 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:20,333 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:20,333 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:20,345 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:20,346 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:20,347 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:20,350 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:20,352 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:20,353 - shroombox - INFO - Last modified time: 2025-03-06 13:03:20
2025-03-06 13:03:20,353 - shroombox - INFO - Last checked time: 2025-03-06 13:03:18
2025-03-06 13:03:20,354 - shroombox - INFO - Current time: 2025-03-06 13:03:20
2025-03-06 13:03:20,355 - shroombox - INFO - Config file modified at 2025-03-06 13:03:20.344888, reloading...
2025-03-06 13:03:20,356 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:20,356 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:20,357 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:20,358 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:20,358 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:20,359 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:20,360 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:20,361 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:20,361 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:20,362 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:20,363 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:20,363 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:20,364 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:20,365 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:20,365 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:20,366 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:20,367 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:20,367 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:20,368 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:20,369 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:20,369 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:20,370 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:20,388 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:20,388 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:22,404 - shroombox.sensor - INFO - Successful measurement at 13:03:22 - CO2: 570.94ppm, Temp: 20.87°C, RH: 32.75%
2025-03-06 13:03:22,404 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:22,405 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:22,405 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:22,451 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:22,452 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:22,544 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:22,557 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:22,558 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:22,558 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:22,558 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:22,559 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:22,574 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:22,575 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:22,575 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:22,577 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:22,577 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:22,578 - shroombox - INFO - Last modified time: 2025-03-06 13:03:22
2025-03-06 13:03:22,578 - shroombox - INFO - Last checked time: 2025-03-06 13:03:20
2025-03-06 13:03:22,578 - shroombox - INFO - Current time: 2025-03-06 13:03:22
2025-03-06 13:03:22,578 - shroombox - INFO - Config file modified at 2025-03-06 13:03:22.572870, reloading...
2025-03-06 13:03:22,579 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:22,580 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:22,580 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:22,580 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:22,581 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:22,581 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:22,582 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:22,582 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:22,582 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:22,582 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:22,583 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:22,583 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:22,583 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:22,583 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:22,583 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:22,584 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:22,584 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:22,584 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:22,584 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:22,585 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:22,585 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:22,585 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:22,603 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:22,604 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:24,476 - shroombox.sensor - INFO - Successful measurement at 13:03:24 - CO2: 571.31ppm, Temp: 20.86°C, RH: 32.78%
2025-03-06 13:03:24,477 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.78%, CO2: 571.31ppm
2025-03-06 13:03:24,494 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:24,494 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:24,544 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 570.9}
2025-03-06 13:03:24,605 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:26,614 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:28,635 - shroombox.sensor - INFO - Successful measurement at 13:03:28 - CO2: 571.54ppm, Temp: 20.87°C, RH: 32.72%
2025-03-06 13:03:28,635 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:28,636 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:28,636 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:28,680 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:28,681 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:28,775 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:28,785 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:28,786 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=10.0%
2025-03-06 13:03:28,786 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:28,786 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.7% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:28,787 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:28,800 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:28,800 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:28,801 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:28,802 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:28,802 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:28,803 - shroombox - INFO - Last modified time: 2025-03-06 13:03:28
2025-03-06 13:03:28,803 - shroombox - INFO - Last checked time: 2025-03-06 13:03:22
2025-03-06 13:03:28,803 - shroombox - INFO - Current time: 2025-03-06 13:03:28
2025-03-06 13:03:28,804 - shroombox - INFO - Config file modified at 2025-03-06 13:03:28.796819, reloading...
2025-03-06 13:03:28,804 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:28,805 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:28,805 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:28,805 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:28,806 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:28,806 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:28,807 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:28,807 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:28,808 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:28,808 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:28,808 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:28,809 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:28,809 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:28,810 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:28,810 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:28,810 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:28,811 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:28,812 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:28,813 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:28,814 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:28,815 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:28,816 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:28,833 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:28,834 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:30,482 - shroombox.sensor - INFO - Successful measurement at 13:03:30 - CO2: 572.06ppm, Temp: 20.87°C, RH: 32.73%
2025-03-06 13:03:30,483 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.73%, CO2: 572.06ppm
2025-03-06 13:03:30,509 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:30,509 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:30,610 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 571.5}
2025-03-06 13:03:30,835 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:32,856 - shroombox.sensor - INFO - Successful measurement at 13:03:32 - CO2: 571.98ppm, Temp: 20.87°C, RH: 32.73%
2025-03-06 13:03:32,856 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:32,857 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:32,857 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:32,902 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:32,903 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:32,996 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:33,009 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:33,010 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=10.0%
2025-03-06 13:03:33,010 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:33,011 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.7% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:33,011 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:33,028 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:33,029 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:33,031 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:33,033 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:33,034 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:33,034 - shroombox - INFO - Last modified time: 2025-03-06 13:03:33
2025-03-06 13:03:33,035 - shroombox - INFO - Last checked time: 2025-03-06 13:03:28
2025-03-06 13:03:33,035 - shroombox - INFO - Current time: 2025-03-06 13:03:33
2025-03-06 13:03:33,035 - shroombox - INFO - Config file modified at 2025-03-06 13:03:33.028784, reloading...
2025-03-06 13:03:33,036 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:33,036 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:33,036 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:33,037 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:33,037 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:33,037 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:33,038 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:33,038 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:33,038 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:33,038 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:33,038 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:33,039 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:33,039 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:33,040 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:33,040 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:33,040 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:33,041 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:33,041 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:33,042 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:33,042 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:33,043 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:33,043 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:33,059 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:33,060 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:35,076 - shroombox.sensor - INFO - Successful measurement at 13:03:35 - CO2: 571.99ppm, Temp: 20.89°C, RH: 32.72%
2025-03-06 13:03:35,076 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:35,076 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:35,077 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:35,119 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:35,119 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:35,211 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:35,222 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:35,223 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=10.0%
2025-03-06 13:03:35,224 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:35,225 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.7% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:35,226 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:35,239 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:35,239 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:35,240 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:35,241 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:35,242 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:35,242 - shroombox - INFO - Last modified time: 2025-03-06 13:03:35
2025-03-06 13:03:35,243 - shroombox - INFO - Last checked time: 2025-03-06 13:03:33
2025-03-06 13:03:35,243 - shroombox - INFO - Current time: 2025-03-06 13:03:35
2025-03-06 13:03:35,243 - shroombox - INFO - Config file modified at 2025-03-06 13:03:35.236766, reloading...
2025-03-06 13:03:35,244 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:35,244 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:35,245 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:35,245 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:35,247 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:35,247 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:35,248 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:35,248 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:35,248 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:35,248 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:35,249 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:35,249 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:35,250 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:35,250 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:35,250 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:35,251 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:35,251 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:35,251 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:35,252 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:35,252 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:35,252 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:35,252 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:35,269 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:35,270 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:36,476 - shroombox.sensor - INFO - Successful measurement at 13:03:36 - CO2: 571.78ppm, Temp: 20.89°C, RH: 32.69%
2025-03-06 13:03:36,476 - shroombox - INFO - Live measurements - Temp: 20.89°C, RH: 32.69%, CO2: 571.78ppm
2025-03-06 13:03:36,494 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:36,494 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:36,543 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 572.0}
2025-03-06 13:03:37,271 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:39,291 - shroombox.sensor - INFO - Successful measurement at 13:03:39 - CO2: 571.73ppm, Temp: 20.86°C, RH: 32.72%
2025-03-06 13:03:39,292 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:39,292 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:39,292 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:39,336 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:39,337 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:39,430 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:39,444 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:39,444 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=10.0%
2025-03-06 13:03:39,444 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:39,445 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.7% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:39,445 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:39,458 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:39,459 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:39,459 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:39,461 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:39,462 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:39,462 - shroombox - INFO - Last modified time: 2025-03-06 13:03:39
2025-03-06 13:03:39,463 - shroombox - INFO - Last checked time: 2025-03-06 13:03:35
2025-03-06 13:03:39,463 - shroombox - INFO - Current time: 2025-03-06 13:03:39
2025-03-06 13:03:39,464 - shroombox - INFO - Config file modified at 2025-03-06 13:03:39.456732, reloading...
2025-03-06 13:03:39,465 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:39,465 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:39,466 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:39,467 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:39,467 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:39,468 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:39,469 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:39,469 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:39,470 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:39,470 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:39,470 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:39,471 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:39,471 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:39,472 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:39,473 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:39,473 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:39,474 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:39,474 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:39,474 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:39,475 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:39,475 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:39,476 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:39,493 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:39,494 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:41,509 - shroombox.sensor - INFO - Successful measurement at 13:03:41 - CO2: 572.2ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:03:41,510 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:41,511 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:41,511 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:41,551 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:41,551 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:41,640 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:41,653 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:41,654 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:41,655 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:41,656 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:41,656 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:41,669 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:41,670 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:41,671 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:41,672 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:41,673 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:41,673 - shroombox - INFO - Last modified time: 2025-03-06 13:03:41
2025-03-06 13:03:41,674 - shroombox - INFO - Last checked time: 2025-03-06 13:03:39
2025-03-06 13:03:41,674 - shroombox - INFO - Current time: 2025-03-06 13:03:41
2025-03-06 13:03:41,674 - shroombox - INFO - Config file modified at 2025-03-06 13:03:41.668714, reloading...
2025-03-06 13:03:41,675 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:41,676 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:41,676 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:41,677 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:41,677 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:41,678 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:41,678 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:41,678 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:41,679 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:41,679 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:41,679 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:41,680 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:41,680 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:41,680 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:41,681 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:41,681 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:41,682 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:41,682 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:41,682 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:41,682 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:41,683 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:41,683 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:41,700 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:41,701 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:42,462 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:42,462 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:42,511 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 572.2}
2025-03-06 13:03:42,528 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:42,528 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:42,578 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 572.2}
2025-03-06 13:03:43,717 - shroombox.sensor - INFO - Successful measurement at 13:03:43 - CO2: 572.17ppm, Temp: 20.89°C, RH: 32.72%
2025-03-06 13:03:43,717 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:43,717 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:43,718 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:43,766 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:43,767 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:43,865 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:43,874 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:43,875 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=10.0%
2025-03-06 13:03:43,875 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:43,875 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.7% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:43,876 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:43,889 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:43,890 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:43,890 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:43,891 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:43,892 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:43,892 - shroombox - INFO - Last modified time: 2025-03-06 13:03:43
2025-03-06 13:03:43,893 - shroombox - INFO - Last checked time: 2025-03-06 13:03:41
2025-03-06 13:03:43,893 - shroombox - INFO - Current time: 2025-03-06 13:03:43
2025-03-06 13:03:43,893 - shroombox - INFO - Config file modified at 2025-03-06 13:03:43.888696, reloading...
2025-03-06 13:03:43,894 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:43,894 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:43,895 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:43,895 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:43,895 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:43,896 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:43,896 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:43,897 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:43,897 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:43,897 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:43,898 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:43,898 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:43,898 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:43,899 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:43,899 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:43,900 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:43,900 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:43,900 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:43,900 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:43,901 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:43,901 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:43,901 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:43,919 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:43,919 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:45,939 - shroombox.sensor - INFO - Successful measurement at 13:03:45 - CO2: 571.56ppm, Temp: 20.86°C, RH: 32.78%
2025-03-06 13:03:45,940 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:45,941 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:45,941 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:45,987 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:45,988 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:46,087 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:46,106 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:46,107 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:46,108 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:46,109 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:46,110 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:46,125 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:46,126 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:46,127 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:46,130 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:46,131 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:46,133 - shroombox - INFO - Last modified time: 2025-03-06 13:03:46
2025-03-06 13:03:46,134 - shroombox - INFO - Last checked time: 2025-03-06 13:03:43
2025-03-06 13:03:46,135 - shroombox - INFO - Current time: 2025-03-06 13:03:46
2025-03-06 13:03:46,136 - shroombox - INFO - Config file modified at 2025-03-06 13:03:46.124677, reloading...
2025-03-06 13:03:46,137 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:46,139 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:46,142 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:46,143 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:46,146 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:46,147 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:46,148 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:46,150 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:46,153 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:46,154 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:46,155 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:46,156 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:46,158 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:46,159 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:46,159 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:46,160 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:46,160 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:46,161 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:46,161 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:46,162 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:46,163 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:46,164 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:46,184 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:46,184 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:48,199 - shroombox.sensor - INFO - Successful measurement at 13:03:48 - CO2: 571.74ppm, Temp: 20.85°C, RH: 32.75%
2025-03-06 13:03:48,199 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:48,200 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:48,200 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:48,241 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:48,241 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:48,332 - shroombox - INFO - Heater set to OFF - Temp: 20.85°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:48,344 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:48,344 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:48,345 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:48,346 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:48,346 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:48,360 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:48,360 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:48,361 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:48,363 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:48,364 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:48,366 - shroombox - INFO - Last modified time: 2025-03-06 13:03:48
2025-03-06 13:03:48,367 - shroombox - INFO - Last checked time: 2025-03-06 13:03:46
2025-03-06 13:03:48,368 - shroombox - INFO - Current time: 2025-03-06 13:03:48
2025-03-06 13:03:48,369 - shroombox - INFO - Config file modified at 2025-03-06 13:03:48.356659, reloading...
2025-03-06 13:03:48,369 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:48,370 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:48,371 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:48,371 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:48,373 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:48,374 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:48,374 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:48,375 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:48,375 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:48,375 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:48,375 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:48,376 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:48,376 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:48,376 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:48,376 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:48,377 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:48,377 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:48,377 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:48,377 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:48,378 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:48,378 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:48,379 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:48,408 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:48,409 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:48,456 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:48,457 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:48,507 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 571.7}
2025-03-06 13:03:48,525 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:48,525 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:48,576 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 571.7}
2025-03-06 13:03:50,423 - shroombox.sensor - INFO - Successful measurement at 13:03:50 - CO2: 571.69ppm, Temp: 20.87°C, RH: 32.78%
2025-03-06 13:03:50,423 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:50,423 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:50,424 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:50,464 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:50,465 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:50,557 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:50,568 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:50,568 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=10.0%
2025-03-06 13:03:50,568 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:50,569 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.8% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:50,569 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:50,582 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:50,583 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:50,584 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:50,585 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:50,585 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:50,586 - shroombox - INFO - Last modified time: 2025-03-06 13:03:50
2025-03-06 13:03:50,586 - shroombox - INFO - Last checked time: 2025-03-06 13:03:48
2025-03-06 13:03:50,587 - shroombox - INFO - Current time: 2025-03-06 13:03:50
2025-03-06 13:03:50,587 - shroombox - INFO - Config file modified at 2025-03-06 13:03:50.580641, reloading...
2025-03-06 13:03:50,587 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:50,588 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:50,588 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:50,589 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:50,589 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:50,590 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:50,590 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:50,590 - shroombox - INFO -   Humidity setpoint: 10.0%
2025-03-06 13:03:50,590 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:50,591 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:50,591 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:50,592 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:50,592 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 10.0
2025-03-06 13:03:50,593 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:50,593 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:50,593 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:50,594 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:50,594 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:50,594 - shroombox - INFO - Humidity setpoint: 10.0%
2025-03-06 13:03:50,595 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:50,595 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:50,596 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:50,613 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:50,613 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:52,629 - shroombox.sensor - INFO - Successful measurement at 13:03:52 - CO2: 571.44ppm, Temp: 20.87°C, RH: 32.72%
2025-03-06 13:03:52,629 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:52,630 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:52,630 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:52,684 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:52,685 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:52,780 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:52,792 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:52,793 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=10.0%
2025-03-06 13:03:52,794 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:52,794 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.7% is above setpoint 10.0%, turning humidifier OFF
2025-03-06 13:03:52,795 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:03:52,808 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:03:52,808 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:03:52,809 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:03:52,810 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:52,811 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:52,811 - shroombox - INFO - Last modified time: 2025-03-06 13:03:52
2025-03-06 13:03:52,812 - shroombox - INFO - Last checked time: 2025-03-06 13:03:50
2025-03-06 13:03:52,812 - shroombox - INFO - Current time: 2025-03-06 13:03:52
2025-03-06 13:03:52,812 - shroombox - INFO - Config file modified at 2025-03-06 13:03:52.804623, reloading...
2025-03-06 13:03:52,813 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:03:52,814 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:52,815 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:52,815 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:52,817 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:52,817 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:52,818 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:52,819 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:03:52,819 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:52,820 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:52,821 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:52,821 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:52,823 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 10.0 -> 40.0
2025-03-06 13:03:52,823 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:52,824 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:52,824 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:52,825 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:52,826 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:52,826 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:03:52,827 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:52,828 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:52,828 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:52,852 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:52,855 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:54,455 - shroombox.sensor - INFO - Successful measurement at 13:03:54 - CO2: 571.81ppm, Temp: 20.89°C, RH: 32.71%
2025-03-06 13:03:54,456 - shroombox - INFO - Live measurements - Temp: 20.89°C, RH: 32.71%, CO2: 571.81ppm
2025-03-06 13:03:54,472 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:54,472 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:03:54,522 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 571.4}
2025-03-06 13:03:54,852 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:56,875 - shroombox.sensor - INFO - Successful measurement at 13:03:56 - CO2: 571.04ppm, Temp: 20.85°C, RH: 32.8%
2025-03-06 13:03:56,876 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:56,876 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:56,877 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:56,920 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:56,921 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:57,067 - shroombox - INFO - Heater set to OFF - Temp: 20.85°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:57,079 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:57,080 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:03:57,080 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:03:57,080 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 5.1s (min=0.5s)
2025-03-06 13:03:57,081 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 5.1s
2025-03-06 13:03:57,081 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:03:57,215 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to ON
2025-03-06 13:03:57,216 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state ON
2025-03-06 13:03:57,218 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to ON
2025-03-06 13:03:57,220 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:03:57,220 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:03:57,221 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:57,221 - shroombox - INFO - Last modified time: 2025-03-06 13:03:57
2025-03-06 13:03:57,221 - shroombox - INFO - Last checked time: 2025-03-06 13:03:52
2025-03-06 13:03:57,222 - shroombox - INFO - Current time: 2025-03-06 13:03:57
2025-03-06 13:03:57,222 - shroombox - INFO - Config file modified at 2025-03-06 13:03:57.216587, reloading...
2025-03-06 13:03:57,223 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:03:57,224 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:57,225 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:57,226 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:57,226 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:57,227 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:57,228 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:57,228 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:03:57,228 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:57,228 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:57,229 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:57,229 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:57,229 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:03:57,229 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:57,230 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:57,230 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:57,230 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:57,230 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:57,231 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:03:57,231 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:57,231 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:57,231 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:57,250 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:57,250 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:03:59,267 - shroombox.sensor - INFO - Successful measurement at 13:03:59 - CO2: 571.0ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:03:59,267 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:03:59,267 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:03:59,268 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:03:59,308 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:03:59,308 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:03:59,416 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:03:59,429 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:03:59,430 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:03:59,431 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:03:59,431 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 2.8 seconds left
2025-03-06 13:03:59,431 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:03:59,432 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:59,433 - shroombox - INFO - Last modified time: 2025-03-06 13:03:59
2025-03-06 13:03:59,433 - shroombox - INFO - Last checked time: 2025-03-06 13:03:57
2025-03-06 13:03:59,434 - shroombox - INFO - Current time: 2025-03-06 13:03:59
2025-03-06 13:03:59,434 - shroombox - INFO - Config file modified at 2025-03-06 13:03:59.412570, reloading...
2025-03-06 13:03:59,435 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:03:59,435 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:59,435 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:03:59,436 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:03:59,436 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:03:59,437 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:03:59,437 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:03:59,438 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:03:59,438 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:03:59,438 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:03:59,439 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:03:59,439 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:03:59,440 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:03:59,441 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:03:59,442 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:03:59,442 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:03:59,443 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:03:59,443 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:03:59,444 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:03:59,444 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:03:59,447 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:03:59,447 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:03:59,471 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:03:59,472 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:00,464 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:00,464 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:00,514 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 571.0}
2025-03-06 13:04:00,535 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:00,536 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:00,615 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 571.0}
2025-03-06 13:04:01,487 - shroombox.sensor - INFO - Successful measurement at 13:04:01 - CO2: 570.88ppm, Temp: 20.86°C, RH: 32.78%
2025-03-06 13:04:01,488 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:01,489 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:01,489 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:01,543 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:01,544 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:01,654 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:01,734 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:01,734 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:04:01,735 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:01,735 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 0.5 seconds left
2025-03-06 13:04:01,735 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:01,736 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:01,736 - shroombox - INFO - Last modified time: 2025-03-06 13:04:01
2025-03-06 13:04:01,738 - shroombox - INFO - Last checked time: 2025-03-06 13:03:59
2025-03-06 13:04:01,740 - shroombox - INFO - Current time: 2025-03-06 13:04:01
2025-03-06 13:04:01,740 - shroombox - INFO - Config file modified at 2025-03-06 13:04:01.648551, reloading...
2025-03-06 13:04:01,741 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:01,741 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:01,742 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:01,742 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:01,743 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:01,743 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:01,743 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:01,744 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:01,744 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:01,744 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:01,745 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:01,745 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:01,745 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:01,749 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:01,752 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:01,753 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:01,754 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:01,756 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:01,757 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:01,758 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:01,759 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:01,760 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:02,089 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:02,089 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:04,104 - shroombox.sensor - INFO - Successful measurement at 13:04:04 - CO2: 570.7ppm, Temp: 20.86°C, RH: 32.73%
2025-03-06 13:04:04,105 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:04,105 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:04,106 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:04,146 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:04,147 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:04,253 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:04,267 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:04,268 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:04,268 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:04,268 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -2.1 seconds left
2025-03-06 13:04:04,268 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:04:04,269 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:04:04,437 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:04:04,438 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:04:04,440 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from ON to OFF
2025-03-06 13:04:04,446 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:04,448 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:04,448 - shroombox - INFO - Last modified time: 2025-03-06 13:04:04
2025-03-06 13:04:04,449 - shroombox - INFO - Last checked time: 2025-03-06 13:04:01
2025-03-06 13:04:04,449 - shroombox - INFO - Current time: 2025-03-06 13:04:04
2025-03-06 13:04:04,450 - shroombox - INFO - Config file modified at 2025-03-06 13:04:04.440529, reloading...
2025-03-06 13:04:04,451 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:04:04,452 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:04,453 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:04,454 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:04,455 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:04,455 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:04,456 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:04,456 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:04,457 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:04,457 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:04,458 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:04,459 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:04,459 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:04,460 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:04,461 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:04,461 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:04,462 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:04,462 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:04,463 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:04,463 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:04,464 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:04,465 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:04,497 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:04,498 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:06,476 - shroombox.sensor - INFO - Successful measurement at 13:04:06 - CO2: 570.67ppm, Temp: 20.87°C, RH: 32.72%
2025-03-06 13:04:06,477 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.72%, CO2: 570.67ppm
2025-03-06 13:04:06,494 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:06,494 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:06,500 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:06,548 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 570.7}
2025-03-06 13:04:08,524 - shroombox.sensor - INFO - Successful measurement at 13:04:08 - CO2: 570.48ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:04:08,525 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:08,525 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:08,526 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:08,570 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:08,570 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:08,667 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:08,693 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:08,694 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:04:08,694 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:04:08,695 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 6.0s (min=0.5s)
2025-03-06 13:04:08,696 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 6.0s
2025-03-06 13:04:08,696 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:04:08,828 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to ON
2025-03-06 13:04:08,829 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state ON
2025-03-06 13:04:08,830 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to ON
2025-03-06 13:04:08,832 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:08,833 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:04:08,835 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:08,836 - shroombox - INFO - Last modified time: 2025-03-06 13:04:08
2025-03-06 13:04:08,837 - shroombox - INFO - Last checked time: 2025-03-06 13:04:04
2025-03-06 13:04:08,838 - shroombox - INFO - Current time: 2025-03-06 13:04:08
2025-03-06 13:04:08,838 - shroombox - INFO - Config file modified at 2025-03-06 13:04:08.828493, reloading...
2025-03-06 13:04:08,839 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:08,840 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:08,841 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:08,841 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:08,842 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:08,843 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:08,843 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:08,844 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:08,845 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:08,845 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:08,846 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:08,847 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:08,848 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:08,849 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:08,849 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:08,853 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:08,854 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:08,854 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:08,855 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:08,855 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:08,856 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:08,857 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:09,708 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:09,709 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:11,724 - shroombox.sensor - INFO - Successful measurement at 13:04:11 - CO2: 570.02ppm, Temp: 20.87°C, RH: 32.75%
2025-03-06 13:04:11,724 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:11,725 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:11,725 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:11,767 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:11,768 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:11,864 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:11,882 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:11,883 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:04:11,883 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:11,884 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 2.8 seconds left
2025-03-06 13:04:11,885 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:11,885 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:11,886 - shroombox - INFO - Last modified time: 2025-03-06 13:04:11
2025-03-06 13:04:11,886 - shroombox - INFO - Last checked time: 2025-03-06 13:04:08
2025-03-06 13:04:11,887 - shroombox - INFO - Current time: 2025-03-06 13:04:11
2025-03-06 13:04:11,887 - shroombox - INFO - Config file modified at 2025-03-06 13:04:11.860469, reloading...
2025-03-06 13:04:11,888 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:11,888 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:11,889 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:11,889 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:11,890 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:11,890 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:11,891 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:11,892 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:11,892 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:11,893 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:11,893 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:11,893 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:11,894 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:11,896 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:11,896 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:11,897 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:11,897 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:11,898 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:11,898 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:11,899 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:11,899 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:11,900 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:11,920 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:11,920 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:12,473 - shroombox.sensor - INFO - Successful measurement at 13:04:12 - CO2: 569.9ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:04:12,474 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.76%, CO2: 569.9ppm
2025-03-06 13:04:12,493 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:12,493 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:12,550 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 570.0}
2025-03-06 13:04:13,921 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:15,943 - shroombox.sensor - INFO - Successful measurement at 13:04:15 - CO2: 569.58ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:04:15,943 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:15,944 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:15,944 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:15,987 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:15,988 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:16,079 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:17,222 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:17,223 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:04:17,223 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:17,224 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -2.6 seconds left
2025-03-06 13:04:17,224 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:04:17,225 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:04:17,398 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:04:17,398 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:04:17,399 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from ON to OFF
2025-03-06 13:04:17,400 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:17,401 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:17,401 - shroombox - INFO - Last modified time: 2025-03-06 13:04:17
2025-03-06 13:04:17,401 - shroombox - INFO - Last checked time: 2025-03-06 13:04:11
2025-03-06 13:04:17,402 - shroombox - INFO - Current time: 2025-03-06 13:04:17
2025-03-06 13:04:17,402 - shroombox - INFO - Config file modified at 2025-03-06 13:04:17.396424, reloading...
2025-03-06 13:04:17,402 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:04:17,403 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:17,404 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:17,404 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:17,404 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:17,405 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:17,405 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:17,405 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:17,406 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:17,406 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:17,406 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:17,406 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:17,407 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:17,407 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:17,407 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:17,408 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:17,408 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:17,408 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:17,408 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:17,409 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:17,409 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:17,409 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:17,958 - shroombox.sensor - INFO - Successful measurement at 13:04:17 - CO2: 569.57ppm, Temp: 20.87°C, RH: 32.78%
2025-03-06 13:04:18,000 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:04:18,003 - shroombox - INFO - Current temperature: 20.9°C
2025-03-06 13:04:18,003 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:18,003 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:04:18,004 - shroombox - INFO - Heat-on threshold: 9.5°C
2025-03-06 13:04:18,004 - shroombox - INFO - Criteria met for heating? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:18,004 - shroombox - INFO - Current heater state according to Tapo: OFF
2025-03-06 13:04:18,004 - shroombox - INFO - Local tracking of heater state: OFF
2025-03-06 13:04:18,004 - shroombox - INFO - =======================================================
2025-03-06 13:04:18,004 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:04:18,472 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:18,472 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:18,521 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 569.6}
2025-03-06 13:04:18,542 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:18,542 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:18,595 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 569.6}
2025-03-06 13:04:19,972 - shroombox.sensor - INFO - Successful measurement at 13:04:19 - CO2: 569.31ppm, Temp: 20.89°C, RH: 32.72%
2025-03-06 13:04:19,973 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:19,973 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:19,973 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:20,017 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:20,018 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:20,117 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:20,139 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:20,139 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:20,139 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:04:20,140 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 6.8s (min=0.5s)
2025-03-06 13:04:20,140 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 6.8s
2025-03-06 13:04:20,140 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:04:20,276 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to ON
2025-03-06 13:04:20,276 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state ON
2025-03-06 13:04:20,277 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to ON
2025-03-06 13:04:20,278 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:20,278 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:04:20,279 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:20,279 - shroombox - INFO - Last modified time: 2025-03-06 13:04:20
2025-03-06 13:04:20,280 - shroombox - INFO - Last checked time: 2025-03-06 13:04:17
2025-03-06 13:04:20,280 - shroombox - INFO - Current time: 2025-03-06 13:04:20
2025-03-06 13:04:20,280 - shroombox - INFO - Config file modified at 2025-03-06 13:04:20.272401, reloading...
2025-03-06 13:04:20,280 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:20,281 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:20,281 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:20,282 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:20,283 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:20,283 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:20,284 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:20,284 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:20,284 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:20,285 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:20,285 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:20,285 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:20,286 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:20,287 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:20,287 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:20,288 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:20,288 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:20,289 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:20,289 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:20,289 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:20,290 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:20,290 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:20,308 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:20,308 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:22,326 - shroombox.sensor - INFO - Successful measurement at 13:04:22 - CO2: 569.39ppm, Temp: 20.89°C, RH: 32.71%
2025-03-06 13:04:22,326 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:22,327 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:22,327 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:22,423 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:22,423 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:22,526 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:22,539 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:22,539 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:22,539 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:22,540 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 4.4 seconds left
2025-03-06 13:04:22,540 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:22,540 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:22,541 - shroombox - INFO - Last modified time: 2025-03-06 13:04:22
2025-03-06 13:04:22,541 - shroombox - INFO - Last checked time: 2025-03-06 13:04:20
2025-03-06 13:04:22,542 - shroombox - INFO - Current time: 2025-03-06 13:04:22
2025-03-06 13:04:22,542 - shroombox - INFO - Config file modified at 2025-03-06 13:04:22.520383, reloading...
2025-03-06 13:04:22,542 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:22,543 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:22,543 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:22,544 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:22,544 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:22,545 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:22,545 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:22,547 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:22,547 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:22,548 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:22,548 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:22,548 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:22,548 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:22,549 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:22,549 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:22,550 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:22,550 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:22,551 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:22,551 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:22,552 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:22,552 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:22,552 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:22,569 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:22,570 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:24,466 - shroombox.sensor - INFO - Successful measurement at 13:04:24 - CO2: 569.28ppm, Temp: 20.87°C, RH: 32.72%
2025-03-06 13:04:24,466 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.72%, CO2: 569.28ppm
2025-03-06 13:04:24,483 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:24,484 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:24,534 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 569.4}
2025-03-06 13:04:24,571 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:26,594 - shroombox.sensor - INFO - Successful measurement at 13:04:26 - CO2: 569.65ppm, Temp: 20.89°C, RH: 32.72%
2025-03-06 13:04:26,595 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:26,595 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:26,596 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:26,639 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:26,639 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:26,733 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:26,743 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:26,743 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:26,744 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:26,744 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 0.2 seconds left
2025-03-06 13:04:26,744 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:26,745 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:26,745 - shroombox - INFO - Last modified time: 2025-03-06 13:04:26
2025-03-06 13:04:26,745 - shroombox - INFO - Last checked time: 2025-03-06 13:04:22
2025-03-06 13:04:26,746 - shroombox - INFO - Current time: 2025-03-06 13:04:26
2025-03-06 13:04:26,746 - shroombox - INFO - Config file modified at 2025-03-06 13:04:26.728349, reloading...
2025-03-06 13:04:26,746 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:26,747 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:26,747 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:26,748 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:26,748 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:26,749 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:26,749 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:26,749 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:26,750 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:26,750 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:26,750 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:26,750 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:26,751 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:26,751 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:26,751 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:26,751 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:26,752 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:26,752 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:26,752 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:26,752 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:26,752 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:26,753 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:26,769 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:26,770 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:28,786 - shroombox.sensor - INFO - Successful measurement at 13:04:28 - CO2: 569.62ppm, Temp: 20.87°C, RH: 32.72%
2025-03-06 13:04:28,786 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:28,787 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:28,787 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:28,830 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:28,830 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:28,927 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:28,938 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:28,938 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:28,939 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:28,939 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -2.0 seconds left
2025-03-06 13:04:28,939 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:04:28,940 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:04:29,105 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:04:29,106 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:04:29,106 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from ON to OFF
2025-03-06 13:04:29,108 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:29,108 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:29,109 - shroombox - INFO - Last modified time: 2025-03-06 13:04:29
2025-03-06 13:04:29,109 - shroombox - INFO - Last checked time: 2025-03-06 13:04:26
2025-03-06 13:04:29,110 - shroombox - INFO - Current time: 2025-03-06 13:04:29
2025-03-06 13:04:29,110 - shroombox - INFO - Config file modified at 2025-03-06 13:04:29.104330, reloading...
2025-03-06 13:04:29,111 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:04:29,111 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:29,112 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:29,112 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:29,112 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:29,113 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:29,114 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:29,114 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:29,114 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:29,114 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:29,115 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:29,115 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:29,115 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:29,115 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:29,116 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:29,116 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:29,116 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:29,116 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:29,117 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:29,117 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:29,117 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:29,118 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:29,136 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:29,136 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:30,326 - shroombox - INFO - Received shutdown signal, cleaning up...
2025-03-06 13:04:30,394 - shroombox - INFO - 
=== Cleaning up resources ===
2025-03-06 13:04:30,395 - shroombox - INFO - ✓ Fan stopped
2025-03-06 13:04:30,396 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:30,487 - shroombox - INFO - ✓ Heater turned off
2025-03-06 13:04:30,529 - shroombox - INFO - ✓ Humidifier turned off
2025-03-06 13:04:30,529 - shroombox - INFO - ✓ InfluxDB client closed
2025-03-06 13:04:30,530 - shroombox - INFO - ✓ Cleanup completed
2025-03-06 13:04:31,150 - shroombox.sensor - INFO - Successful measurement at 13:04:31 - CO2: 569.95ppm, Temp: 20.89°C, RH: 32.69%
2025-03-06 13:04:31,150 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:31,150 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:31,151 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:31,193 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:31,193 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:31,290 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:31,300 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:31,301 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:31,301 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:04:31,301 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 7.6s (min=0.5s)
2025-03-06 13:04:31,302 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 7.6s
2025-03-06 13:04:31,302 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:04:31,435 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to ON
2025-03-06 13:04:31,435 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state ON
2025-03-06 13:04:31,436 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to ON
2025-03-06 13:04:31,437 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:31,437 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:04:31,438 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:31,438 - shroombox - INFO - Last modified time: 2025-03-06 13:04:31
2025-03-06 13:04:31,439 - shroombox - INFO - Last checked time: 2025-03-06 13:04:29
2025-03-06 13:04:31,439 - shroombox - INFO - Current time: 2025-03-06 13:04:31
2025-03-06 13:04:31,439 - shroombox - INFO - Config file modified at 2025-03-06 13:04:31.432311, reloading...
2025-03-06 13:04:31,440 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:31,440 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:31,440 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:31,441 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:31,441 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:31,442 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:31,442 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:31,443 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:31,443 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:31,444 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:31,444 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:31,445 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:31,445 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:31,446 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:31,446 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:31,447 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:31,447 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:31,448 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:31,448 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:31,448 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:31,448 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:31,449 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:31,465 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:31,465 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:33,481 - shroombox.sensor - INFO - Successful measurement at 13:04:33 - CO2: 570.0ppm, Temp: 20.89°C, RH: 32.69%
2025-03-06 13:04:33,482 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:33,482 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:33,482 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:33,526 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:33,526 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:33,620 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:33,632 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:33,632 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:33,633 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:33,633 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 5.3 seconds left
2025-03-06 13:04:33,633 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:33,634 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:33,634 - shroombox - INFO - Last modified time: 2025-03-06 13:04:33
2025-03-06 13:04:33,634 - shroombox - INFO - Last checked time: 2025-03-06 13:04:31
2025-03-06 13:04:33,635 - shroombox - INFO - Current time: 2025-03-06 13:04:33
2025-03-06 13:04:33,635 - shroombox - INFO - Config file modified at 2025-03-06 13:04:33.616294, reloading...
2025-03-06 13:04:33,635 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:33,636 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:33,636 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:33,636 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:33,637 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:33,637 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:33,637 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:33,638 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:33,638 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:33,638 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:33,638 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:33,639 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:33,639 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:33,639 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:33,640 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:33,640 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:33,640 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:33,641 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:33,641 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:33,642 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:33,642 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:33,642 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:33,659 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:33,659 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:35,398 - shroombox - INFO - 
=== Cleaning up resources ===
2025-03-06 13:04:35,399 - shroombox - INFO - ✓ Fan stopped
2025-03-06 13:04:35,399 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:35,488 - shroombox - INFO - ✓ Heater turned off
2025-03-06 13:04:35,646 - shroombox - INFO - ✓ Humidifier turned off
2025-03-06 13:04:35,647 - shroombox - INFO - ✓ InfluxDB client closed
2025-03-06 13:04:35,647 - shroombox - INFO - ✓ Cleanup completed
2025-03-06 13:04:35,676 - shroombox.sensor - INFO - Successful measurement at 13:04:35 - CO2: 569.79ppm, Temp: 20.87°C, RH: 32.73%
2025-03-06 13:04:35,677 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:35,678 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:35,678 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:35,724 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:35,726 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:35,880 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:35,903 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:35,904 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:35,905 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:35,906 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 3.0 seconds left
2025-03-06 13:04:35,907 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:35,909 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:35,910 - shroombox - INFO - Last modified time: 2025-03-06 13:04:35
2025-03-06 13:04:35,912 - shroombox - INFO - Last checked time: 2025-03-06 13:04:33
2025-03-06 13:04:35,913 - shroombox - INFO - Current time: 2025-03-06 13:04:35
2025-03-06 13:04:35,914 - shroombox - INFO - Config file modified at 2025-03-06 13:04:35.872276, reloading...
2025-03-06 13:04:35,914 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:04:35,916 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:35,916 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:35,918 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:35,919 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:35,920 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:35,920 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:35,921 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:35,922 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:35,923 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:35,924 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:35,925 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:35,926 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:35,927 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:35,928 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:35,929 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:35,930 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:35,931 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:35,931 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:35,932 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:35,934 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:35,934 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:35,958 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:35,959 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:37,987 - shroombox.sensor - INFO - Successful measurement at 13:04:37 - CO2: 569.87ppm, Temp: 20.85°C, RH: 32.75%
2025-03-06 13:04:37,987 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:37,989 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:37,990 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:38,085 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:38,086 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:38,230 - shroombox - INFO - Heater set to OFF - Temp: 20.85°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:38,243 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:38,244 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:04:38,245 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:38,246 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 0.7 seconds left
2025-03-06 13:04:38,247 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:38,248 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:38,249 - shroombox - INFO - Last modified time: 2025-03-06 13:04:38
2025-03-06 13:04:38,250 - shroombox - INFO - Last checked time: 2025-03-06 13:04:35
2025-03-06 13:04:38,251 - shroombox - INFO - Current time: 2025-03-06 13:04:38
2025-03-06 13:04:38,252 - shroombox - INFO - Config file modified at 2025-03-06 13:04:38.224257, reloading...
2025-03-06 13:04:38,253 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:04:38,254 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:38,255 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:38,257 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:38,257 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:38,258 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:38,259 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:38,260 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:38,261 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:38,261 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:38,262 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:38,264 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:38,264 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:38,266 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:38,268 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:38,269 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:38,269 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:38,270 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:38,271 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:38,272 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:38,273 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:38,273 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:38,292 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:38,293 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:39,226 - shroombox - INFO - Environment variables loaded:
2025-03-06 13:04:39,226 - shroombox - INFO - INFLUXDB_URL: http://localhost:8086
2025-03-06 13:04:39,226 - shroombox - INFO - INFLUXDB_ORG: supershrooms
2025-03-06 13:04:39,227 - shroombox - INFO - INFLUXDB_BUCKET: test
2025-03-06 13:04:39,227 - shroombox - INFO - ==================================================
2025-03-06 13:04:39,257 - shroombox - INFO - Checking I2C bus before sensor initialization...
2025-03-06 13:04:39,259 - shroombox - WARNING - Could not check I2C bus: [Errno 2] No such file or directory: 'i2cdetect'
2025-03-06 13:04:39,259 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:04:39,272 - shroombox.sensor - INFO - SCD30 sensor initialized successfully
2025-03-06 13:04:39,279 - shroombox - WARNING - SCD30 sensor not available (expected at address 0x61), continuing in monitoring-only mode
2025-03-06 13:04:39,279 - shroombox - INFO - Please check: 
1. Power connections to the sensor
2. I2C connections (SDA and SCL)
3. Pull-up resistors on I2C lines
2025-03-06 13:04:39,279 - shroombox - INFO - Current working directory: /home/danny/Github/shroombox/shroombox3
2025-03-06 13:04:39,280 - shroombox - INFO - Looking for config at: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:39,280 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:39,280 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:39,280 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:39,281 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:39,281 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:39,281 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:39,281 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:39,282 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:39,282 - shroombox - INFO - Config last modified: 2025-03-06 13:04:38.224257
2025-03-06 13:04:39,282 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:04:39,295 - shroombox.sensor - INFO - SCD30 sensor initialized successfully
2025-03-06 13:04:39,295 - shroombox - INFO - Loaded device assignments - Heater: 192.168.8.164, Humidifier: 192.168.8.181
2025-03-06 13:04:39,296 - shroombox - INFO - 
Initializing PIDs:
2025-03-06 13:04:39,296 - shroombox - INFO - Phase: colonisation
2025-03-06 13:04:39,296 - shroombox - INFO - RH Setpoint: 40.0
2025-03-06 13:04:39,296 - shroombox - INFO - CO2 Setpoint: 500
2025-03-06 13:04:39,297 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:39,297 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:39,297 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:39,297 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:39,297 - shroombox - INFO - Updating humidity PID tunings: (0.2, 0.01, 0.05) -> (0.2, 0.01, 0.0)
2025-03-06 13:04:39,298 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:39,298 - shroombox - INFO - 
=== Initializing InfluxDB Client ===
2025-03-06 13:04:39,298 - shroombox - INFO - URL: http://localhost:8086
2025-03-06 13:04:39,298 - shroombox - INFO - Organization: supershrooms
2025-03-06 13:04:39,299 - shroombox - INFO - Bucket: test
2025-03-06 13:04:39,319 - shroombox - INFO - ✓ InfluxDB connection test successful
2025-03-06 13:04:39,320 - shroombox - INFO - Controller initialized successfully (monitoring-only mode)
2025-03-06 13:04:40,308 - shroombox.sensor - INFO - Successful measurement at 13:04:40 - CO2: 569.81ppm, Temp: 20.89°C, RH: 32.71%
2025-03-06 13:04:40,308 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:40,309 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:40,309 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:40,361 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:40,362 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:40,456 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:40,470 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:40,471 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:40,472 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:40,473 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -1.5 seconds left
2025-03-06 13:04:40,473 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:04:40,474 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:04:40,486 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:04:40,487 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:04:40,488 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:04:40,489 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:40,490 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:40,490 - shroombox - INFO - Last modified time: 2025-03-06 13:04:40
2025-03-06 13:04:40,491 - shroombox - INFO - Last checked time: 2025-03-06 13:04:38
2025-03-06 13:04:40,491 - shroombox - INFO - Current time: 2025-03-06 13:04:40
2025-03-06 13:04:40,491 - shroombox - INFO - Config file modified at 2025-03-06 13:04:40.484239, reloading...
2025-03-06 13:04:40,492 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:04:40,492 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:40,493 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:40,493 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:40,494 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:40,494 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:40,495 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:40,495 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:40,495 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:40,496 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:40,496 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:40,496 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:40,497 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:40,497 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:40,497 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:40,498 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:40,498 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:40,498 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:40,498 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:40,499 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:40,499 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:40,499 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:40,517 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:40,517 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:42,472 - shroombox.sensor - INFO - Successful measurement at 13:04:42 - CO2: 569.2ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:04:42,472 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.76%, CO2: 569.2ppm
2025-03-06 13:04:42,493 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:42,493 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:42,518 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:42,547 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 569.8}
2025-03-06 13:04:44,541 - shroombox.sensor - INFO - Successful measurement at 13:04:44 - CO2: 569.03ppm, Temp: 20.89°C, RH: 32.71%
2025-03-06 13:04:44,541 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:44,542 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:44,542 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:44,585 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:44,586 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:44,681 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:44,695 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:44,696 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:44,696 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:04:44,696 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 8.6s (min=0.5s)
2025-03-06 13:04:44,697 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 8.6s
2025-03-06 13:04:44,697 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:04:44,835 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to ON
2025-03-06 13:04:44,836 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state ON
2025-03-06 13:04:44,836 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to ON
2025-03-06 13:04:44,837 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:44,838 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:04:44,838 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:44,839 - shroombox - INFO - Last modified time: 2025-03-06 13:04:44
2025-03-06 13:04:44,839 - shroombox - INFO - Last checked time: 2025-03-06 13:04:40
2025-03-06 13:04:44,839 - shroombox - INFO - Current time: 2025-03-06 13:04:44
2025-03-06 13:04:44,840 - shroombox - INFO - Config file modified at 2025-03-06 13:04:44.832204, reloading...
2025-03-06 13:04:44,840 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:44,840 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:44,841 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:44,841 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:44,841 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:44,842 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:44,842 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:44,842 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:44,842 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:44,843 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:44,843 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:44,843 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:44,844 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:44,844 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:44,844 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:44,845 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:44,845 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:44,845 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:44,845 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:44,846 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:44,846 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:44,846 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:44,865 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:44,866 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:46,882 - shroombox.sensor - INFO - Successful measurement at 13:04:46 - CO2: 569.08ppm, Temp: 20.9°C, RH: 32.7%
2025-03-06 13:04:46,882 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:46,883 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:46,883 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:46,942 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:46,943 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:47,064 - shroombox - INFO - Heater set to OFF - Temp: 20.9°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:47,074 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:47,075 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:47,075 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:47,076 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 6.2 seconds left
2025-03-06 13:04:47,076 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:47,076 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:47,077 - shroombox - INFO - Last modified time: 2025-03-06 13:04:47
2025-03-06 13:04:47,077 - shroombox - INFO - Last checked time: 2025-03-06 13:04:44
2025-03-06 13:04:47,077 - shroombox - INFO - Current time: 2025-03-06 13:04:47
2025-03-06 13:04:47,077 - shroombox - INFO - Config file modified at 2025-03-06 13:04:47.060186, reloading...
2025-03-06 13:04:47,078 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:47,078 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:47,078 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:47,078 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:47,079 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:47,079 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:47,080 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:47,080 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:47,080 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:47,081 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:47,081 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:47,081 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:47,081 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:47,082 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:47,082 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:47,082 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:47,083 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:47,083 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:47,083 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:47,084 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:47,084 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:47,084 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:47,101 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:47,102 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:48,452 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:48,452 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:48,501 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 569.1}
2025-03-06 13:04:48,520 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:48,520 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:48,593 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 569.1}
2025-03-06 13:04:49,115 - shroombox.sensor - INFO - Successful measurement at 13:04:49 - CO2: 569.09ppm, Temp: 20.87°C, RH: 32.65%
2025-03-06 13:04:49,116 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:49,116 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:49,117 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:49,163 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:49,164 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:49,259 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:49,270 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:49,270 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:04:49,271 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:49,271 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 4.0 seconds left
2025-03-06 13:04:49,271 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:49,272 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:49,272 - shroombox - INFO - Last modified time: 2025-03-06 13:04:49
2025-03-06 13:04:49,272 - shroombox - INFO - Last checked time: 2025-03-06 13:04:47
2025-03-06 13:04:49,273 - shroombox - INFO - Current time: 2025-03-06 13:04:49
2025-03-06 13:04:49,273 - shroombox - INFO - Config file modified at 2025-03-06 13:04:49.252169, reloading...
2025-03-06 13:04:49,273 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:49,273 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:49,274 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:49,274 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:49,274 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:49,275 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:49,275 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:49,275 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:49,276 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:49,276 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:49,276 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:49,276 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:49,277 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:49,277 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:49,278 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:49,278 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:49,278 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:49,278 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:49,279 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:49,279 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:49,279 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:49,279 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:49,297 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:49,297 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:50,463 - shroombox - INFO - Environment variables loaded:
2025-03-06 13:04:50,464 - shroombox - INFO - INFLUXDB_URL: http://localhost:8086
2025-03-06 13:04:50,464 - shroombox - INFO - INFLUXDB_ORG: supershrooms
2025-03-06 13:04:50,464 - shroombox - INFO - INFLUXDB_BUCKET: test
2025-03-06 13:04:50,464 - shroombox - INFO - ==================================================
2025-03-06 13:04:51,312 - shroombox.sensor - INFO - Successful measurement at 13:04:51 - CO2: 569.38ppm, Temp: 20.87°C, RH: 32.65%
2025-03-06 13:04:51,312 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:51,313 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:51,313 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:51,358 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:51,359 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:51,454 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:51,469 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:51,473 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:04:51,475 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:51,481 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 1.8 seconds left
2025-03-06 13:04:51,483 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:04:51,486 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:51,488 - shroombox - INFO - Last modified time: 2025-03-06 13:04:51
2025-03-06 13:04:51,492 - shroombox - INFO - Last checked time: 2025-03-06 13:04:49
2025-03-06 13:04:51,495 - shroombox - INFO - Current time: 2025-03-06 13:04:51
2025-03-06 13:04:51,496 - shroombox - INFO - Config file modified at 2025-03-06 13:04:51.448151, reloading...
2025-03-06 13:04:51,497 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
       ...
2025-03-06 13:04:51,499 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:51,501 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:51,502 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:51,503 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:51,505 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:51,506 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:51,507 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:51,509 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:51,510 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:51,511 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:51,512 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:51,513 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:51,514 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:51,514 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:51,515 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:51,515 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:51,516 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:51,516 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:51,516 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:51,517 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:51,517 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:51,537 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:51,537 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:52,030 - shroombox - INFO - 
=== Starting Initial Device Scan ===
2025-03-06 13:04:52,030 - shroombox - INFO - 
Before scan - Current settings in settings.json:
2025-03-06 13:04:52,031 - shroombox - INFO - Number of devices: 2
2025-03-06 13:04:52,031 - shroombox - INFO -   - Heatmat (192.168.8.164) - Role: heater
2025-03-06 13:04:52,032 - shroombox - INFO -   - Humidifier (192.168.8.181) - Role: humidifier
2025-03-06 13:04:52,032 - shroombox - INFO - 
Scanning for devices...
2025-03-06 13:04:52,032 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:04:52,032 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:04:53,459 - shroombox.sensor - INFO - Successful measurement at 13:04:53 - CO2: 569.42ppm, Temp: 20.87°C, RH: 32.65%
2025-03-06 13:04:53,460 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.65%, CO2: 569.42ppm
2025-03-06 13:04:53,473 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:53,474 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:53,524 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 569.4}
2025-03-06 13:04:53,538 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:55,559 - shroombox.sensor - INFO - Successful measurement at 13:04:55 - CO2: 568.99ppm, Temp: 20.87°C, RH: 32.67%
2025-03-06 13:04:55,559 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:55,560 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:55,560 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:55,606 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:55,606 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:55,712 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:55,725 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:55,725 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:55,726 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:04:55,726 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -2.4 seconds left
2025-03-06 13:04:55,726 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:04:55,726 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:04:55,884 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:04:55,884 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:04:55,885 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from ON to OFF
2025-03-06 13:04:55,886 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:55,887 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:55,887 - shroombox - INFO - Last modified time: 2025-03-06 13:04:55
2025-03-06 13:04:55,887 - shroombox - INFO - Last checked time: 2025-03-06 13:04:51
2025-03-06 13:04:55,888 - shroombox - INFO - Current time: 2025-03-06 13:04:55
2025-03-06 13:04:55,888 - shroombox - INFO - Config file modified at 2025-03-06 13:04:55.880116, reloading...
2025-03-06 13:04:55,888 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "heater"
        },
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
      ...
2025-03-06 13:04:55,888 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:55,889 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:55,889 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:55,889 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:55,890 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:55,890 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:55,890 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:55,891 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:55,891 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:55,892 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:55,892 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:55,893 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:55,893 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:55,893 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:55,894 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:55,894 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:55,894 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:55,895 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:55,895 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:55,895 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:55,896 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:55,917 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:55,918 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:57,739 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:04:57,783 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:04:57,830 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:04:57,830 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:04:57,832 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:04:57,832 - shroombox - INFO - 
After scan - Updated settings in settings.json:
2025-03-06 13:04:57,833 - shroombox - INFO - 
Found and saved 2 devices:
2025-03-06 13:04:57,833 - shroombox - INFO - 
Device Details:
2025-03-06 13:04:57,833 - shroombox - INFO -   Name: Humidifier
2025-03-06 13:04:57,834 - shroombox - INFO -   IP: 192.168.8.181
2025-03-06 13:04:57,834 - shroombox - INFO -   MAC: B0-19-21-C4-C9-9D
2025-03-06 13:04:57,834 - shroombox - INFO -   Model: P115
2025-03-06 13:04:57,834 - shroombox - INFO -   Role: humidifier
2025-03-06 13:04:57,834 - shroombox - INFO -   State: OFF
2025-03-06 13:04:57,834 - shroombox - INFO - 
Device Details:
2025-03-06 13:04:57,835 - shroombox - INFO -   Name: Heatmat
2025-03-06 13:04:57,835 - shroombox - INFO -   IP: 192.168.8.164
2025-03-06 13:04:57,835 - shroombox - INFO -   MAC: B0-19-21-C4-CE-97
2025-03-06 13:04:57,835 - shroombox - INFO -   Model: P115
2025-03-06 13:04:57,835 - shroombox - INFO -   Role: heater
2025-03-06 13:04:57,836 - shroombox - INFO -   State: OFF
2025-03-06 13:04:57,836 - shroombox - INFO - 
Changes detected in settings.json!
2025-03-06 13:04:57,836 - shroombox - INFO - Settings file has been updated with new device information.
2025-03-06 13:04:57,837 - shroombox - INFO - 
=== Device Scan Complete ===

2025-03-06 13:04:57,837 - shroombox - INFO - Current working directory: /home/danny/Github/shroombox/shroombox3
2025-03-06 13:04:57,837 - shroombox - INFO - Looking for config at: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:57,837 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:57,838 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:57,838 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:57,838 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:57,839 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:57,839 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:57,839 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:57,839 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:57,840 - shroombox - INFO - Config last modified: 2025-03-06 13:04:57.828100
2025-03-06 13:04:57,840 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:04:57,853 - shroombox.sensor - INFO - SCD30 sensor initialized successfully
2025-03-06 13:04:57,854 - shroombox - INFO - Loaded device assignments - Heater: 192.168.8.164, Humidifier: 192.168.8.181
2025-03-06 13:04:57,854 - shroombox - INFO - 
Initializing PIDs:
2025-03-06 13:04:57,854 - shroombox - INFO - Phase: colonisation
2025-03-06 13:04:57,854 - shroombox - INFO - RH Setpoint: 40.0
2025-03-06 13:04:57,854 - shroombox - INFO - CO2 Setpoint: 500
2025-03-06 13:04:57,855 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:57,855 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:57,855 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:57,855 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:57,856 - shroombox - INFO - Updating humidity PID tunings: (0.2, 0.01, 0.05) -> (0.2, 0.01, 0.0)
2025-03-06 13:04:57,856 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:57,856 - shroombox - INFO - 
=== Initializing InfluxDB Client ===
2025-03-06 13:04:57,856 - shroombox - INFO - URL: http://localhost:8086
2025-03-06 13:04:57,856 - shroombox - INFO - Organization: supershrooms
2025-03-06 13:04:57,856 - shroombox - INFO - Bucket: test
2025-03-06 13:04:57,887 - shroombox - INFO - ✓ InfluxDB connection test successful
2025-03-06 13:04:57,888 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:04:57,888 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:04:57,931 - shroombox.sensor - INFO - Successful measurement at 13:04:57 - CO2: 568.68ppm, Temp: 20.87°C, RH: 32.73%
2025-03-06 13:04:57,932 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:04:57,932 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:04:57,933 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:04:57,977 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:04:57,978 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:04:58,074 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:04:58,085 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:04:58,086 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:04:58,086 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:04:58,086 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 9.6s (min=0.5s)
2025-03-06 13:04:58,087 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 9.6s
2025-03-06 13:04:58,087 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:04:58,211 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to ON
2025-03-06 13:04:58,211 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state ON
2025-03-06 13:04:58,212 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to ON
2025-03-06 13:04:58,213 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:04:58,214 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:04:58,215 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:58,215 - shroombox - INFO - Last modified time: 2025-03-06 13:04:58
2025-03-06 13:04:58,215 - shroombox - INFO - Last checked time: 2025-03-06 13:04:55
2025-03-06 13:04:58,216 - shroombox - INFO - Current time: 2025-03-06 13:04:58
2025-03-06 13:04:58,216 - shroombox - INFO - Config file modified at 2025-03-06 13:04:58.208097, reloading...
2025-03-06 13:04:58,217 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:04:58,217 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:58,218 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:04:58,218 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:04:58,219 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:04:58,219 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:04:58,219 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:04:58,220 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:04:58,220 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:04:58,220 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:04:58,220 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:04:58,221 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:04:58,221 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:04:58,221 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:04:58,221 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:04:58,222 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:04:58,222 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:04:58,222 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:04:58,223 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:04:58,223 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:04:58,223 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:04:58,223 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:04:58,241 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:58,242 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:04:58,440 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:58,441 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:58,520 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 568.7}
2025-03-06 13:04:58,536 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:04:58,536 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:04:58,587 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 568.7}
2025-03-06 13:05:00,255 - shroombox.sensor - INFO - Successful measurement at 13:05:00 - CO2: 568.36ppm, Temp: 20.87°C, RH: 32.7%
2025-03-06 13:05:00,256 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:00,256 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:00,256 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:00,299 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:00,300 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:00,399 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:00,409 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:00,410 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:00,411 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:00,411 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 7.2 seconds left
2025-03-06 13:05:00,411 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:00,412 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:00,412 - shroombox - INFO - Last modified time: 2025-03-06 13:05:00
2025-03-06 13:05:00,412 - shroombox - INFO - Last checked time: 2025-03-06 13:04:58
2025-03-06 13:05:00,412 - shroombox - INFO - Current time: 2025-03-06 13:05:00
2025-03-06 13:05:00,413 - shroombox - INFO - Config file modified at 2025-03-06 13:05:00.392080, reloading...
2025-03-06 13:05:00,413 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:00,413 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:00,414 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:00,414 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:00,414 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:00,414 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:00,415 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:00,415 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:00,415 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:00,415 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:00,416 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:00,416 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:00,416 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:00,416 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:00,417 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:00,417 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:00,417 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:00,417 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:00,417 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:00,417 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:00,418 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:00,418 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:00,435 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:00,435 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:02,450 - shroombox.sensor - INFO - Successful measurement at 13:05:02 - CO2: 568.41ppm, Temp: 20.89°C, RH: 32.71%
2025-03-06 13:05:02,450 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:02,451 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:02,451 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:02,494 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:02,495 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:02,587 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:02,598 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:02,598 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:02,599 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:02,599 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 5.1 seconds left
2025-03-06 13:05:02,599 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:02,600 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:02,600 - shroombox - INFO - Last modified time: 2025-03-06 13:05:02
2025-03-06 13:05:02,600 - shroombox - INFO - Last checked time: 2025-03-06 13:05:00
2025-03-06 13:05:02,601 - shroombox - INFO - Current time: 2025-03-06 13:05:02
2025-03-06 13:05:02,601 - shroombox - INFO - Config file modified at 2025-03-06 13:05:02.580062, reloading...
2025-03-06 13:05:02,601 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:02,602 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:02,602 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:02,602 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:02,603 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:02,603 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:02,603 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:02,604 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:02,604 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:02,604 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:02,605 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:02,605 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:02,605 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:02,606 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:02,606 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:02,606 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:02,607 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:02,607 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:02,607 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:02,607 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:02,608 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:02,608 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:02,624 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:02,625 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:02,896 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:05:02,938 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:05:02,980 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:05:02,981 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:05:02,982 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:05:02,989 - shroombox - ERROR - Failed to initialize sensor, continuing without sensor...
2025-03-06 13:05:02,989 - shroombox - INFO - 
=== Starting Main Control Loop ===
2025-03-06 13:05:02,996 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:03,439 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:03,439 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:03,488 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 568.4}
2025-03-06 13:05:03,504 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:03,504 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:03,583 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 568.4}
2025-03-06 13:05:04,641 - shroombox.sensor - INFO - Successful measurement at 13:05:04 - CO2: 568.11ppm, Temp: 20.87°C, RH: 32.76%
2025-03-06 13:05:04,641 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:04,642 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:04,642 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:04,692 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:04,692 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:04,782 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:04,793 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:04,794 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:04,794 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:04,794 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 2.9 seconds left
2025-03-06 13:05:04,794 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:04,795 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:04,796 - shroombox - INFO - Last modified time: 2025-03-06 13:05:04
2025-03-06 13:05:04,796 - shroombox - INFO - Last checked time: 2025-03-06 13:05:02
2025-03-06 13:05:04,796 - shroombox - INFO - Current time: 2025-03-06 13:05:04
2025-03-06 13:05:04,797 - shroombox - INFO - Config file modified at 2025-03-06 13:05:04.776045, reloading...
2025-03-06 13:05:04,797 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:04,798 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:04,798 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:04,798 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:04,799 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:04,799 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:04,800 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:04,800 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:04,800 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:04,801 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:04,801 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:04,801 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:04,802 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:04,802 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:04,802 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:04,802 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:04,803 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:04,803 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:04,803 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:04,804 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:04,804 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:04,805 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:04,823 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:04,824 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:05,005 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:06,837 - shroombox.sensor - INFO - Successful measurement at 13:05:06 - CO2: 568.25ppm, Temp: 20.87°C, RH: 32.75%
2025-03-06 13:05:06,838 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:06,839 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:06,840 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:06,887 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:06,887 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:06,978 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:06,993 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:06,994 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:06,995 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:06,995 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 0.7 seconds left
2025-03-06 13:05:06,996 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:06,997 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:06,997 - shroombox - INFO - Last modified time: 2025-03-06 13:05:06
2025-03-06 13:05:06,998 - shroombox - INFO - Last checked time: 2025-03-06 13:05:04
2025-03-06 13:05:06,999 - shroombox - INFO - Current time: 2025-03-06 13:05:06
2025-03-06 13:05:06,999 - shroombox - INFO - Config file modified at 2025-03-06 13:05:06.972028, reloading...
2025-03-06 13:05:07,000 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:07,000 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:07,000 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:07,001 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:07,001 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:07,002 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:07,002 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:07,002 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:07,002 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:07,003 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:07,003 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:07,003 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:07,003 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:07,004 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:07,004 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:07,004 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:07,005 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:07,005 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:07,005 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:07,005 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:07,006 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:07,006 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:07,014 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:07,024 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:07,025 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:07,531 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:07,531 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:07,582 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 568.2}
2025-03-06 13:05:07,593 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:07,594 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:07,644 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 568.2}
2025-03-06 13:05:09,040 - shroombox.sensor - INFO - Successful measurement at 13:05:09 - CO2: nanppm, Temp: nan°C, RH: nan%
2025-03-06 13:05:09,041 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=nan°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:09,041 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:09,042 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? nan < 9.5)
2025-03-06 13:05:09,044 - shroombox.sensor - INFO - Successful measurement at 13:05:09 - CO2: nanppm, Temp: nan°C, RH: nan%
2025-03-06 13:05:09,044 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=nan°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:09,045 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:09,045 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? nan < 9.5)
2025-03-06 13:05:09,095 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:09,095 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:09,102 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:09,103 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:09,220 - shroombox - INFO - Heater set to OFF - Temp: nan°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:09,234 - shroombox - INFO - Heater set to OFF - Temp: nan°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:09,236 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:09,237 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=nan%, Setpoint=40.0%
2025-03-06 13:05:09,238 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:09,238 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:09,239 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:09,239 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:09,240 - shroombox - INFO - Last modified time: 2025-03-06 13:05:09
2025-03-06 13:05:09,241 - shroombox - INFO - Last checked time: 2025-03-06 13:04:57
2025-03-06 13:05:09,241 - shroombox - INFO - Current time: 2025-03-06 13:05:09
2025-03-06 13:05:09,242 - shroombox - INFO - Config file modified at 2025-03-06 13:05:09.228009, reloading...
2025-03-06 13:05:09,242 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:09,243 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:09,244 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:09,244 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:09,245 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:09,245 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:09,245 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:09,246 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:09,246 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:09,246 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:09,247 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:09,247 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:09,247 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:09,248 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:09,248 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:09,249 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:09,249 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:09,249 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:09,250 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:09,250 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:09,250 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:09,250 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:09,251 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:09,251 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=nan%, Setpoint=40.0%
2025-03-06 13:05:09,252 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:09,253 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -1.6 seconds left
2025-03-06 13:05:09,254 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:05:09,254 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:05:09,262 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:05:09,263 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to OFF
2025-03-06 13:05:09,264 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:09,264 - shroombox - INFO - Last modified time: 2025-03-06 13:05:09
2025-03-06 13:05:09,265 - shroombox - INFO - Last checked time: 2025-03-06 13:05:06
2025-03-06 13:05:09,265 - shroombox - INFO - Current time: 2025-03-06 13:05:09
2025-03-06 13:05:09,266 - shroombox - INFO - Config file modified at 2025-03-06 13:05:09.228009, reloading...
2025-03-06 13:05:09,266 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:09,267 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:09,268 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:09,268 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:09,269 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:09,270 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:09,270 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:09,271 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:09,271 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:09,271 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:09,272 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:09,272 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:09,272 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:09,273 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:09,273 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:09,273 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:09,273 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:09,274 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:09,274 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:09,274 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:09,274 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:09,275 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:09,275 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:09,275 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:09,297 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:09,298 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:11,276 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:11,310 - shroombox.sensor - INFO - Successful measurement at 13:05:11 - CO2: 567.79ppm, Temp: 20.87°C, RH: 32.8%
2025-03-06 13:05:11,311 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:11,311 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:11,312 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:11,361 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:11,361 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:11,451 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:11,461 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:11,462 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:11,462 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=False
2025-03-06 13:05:11,462 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 10.5s (min=0.5s)
2025-03-06 13:05:11,462 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 10.5s
2025-03-06 13:05:11,463 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:05:11,470 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:05:11,471 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to ON
2025-03-06 13:05:11,471 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:05:11,472 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:11,472 - shroombox - INFO - Last modified time: 2025-03-06 13:05:11
2025-03-06 13:05:11,472 - shroombox - INFO - Last checked time: 2025-03-06 13:05:09
2025-03-06 13:05:11,473 - shroombox - INFO - Current time: 2025-03-06 13:05:11
2025-03-06 13:05:11,473 - shroombox - INFO - Config file modified at 2025-03-06 13:05:11.443992, reloading...
2025-03-06 13:05:11,473 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:11,474 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:11,474 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:11,474 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:11,475 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:11,475 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:11,475 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:11,476 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:11,476 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:11,476 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:11,477 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:11,477 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:11,477 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:11,478 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:11,478 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:11,478 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:11,478 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:11,479 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:11,479 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:11,479 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:11,479 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:11,480 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:11,496 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:11,497 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:12,791 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:12,791 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:12,876 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 567.8}
2025-03-06 13:05:12,891 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:12,892 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:12,941 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 567.8}
2025-03-06 13:05:13,282 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:13,496 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:15,307 - shroombox.sensor - INFO - Successful measurement at 13:05:15 - CO2: 567.71ppm, Temp: 20.89°C, RH: 32.77%
2025-03-06 13:05:15,308 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:15,309 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:15,309 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:15,368 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:15,370 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:15,468 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:15,487 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:15,488 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:15,488 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:15,489 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:15,489 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:15,490 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:15,490 - shroombox - INFO - Last modified time: 2025-03-06 13:05:15
2025-03-06 13:05:15,490 - shroombox - INFO - Last checked time: 2025-03-06 13:05:09
2025-03-06 13:05:15,491 - shroombox - INFO - Current time: 2025-03-06 13:05:15
2025-03-06 13:05:15,491 - shroombox - INFO - Config file modified at 2025-03-06 13:05:15.463960, reloading...
2025-03-06 13:05:15,491 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:15,492 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:15,492 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:15,493 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:15,493 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:15,494 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:15,494 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:15,494 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:15,495 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:15,495 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:15,495 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:15,496 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:15,496 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:15,496 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:15,497 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:15,498 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:15,498 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:15,499 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:15,499 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:15,500 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:15,500 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:15,500 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:15,506 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:15,521 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:15,521 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:17,533 - shroombox.sensor - INFO - Successful measurement at 13:05:17 - CO2: nanppm, Temp: nan°C, RH: nan%
2025-03-06 13:05:17,533 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=nan°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:17,533 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:17,534 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? nan < 9.5)
2025-03-06 13:05:17,535 - shroombox.sensor - INFO - Successful measurement at 13:05:17 - CO2: nanppm, Temp: nan°C, RH: nan%
2025-03-06 13:05:17,536 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=nan°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:17,536 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:17,537 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? nan < 9.5)
2025-03-06 13:05:17,587 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:17,588 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:17,595 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:17,596 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:17,709 - shroombox - INFO - Heater set to OFF - Temp: nan°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:17,720 - shroombox - INFO - Heater set to OFF - Temp: nan°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:17,721 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:17,721 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=nan%, Setpoint=40.0%
2025-03-06 13:05:17,722 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:17,722 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 4.3 seconds left
2025-03-06 13:05:17,722 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:17,723 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:17,724 - shroombox - INFO - Last modified time: 2025-03-06 13:05:17
2025-03-06 13:05:17,725 - shroombox - INFO - Last checked time: 2025-03-06 13:05:11
2025-03-06 13:05:17,725 - shroombox - INFO - Current time: 2025-03-06 13:05:17
2025-03-06 13:05:17,726 - shroombox - INFO - Config file modified at 2025-03-06 13:05:17.715942, reloading...
2025-03-06 13:05:17,726 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:17,730 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:17,730 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:17,730 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:17,731 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:17,732 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:17,732 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:17,732 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:17,733 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:17,733 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:17,733 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:17,734 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:17,734 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=nan%, Setpoint=40.0%
2025-03-06 13:05:17,734 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:17,734 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:17,734 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:17,735 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:17,735 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:17,735 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:17,735 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:17,735 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:17,735 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:17,736 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:17,736 - shroombox - INFO - Last modified time: 2025-03-06 13:05:17
2025-03-06 13:05:17,736 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:17,736 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:17,736 - shroombox - INFO - Last checked time: 2025-03-06 13:05:15
2025-03-06 13:05:17,736 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:17,737 - shroombox - INFO - Current time: 2025-03-06 13:05:17
2025-03-06 13:05:17,737 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:17,737 - shroombox - INFO - Config file modified at 2025-03-06 13:05:17.715942, reloading...
2025-03-06 13:05:17,737 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:17,737 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:17,738 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:17,738 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:17,738 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:17,739 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:17,739 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:17,740 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:17,740 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:17,740 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:17,741 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:17,742 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:17,742 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:17,742 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:17,742 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:17,743 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:17,743 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:17,743 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:17,744 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:17,744 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:17,744 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:17,744 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:17,745 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:17,756 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:17,756 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:17,762 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:17,762 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:17,789 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:17,790 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:17,839 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 567.7}
2025-03-06 13:05:17,851 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:17,852 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:17,902 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 567.7}
2025-03-06 13:05:20,418 - shroombox.sensor - INFO - Successful measurement at 13:05:20 - CO2: nanppm, Temp: nan°C, RH: nan%
2025-03-06 13:05:20,418 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=nan°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:20,419 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:20,419 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? nan < 9.5)
2025-03-06 13:05:20,420 - shroombox.sensor - INFO - Successful measurement at 13:05:20 - CO2: nanppm, Temp: nan°C, RH: nan%
2025-03-06 13:05:20,421 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=nan°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:20,421 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:20,421 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? nan < 9.5)
2025-03-06 13:05:20,484 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:20,485 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:20,511 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:20,512 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:20,624 - shroombox - INFO - Heater set to OFF - Temp: nan°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:20,636 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:20,636 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=nan%, Setpoint=40.0%
2025-03-06 13:05:20,637 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:20,637 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 1.3 seconds left
2025-03-06 13:05:20,637 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:20,638 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:20,638 - shroombox - INFO - Last modified time: 2025-03-06 13:05:20
2025-03-06 13:05:20,638 - shroombox - INFO - Last checked time: 2025-03-06 13:05:17
2025-03-06 13:05:20,639 - shroombox - INFO - Current time: 2025-03-06 13:05:20
2025-03-06 13:05:20,639 - shroombox - INFO - Config file modified at 2025-03-06 13:05:20.619919, reloading...
2025-03-06 13:05:20,639 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:20,640 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:20,640 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:20,640 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:20,641 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:20,642 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:20,642 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:20,642 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:20,642 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:20,643 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:20,643 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:20,644 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:20,644 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:20,644 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:20,644 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:20,645 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:20,645 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:20,645 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:20,645 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:20,646 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:20,646 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:20,646 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:20,654 - shroombox - INFO - Heater set to OFF - Temp: nan°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:20,665 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:20,665 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:20,668 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:20,669 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=nan%, Setpoint=40.0%
2025-03-06 13:05:20,669 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:20,669 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:20,669 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:20,670 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:20,671 - shroombox - INFO - Last modified time: 2025-03-06 13:05:20
2025-03-06 13:05:20,671 - shroombox - INFO - Last checked time: 2025-03-06 13:05:17
2025-03-06 13:05:20,671 - shroombox - INFO - Current time: 2025-03-06 13:05:20
2025-03-06 13:05:20,672 - shroombox - INFO - Config file modified at 2025-03-06 13:05:20.647919, reloading...
2025-03-06 13:05:20,672 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:20,672 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:20,672 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:20,673 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:20,673 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:20,673 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:20,673 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:20,674 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:20,674 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:20,674 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:20,674 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:20,674 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:20,675 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:20,675 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:20,675 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:20,675 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:20,675 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:20,676 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:20,676 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:20,676 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:20,676 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:20,676 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:20,695 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:20,695 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:22,667 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:22,711 - shroombox.sensor - INFO - Successful measurement at 13:05:22 - CO2: 567.02ppm, Temp: 20.89°C, RH: 32.77%
2025-03-06 13:05:22,711 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:22,712 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:22,712 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:22,752 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:22,752 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:22,794 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:22,794 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:22,844 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:22,846 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 567.7}
2025-03-06 13:05:22,858 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:22,859 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:22,859 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:22,859 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:22,860 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:22,860 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:22,860 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:22,860 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:22,861 - shroombox - INFO - Last modified time: 2025-03-06 13:05:22
2025-03-06 13:05:22,861 - shroombox - INFO - Last checked time: 2025-03-06 13:05:20
2025-03-06 13:05:22,861 - shroombox - INFO - Current time: 2025-03-06 13:05:22
2025-03-06 13:05:22,861 - shroombox - INFO - Config file modified at 2025-03-06 13:05:22.839902, reloading...
2025-03-06 13:05:22,862 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:22,862 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:22,862 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:22,863 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:22,863 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:22,864 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:22,864 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:22,864 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:22,864 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:22,865 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:22,865 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:22,865 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:22,866 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:22,866 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:22,866 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:22,866 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:22,867 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:22,867 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:22,867 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:22,867 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:22,868 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:22,868 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:22,884 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:22,885 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:22,921 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.8, 'co2': 567.0}
2025-03-06 13:05:24,674 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:24,885 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:26,694 - shroombox.sensor - INFO - Successful measurement at 13:05:26 - CO2: 566.77ppm, Temp: 20.87°C, RH: 32.75%
2025-03-06 13:05:26,695 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:26,696 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:26,696 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:26,742 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:26,742 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:26,836 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:26,847 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:26,847 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:26,848 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:26,848 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -4.9 seconds left
2025-03-06 13:05:26,848 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:05:26,848 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:05:26,855 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:05:26,856 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to OFF
2025-03-06 13:05:26,856 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:26,856 - shroombox - INFO - Last modified time: 2025-03-06 13:05:26
2025-03-06 13:05:26,857 - shroombox - INFO - Last checked time: 2025-03-06 13:05:20
2025-03-06 13:05:26,857 - shroombox - INFO - Current time: 2025-03-06 13:05:26
2025-03-06 13:05:26,857 - shroombox - INFO - Config file modified at 2025-03-06 13:05:26.831870, reloading...
2025-03-06 13:05:26,858 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:26,858 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:26,858 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:26,858 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:26,859 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:26,859 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:26,860 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:26,860 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:26,860 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:26,860 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:26,861 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:26,861 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:26,862 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:26,862 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:26,862 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:26,863 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:26,863 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:26,864 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:26,864 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:26,864 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:26,865 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:26,865 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:26,881 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:26,882 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:26,893 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:27,808 - shroombox.sensor - INFO - Successful measurement at 13:05:27 - CO2: 566.29ppm, Temp: 20.89°C, RH: 32.74%
2025-03-06 13:05:27,808 - shroombox - INFO - Live measurements - Temp: 20.89°C, RH: 32.74%, CO2: 566.29ppm
2025-03-06 13:05:28,884 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:28,900 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:30,909 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:31,881 - shroombox.sensor - INFO - Successful measurement at 13:05:31 - CO2: 566.32ppm, Temp: 20.87°C, RH: 32.72%
2025-03-06 13:05:31,882 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:31,886 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:31,890 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:31,947 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:31,948 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:32,040 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:32,051 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:32,051 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:32,052 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=False
2025-03-06 13:05:32,052 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 12.0s (min=0.5s)
2025-03-06 13:05:32,052 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 12.0s
2025-03-06 13:05:32,052 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:05:32,058 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:05:32,059 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to ON
2025-03-06 13:05:32,059 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:05:32,060 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:32,060 - shroombox - INFO - Last modified time: 2025-03-06 13:05:32
2025-03-06 13:05:32,060 - shroombox - INFO - Last checked time: 2025-03-06 13:05:26
2025-03-06 13:05:32,061 - shroombox - INFO - Current time: 2025-03-06 13:05:32
2025-03-06 13:05:32,061 - shroombox - INFO - Config file modified at 2025-03-06 13:05:32.035829, reloading...
2025-03-06 13:05:32,061 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:32,062 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:32,062 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:32,062 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:32,063 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:32,063 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:32,063 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:32,064 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:32,064 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:32,064 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:32,064 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:32,065 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:32,065 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:32,065 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:32,066 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:32,066 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:32,066 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:32,066 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:32,067 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:32,067 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:32,067 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:32,068 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:32,084 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:32,085 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:32,918 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:34,099 - shroombox.sensor - INFO - Successful measurement at 13:05:34 - CO2: 566.14ppm, Temp: 20.89°C, RH: 32.77%
2025-03-06 13:05:34,099 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:34,100 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:34,100 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:34,144 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:34,145 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:34,242 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:34,255 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:34,256 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:34,256 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:34,256 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 9.8 seconds left
2025-03-06 13:05:34,257 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:34,257 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:34,257 - shroombox - INFO - Last modified time: 2025-03-06 13:05:34
2025-03-06 13:05:34,258 - shroombox - INFO - Last checked time: 2025-03-06 13:05:32
2025-03-06 13:05:34,258 - shroombox - INFO - Current time: 2025-03-06 13:05:34
2025-03-06 13:05:34,258 - shroombox - INFO - Config file modified at 2025-03-06 13:05:34.235811, reloading...
2025-03-06 13:05:34,259 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:34,259 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:34,259 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:34,259 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:34,260 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:34,260 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:34,260 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:34,261 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:34,261 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:34,261 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:34,261 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:34,261 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:34,262 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:34,262 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:34,262 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:34,262 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:34,262 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:34,263 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:34,263 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:34,264 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:34,264 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:34,264 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:34,282 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:34,283 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:34,925 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:36,284 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:36,950 - shroombox.sensor - INFO - Successful measurement at 13:05:36 - CO2: 565.79ppm, Temp: 20.89°C, RH: 32.75%
2025-03-06 13:05:36,951 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:36,952 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:36,952 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:36,993 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:36,993 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:37,090 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:37,102 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:37,103 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:37,103 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:37,103 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:37,104 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:37,104 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:37,105 - shroombox - INFO - Last modified time: 2025-03-06 13:05:37
2025-03-06 13:05:37,105 - shroombox - INFO - Last checked time: 2025-03-06 13:05:22
2025-03-06 13:05:37,105 - shroombox - INFO - Current time: 2025-03-06 13:05:37
2025-03-06 13:05:37,106 - shroombox - INFO - Config file modified at 2025-03-06 13:05:37.083789, reloading...
2025-03-06 13:05:37,106 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:37,106 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:37,107 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:37,107 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:37,108 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:37,108 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:37,108 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:37,109 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:37,109 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:37,109 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:37,110 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:37,110 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:37,110 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:37,110 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:37,111 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:37,111 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:37,111 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:37,111 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:37,112 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:37,112 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:37,112 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:37,113 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:37,132 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:37,133 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:38,293 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:39,147 - shroombox.sensor - INFO - Successful measurement at 13:05:39 - CO2: 565.91ppm, Temp: 20.9°C, RH: 32.75%
2025-03-06 13:05:39,148 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:39,148 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:39,148 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:39,194 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:39,194 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:39,295 - shroombox - INFO - Heater set to OFF - Temp: 20.9°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:39,304 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:39,304 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.8%, Setpoint=40.0%
2025-03-06 13:05:39,305 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:39,305 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:39,305 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:39,305 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:39,306 - shroombox - INFO - Last modified time: 2025-03-06 13:05:39
2025-03-06 13:05:39,306 - shroombox - INFO - Last checked time: 2025-03-06 13:05:37
2025-03-06 13:05:39,306 - shroombox - INFO - Current time: 2025-03-06 13:05:39
2025-03-06 13:05:39,306 - shroombox - INFO - Config file modified at 2025-03-06 13:05:39.287772, reloading...
2025-03-06 13:05:39,307 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:39,307 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:39,307 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:39,307 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:39,308 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:39,308 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:39,308 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:39,308 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:39,309 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:39,309 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:39,309 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:39,309 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:39,309 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:39,309 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:39,310 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:39,310 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:39,310 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:39,310 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:39,310 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:39,310 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:39,311 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:39,311 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:39,328 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:39,329 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:40,302 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:41,344 - shroombox.sensor - INFO - Successful measurement at 13:05:41 - CO2: 565.62ppm, Temp: 20.87°C, RH: 32.73%
2025-03-06 13:05:41,345 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:41,345 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:41,345 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:41,432 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:41,433 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:41,528 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:41,538 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:41,539 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:41,539 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:41,539 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:41,539 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:41,540 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:41,540 - shroombox - INFO - Last modified time: 2025-03-06 13:05:41
2025-03-06 13:05:41,540 - shroombox - INFO - Last checked time: 2025-03-06 13:05:39
2025-03-06 13:05:41,540 - shroombox - INFO - Current time: 2025-03-06 13:05:41
2025-03-06 13:05:41,541 - shroombox - INFO - Config file modified at 2025-03-06 13:05:41.523754, reloading...
2025-03-06 13:05:41,541 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:41,541 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:41,541 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:41,542 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:41,542 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:41,542 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:41,542 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:41,543 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:41,543 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:41,543 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:41,543 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:41,543 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:41,544 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:41,544 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:41,544 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:41,544 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:41,544 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:41,545 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:41,545 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:41,545 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:41,545 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:41,545 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:41,571 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:41,572 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:42,310 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:42,524 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:42,524 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:42,594 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 565.6}
2025-03-06 13:05:42,608 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:42,608 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:42,661 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 565.6}
2025-03-06 13:05:43,585 - shroombox.sensor - INFO - Successful measurement at 13:05:43 - CO2: 565.49ppm, Temp: 20.86°C, RH: 32.73%
2025-03-06 13:05:43,586 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:43,586 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:43,586 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:43,630 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:43,630 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:43,721 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:43,732 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:43,733 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:43,733 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:43,733 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:43,733 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:43,734 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:43,734 - shroombox - INFO - Last modified time: 2025-03-06 13:05:43
2025-03-06 13:05:43,734 - shroombox - INFO - Last checked time: 2025-03-06 13:05:41
2025-03-06 13:05:43,735 - shroombox - INFO - Current time: 2025-03-06 13:05:43
2025-03-06 13:05:43,735 - shroombox - INFO - Config file modified at 2025-03-06 13:05:43.715737, reloading...
2025-03-06 13:05:43,735 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:43,735 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:43,736 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:43,736 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:43,736 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:43,736 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:43,737 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:43,737 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:43,737 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:43,737 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:43,737 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:43,738 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:43,738 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:43,738 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:43,738 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:43,738 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:43,738 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:43,739 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:43,739 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:43,739 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:43,739 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:43,740 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:43,756 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:43,756 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:44,320 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:45,773 - shroombox.sensor - INFO - Successful measurement at 13:05:45 - CO2: 565.42ppm, Temp: 20.87°C, RH: 32.73%
2025-03-06 13:05:45,773 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:45,773 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:45,774 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:45,817 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:45,818 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:45,909 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:45,921 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:45,921 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:45,922 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:05:45,922 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:05:45,922 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:05:45,922 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:45,923 - shroombox - INFO - Last modified time: 2025-03-06 13:05:45
2025-03-06 13:05:45,923 - shroombox - INFO - Last checked time: 2025-03-06 13:05:43
2025-03-06 13:05:45,923 - shroombox - INFO - Current time: 2025-03-06 13:05:45
2025-03-06 13:05:45,923 - shroombox - INFO - Config file modified at 2025-03-06 13:05:45.903719, reloading...
2025-03-06 13:05:45,924 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:45,924 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:45,924 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:45,924 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:45,925 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:45,925 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:45,925 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:45,925 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:45,926 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:45,926 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:45,926 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:45,926 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:45,926 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:45,926 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:45,927 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:45,927 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:45,927 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:45,927 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:45,927 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:45,928 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:45,928 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:45,928 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:45,944 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:45,944 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:46,327 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:47,842 - shroombox.sensor - INFO - Successful measurement at 13:05:47 - CO2: 565.05ppm, Temp: 20.86°C, RH: 32.69%
2025-03-06 13:05:47,843 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.69%, CO2: 565.05ppm
2025-03-06 13:05:47,865 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:47,866 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:47,946 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:47,966 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 565.4}
2025-03-06 13:05:48,336 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:49,953 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:50,359 - shroombox.sensor - INFO - Successful measurement at 13:05:50 - CO2: 564.38ppm, Temp: 20.87°C, RH: 32.7%
2025-03-06 13:05:50,360 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:50,360 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:50,360 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:50,415 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:50,416 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:50,513 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:50,525 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:50,525 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:50,525 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:50,526 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -6.4 seconds left
2025-03-06 13:05:50,526 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:05:50,526 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:05:50,534 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:05:50,535 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to OFF
2025-03-06 13:05:50,535 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:50,536 - shroombox - INFO - Last modified time: 2025-03-06 13:05:50
2025-03-06 13:05:50,536 - shroombox - INFO - Last checked time: 2025-03-06 13:05:34
2025-03-06 13:05:50,537 - shroombox - INFO - Current time: 2025-03-06 13:05:50
2025-03-06 13:05:50,537 - shroombox - INFO - Config file modified at 2025-03-06 13:05:50.507683, reloading...
2025-03-06 13:05:50,537 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:50,538 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:50,538 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:50,539 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:50,539 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:50,540 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:50,540 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:50,540 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:50,541 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:50,541 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:50,541 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:50,541 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:50,542 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:50,542 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:50,543 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:50,543 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:50,543 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:50,544 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:50,544 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:50,544 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:50,545 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:50,545 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:50,564 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:50,565 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:50,592 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:50,593 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:50,641 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 564.4}
2025-03-06 13:05:50,652 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:50,652 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:50,701 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 564.4}
2025-03-06 13:05:51,961 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:52,579 - shroombox.sensor - INFO - Successful measurement at 13:05:52 - CO2: 564.19ppm, Temp: 20.87°C, RH: 32.73%
2025-03-06 13:05:52,580 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:52,580 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:52,580 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:52,621 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:52,621 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:52,720 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:52,740 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:52,741 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:52,741 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=False
2025-03-06 13:05:52,741 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 13.5s (min=0.5s)
2025-03-06 13:05:52,742 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 13.5s
2025-03-06 13:05:52,742 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:05:52,749 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:05:52,749 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to ON
2025-03-06 13:05:52,750 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:05:52,750 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:52,750 - shroombox - INFO - Last modified time: 2025-03-06 13:05:52
2025-03-06 13:05:52,750 - shroombox - INFO - Last checked time: 2025-03-06 13:05:50
2025-03-06 13:05:52,751 - shroombox - INFO - Current time: 2025-03-06 13:05:52
2025-03-06 13:05:52,751 - shroombox - INFO - Config file modified at 2025-03-06 13:05:52.715666, reloading...
2025-03-06 13:05:52,751 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:52,752 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:52,752 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:52,753 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:52,753 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:52,754 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:52,754 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:52,754 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:52,755 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:52,755 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:52,755 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:52,756 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:52,756 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:52,756 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:52,757 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:52,757 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:52,757 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:52,758 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:52,758 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:52,758 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:52,758 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:52,759 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:52,776 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:52,776 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:53,969 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:54,792 - shroombox.sensor - INFO - Successful measurement at 13:05:54 - CO2: 564.09ppm, Temp: 20.87°C, RH: 32.7%
2025-03-06 13:05:54,793 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:54,794 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:54,794 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:54,843 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:54,843 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:54,950 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:54,964 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:54,965 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:54,965 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:54,965 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 11.3 seconds left
2025-03-06 13:05:54,966 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:54,967 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:54,967 - shroombox - INFO - Last modified time: 2025-03-06 13:05:54
2025-03-06 13:05:54,968 - shroombox - INFO - Last checked time: 2025-03-06 13:05:52
2025-03-06 13:05:54,968 - shroombox - INFO - Current time: 2025-03-06 13:05:54
2025-03-06 13:05:54,968 - shroombox - INFO - Config file modified at 2025-03-06 13:05:54.943648, reloading...
2025-03-06 13:05:54,969 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:54,970 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:54,970 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:54,971 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:54,972 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:54,973 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:54,973 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:54,974 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:54,974 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:54,974 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:54,975 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:54,976 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:54,976 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:54,977 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:54,977 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:54,978 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:54,978 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:54,978 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:54,979 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:54,979 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:54,980 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:54,980 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:55,000 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:55,001 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:55,856 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:55,856 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:55,912 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 564.1}
2025-03-06 13:05:55,926 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:55,927 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:55,976 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 564.1}
2025-03-06 13:05:55,978 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:57,016 - shroombox.sensor - INFO - Successful measurement at 13:05:57 - CO2: 564.5ppm, Temp: 20.89°C, RH: 32.71%
2025-03-06 13:05:57,017 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:57,017 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:57,017 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:57,059 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:57,060 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:57,155 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:57,167 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:57,167 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:57,167 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:57,168 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 9.1 seconds left
2025-03-06 13:05:57,168 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:57,168 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:57,169 - shroombox - INFO - Last modified time: 2025-03-06 13:05:57
2025-03-06 13:05:57,169 - shroombox - INFO - Last checked time: 2025-03-06 13:05:54
2025-03-06 13:05:57,169 - shroombox - INFO - Current time: 2025-03-06 13:05:57
2025-03-06 13:05:57,170 - shroombox - INFO - Config file modified at 2025-03-06 13:05:57.151631, reloading...
2025-03-06 13:05:57,170 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:57,170 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:57,170 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:57,171 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:57,171 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:57,172 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:57,172 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:57,172 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:57,172 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:57,173 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:57,173 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:57,173 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:57,174 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:57,174 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:57,174 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:57,174 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:57,175 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:57,175 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:57,175 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:57,176 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:57,176 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:57,176 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:57,194 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:57,195 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:57,986 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:58,432 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:58,433 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:58,482 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 564.5}
2025-03-06 13:05:58,493 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:58,493 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:05:58,541 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 564.5}
2025-03-06 13:05:59,209 - shroombox.sensor - INFO - Successful measurement at 13:05:59 - CO2: 564.78ppm, Temp: 20.9°C, RH: 32.72%
2025-03-06 13:05:59,209 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:05:59,210 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:05:59,210 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:05:59,258 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:05:59,259 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:05:59,347 - shroombox - INFO - Heater set to OFF - Temp: 20.9°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:05:59,359 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:05:59,360 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:05:59,360 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:05:59,360 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 6.9 seconds left
2025-03-06 13:05:59,361 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:05:59,361 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:59,361 - shroombox - INFO - Last modified time: 2025-03-06 13:05:59
2025-03-06 13:05:59,362 - shroombox - INFO - Last checked time: 2025-03-06 13:05:57
2025-03-06 13:05:59,362 - shroombox - INFO - Current time: 2025-03-06 13:05:59
2025-03-06 13:05:59,363 - shroombox - INFO - Config file modified at 2025-03-06 13:05:59.343614, reloading...
2025-03-06 13:05:59,363 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:05:59,364 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:59,364 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:05:59,364 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:05:59,366 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:05:59,366 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:05:59,366 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:05:59,367 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:05:59,367 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:05:59,368 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:05:59,368 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:05:59,368 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:05:59,368 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:05:59,369 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:05:59,369 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:05:59,369 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:05:59,369 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:05:59,370 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:05:59,370 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:05:59,370 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:05:59,370 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:05:59,371 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:05:59,388 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:05:59,388 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:05:59,993 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:01,403 - shroombox.sensor - INFO - Successful measurement at 13:06:01 - CO2: 564.64ppm, Temp: 20.92°C, RH: 32.69%
2025-03-06 13:06:01,404 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:01,404 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:01,404 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:01,445 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:01,446 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:01,539 - shroombox - INFO - Heater set to OFF - Temp: 20.92°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:01,554 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:01,554 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:06:01,555 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:01,555 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 4.7 seconds left
2025-03-06 13:06:01,556 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:01,556 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:01,557 - shroombox - INFO - Last modified time: 2025-03-06 13:06:01
2025-03-06 13:06:01,557 - shroombox - INFO - Last checked time: 2025-03-06 13:05:59
2025-03-06 13:06:01,558 - shroombox - INFO - Current time: 2025-03-06 13:06:01
2025-03-06 13:06:01,558 - shroombox - INFO - Config file modified at 2025-03-06 13:06:01.535597, reloading...
2025-03-06 13:06:01,558 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:01,559 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:01,559 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:01,560 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:01,560 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:01,561 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:01,561 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:01,561 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:01,562 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:01,562 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:01,563 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:01,563 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:01,563 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:01,564 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:01,565 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:01,566 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:01,566 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:01,567 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:01,567 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:01,568 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:01,568 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:01,569 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:01,588 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:01,588 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:02,002 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:03,588 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:03,804 - shroombox.sensor - INFO - Successful measurement at 13:06:03 - CO2: 564.57ppm, Temp: 20.86°C, RH: 32.62%
2025-03-06 13:06:03,804 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.62%, CO2: 564.57ppm
2025-03-06 13:06:03,819 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:03,819 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:03,868 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 564.6}
2025-03-06 13:06:04,011 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:05,597 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:06,036 - shroombox.sensor - INFO - Successful measurement at 13:06:06 - CO2: 564.6ppm, Temp: 20.86°C, RH: 32.59%
2025-03-06 13:06:06,036 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:06,036 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:06,036 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:06,086 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:06,087 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:06,182 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:06,194 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:06,194 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:06,195 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:06,195 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:06,195 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:06,196 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:06,196 - shroombox - INFO - Last modified time: 2025-03-06 13:06:06
2025-03-06 13:06:06,196 - shroombox - INFO - Last checked time: 2025-03-06 13:05:45
2025-03-06 13:06:06,196 - shroombox - INFO - Current time: 2025-03-06 13:06:06
2025-03-06 13:06:06,196 - shroombox - INFO - Config file modified at 2025-03-06 13:06:06.175560, reloading...
2025-03-06 13:06:06,197 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:06,197 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:06,197 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:06,197 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:06,198 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:06,198 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:06,198 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:06,198 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:06,199 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:06,199 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:06,199 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:06,199 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:06,199 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:06,200 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:06,200 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:06,200 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:06,200 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:06,200 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:06,200 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:06,201 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:06,201 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:06,201 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:06,217 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:06,217 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:07,608 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:08,234 - shroombox.sensor - INFO - Successful measurement at 13:06:08 - CO2: 564.38ppm, Temp: 20.87°C, RH: 32.58%
2025-03-06 13:06:08,234 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:08,235 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:08,235 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:08,283 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:08,283 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:08,378 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:08,389 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:08,389 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:08,389 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:08,390 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:08,390 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:08,390 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:08,391 - shroombox - INFO - Last modified time: 2025-03-06 13:06:08
2025-03-06 13:06:08,391 - shroombox - INFO - Last checked time: 2025-03-06 13:06:06
2025-03-06 13:06:08,391 - shroombox - INFO - Current time: 2025-03-06 13:06:08
2025-03-06 13:06:08,391 - shroombox - INFO - Config file modified at 2025-03-06 13:06:08.371543, reloading...
2025-03-06 13:06:08,392 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:08,392 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:08,392 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:08,392 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:08,393 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:08,393 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:08,393 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:08,393 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:08,393 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:08,394 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:08,394 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:08,394 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:08,394 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:08,394 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:08,395 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:08,395 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:08,395 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:08,395 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:08,395 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:08,395 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:08,396 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:08,396 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:08,411 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:08,411 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:08,887 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:08,888 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:08,962 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 564.4}
2025-03-06 13:06:08,978 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:08,979 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:09,033 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 564.4}
2025-03-06 13:06:09,617 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:10,413 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:11,642 - shroombox.sensor - INFO - Successful measurement at 13:06:11 - CO2: 563.88ppm, Temp: 20.89°C, RH: 32.59%
2025-03-06 13:06:11,643 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:11,643 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:11,644 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:11,688 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:11,689 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:11,834 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:11,848 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:11,848 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:11,849 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:11,850 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -5.6 seconds left
2025-03-06 13:06:11,851 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:06:11,851 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:06:11,858 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:06:11,859 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to OFF
2025-03-06 13:06:11,859 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:11,860 - shroombox - INFO - Last modified time: 2025-03-06 13:06:11
2025-03-06 13:06:11,860 - shroombox - INFO - Last checked time: 2025-03-06 13:06:01
2025-03-06 13:06:11,861 - shroombox - INFO - Current time: 2025-03-06 13:06:11
2025-03-06 13:06:11,861 - shroombox - INFO - Config file modified at 2025-03-06 13:06:11.827516, reloading...
2025-03-06 13:06:11,862 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:11,862 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:11,863 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:11,863 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:11,864 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:11,864 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:11,865 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:11,865 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:11,865 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:11,866 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:11,866 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:11,867 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:11,867 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:11,868 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:11,868 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:11,868 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:11,869 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:11,869 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:11,869 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:11,870 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:11,870 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:11,870 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:11,890 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:11,890 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:12,419 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:13,906 - shroombox.sensor - INFO - Successful measurement at 13:06:13 - CO2: 563.45ppm, Temp: 20.87°C, RH: 32.51%
2025-03-06 13:06:13,907 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:13,907 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:13,907 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:13,955 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:13,956 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:13,982 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:13,983 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:14,034 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 563.9}
2025-03-06 13:06:14,047 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:14,047 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:14,057 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:14,068 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:14,071 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:14,072 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=False
2025-03-06 13:06:14,072 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 15.2s (min=0.5s)
2025-03-06 13:06:14,073 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 15.2s
2025-03-06 13:06:14,073 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:06:14,082 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:06:14,083 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to ON
2025-03-06 13:06:14,084 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:06:14,084 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:14,085 - shroombox - INFO - Last modified time: 2025-03-06 13:06:14
2025-03-06 13:06:14,085 - shroombox - INFO - Last checked time: 2025-03-06 13:06:11
2025-03-06 13:06:14,086 - shroombox - INFO - Current time: 2025-03-06 13:06:14
2025-03-06 13:06:14,088 - shroombox - INFO - Config file modified at 2025-03-06 13:06:14.051499, reloading...
2025-03-06 13:06:14,089 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:14,090 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:14,090 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:14,090 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:14,091 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:14,091 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:14,092 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:14,092 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:14,093 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:14,093 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:14,094 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:14,095 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:14,095 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:14,096 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:14,097 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:14,097 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:14,098 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:14,098 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:14,098 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:14,099 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:14,099 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:14,100 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:14,108 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 563.9}
2025-03-06 13:06:14,121 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:14,122 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:14,426 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:16,138 - shroombox.sensor - INFO - Successful measurement at 13:06:16 - CO2: 563.44ppm, Temp: 20.87°C, RH: 32.48%
2025-03-06 13:06:16,138 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:16,138 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:16,139 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:16,184 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:16,185 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:16,282 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:16,293 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:16,294 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:16,294 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:16,295 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 13.0 seconds left
2025-03-06 13:06:16,295 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:16,296 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:16,296 - shroombox - INFO - Last modified time: 2025-03-06 13:06:16
2025-03-06 13:06:16,296 - shroombox - INFO - Last checked time: 2025-03-06 13:06:14
2025-03-06 13:06:16,297 - shroombox - INFO - Current time: 2025-03-06 13:06:16
2025-03-06 13:06:16,297 - shroombox - INFO - Config file modified at 2025-03-06 13:06:16.275481, reloading...
2025-03-06 13:06:16,297 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:16,298 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:16,298 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:16,298 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:16,299 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:16,299 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:16,299 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:16,300 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:16,300 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:16,300 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:16,300 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:16,301 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:16,301 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:16,301 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:16,302 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:16,302 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:16,302 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:16,303 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:16,303 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:16,303 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:16,303 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:16,304 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:16,325 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:16,326 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:16,435 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:18,340 - shroombox.sensor - INFO - Successful measurement at 13:06:18 - CO2: 563.14ppm, Temp: 20.86°C, RH: 32.51%
2025-03-06 13:06:18,341 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:18,341 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:18,341 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:18,387 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:18,387 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:18,444 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:18,477 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:18,490 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:18,491 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:18,491 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:18,491 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 10.8 seconds left
2025-03-06 13:06:18,492 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:18,492 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:18,492 - shroombox - INFO - Last modified time: 2025-03-06 13:06:18
2025-03-06 13:06:18,493 - shroombox - INFO - Last checked time: 2025-03-06 13:06:16
2025-03-06 13:06:18,493 - shroombox - INFO - Current time: 2025-03-06 13:06:18
2025-03-06 13:06:18,493 - shroombox - INFO - Config file modified at 2025-03-06 13:06:18.471464, reloading...
2025-03-06 13:06:18,493 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:18,494 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:18,494 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:18,494 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:18,495 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:18,495 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:18,495 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:18,496 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:18,496 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:18,496 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:18,496 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:18,497 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:18,497 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:18,497 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:18,498 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:18,498 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:18,499 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:18,499 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:18,499 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:18,500 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:18,500 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:18,500 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:18,518 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:18,519 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:19,053 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:19,053 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:19,102 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.5, 'co2': 563.1}
2025-03-06 13:06:19,114 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:19,115 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:19,165 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.5, 'co2': 563.1}
2025-03-06 13:06:20,465 - shroombox.sensor - INFO - Successful measurement at 13:06:20 - CO2: 563.25ppm, Temp: 20.86°C, RH: 32.51%
2025-03-06 13:06:20,465 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:20,466 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:20,466 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:20,506 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:20,507 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:20,521 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:20,600 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:20,611 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:20,611 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:20,612 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:20,612 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:20,612 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:20,612 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:20,613 - shroombox - INFO - Last modified time: 2025-03-06 13:06:20
2025-03-06 13:06:20,613 - shroombox - INFO - Last checked time: 2025-03-06 13:06:08
2025-03-06 13:06:20,613 - shroombox - INFO - Current time: 2025-03-06 13:06:20
2025-03-06 13:06:20,613 - shroombox - INFO - Config file modified at 2025-03-06 13:06:20.595448, reloading...
2025-03-06 13:06:20,614 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:20,614 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:20,614 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:20,614 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:20,615 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:20,615 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:20,616 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:20,616 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:20,616 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:20,616 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:20,616 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:20,617 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:20,617 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:20,617 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:20,617 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:20,618 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:20,618 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:20,618 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:20,618 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:20,619 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:20,619 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:20,619 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:20,636 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:20,636 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:22,543 - shroombox.sensor - INFO - Successful measurement at 13:06:22 - CO2: 563.25ppm, Temp: 20.87°C, RH: 32.45%
2025-03-06 13:06:22,543 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:22,544 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:22,544 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:22,592 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:22,592 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:22,639 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:22,695 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:22,705 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:22,705 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:22,706 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:22,706 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 6.5 seconds left
2025-03-06 13:06:22,706 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:22,707 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:22,707 - shroombox - INFO - Last modified time: 2025-03-06 13:06:22
2025-03-06 13:06:22,707 - shroombox - INFO - Last checked time: 2025-03-06 13:06:18
2025-03-06 13:06:22,708 - shroombox - INFO - Current time: 2025-03-06 13:06:22
2025-03-06 13:06:22,708 - shroombox - INFO - Config file modified at 2025-03-06 13:06:22.691431, reloading...
2025-03-06 13:06:22,708 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:22,709 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:22,709 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:22,709 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:22,710 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:22,710 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:22,710 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:22,710 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:22,711 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:22,711 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:22,711 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:22,711 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:22,712 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:22,712 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:22,712 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:22,712 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:22,713 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:22,713 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:22,713 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:22,713 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:22,713 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:22,714 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:22,731 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:22,732 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:24,067 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:24,067 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:24,117 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.5, 'co2': 563.2}
2025-03-06 13:06:24,145 - shroombox.sensor - INFO - Successful measurement at 13:06:24 - CO2: 562.94ppm, Temp: 20.85°C, RH: 32.53%
2025-03-06 13:06:24,146 - shroombox - INFO - Live measurements - Temp: 20.85°C, RH: 32.53%, CO2: 562.94ppm
2025-03-06 13:06:24,648 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:24,733 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:26,669 - shroombox.sensor - INFO - Successful measurement at 13:06:26 - CO2: 562.9ppm, Temp: 20.9°C, RH: 32.54%
2025-03-06 13:06:26,669 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:26,670 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:26,670 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:26,713 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:26,713 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:26,742 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:26,809 - shroombox - INFO - Heater set to OFF - Temp: 20.9°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:26,820 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:26,821 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:26,821 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:26,821 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:26,821 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:26,822 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:26,822 - shroombox - INFO - Last modified time: 2025-03-06 13:06:26
2025-03-06 13:06:26,822 - shroombox - INFO - Last checked time: 2025-03-06 13:06:20
2025-03-06 13:06:26,823 - shroombox - INFO - Current time: 2025-03-06 13:06:26
2025-03-06 13:06:26,823 - shroombox - INFO - Config file modified at 2025-03-06 13:06:26.803399, reloading...
2025-03-06 13:06:26,823 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:26,823 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:26,824 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:26,824 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:26,824 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:26,824 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:26,825 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:26,825 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:26,825 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:26,825 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:26,825 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:26,826 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:26,826 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:26,826 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:26,826 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:26,826 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:26,826 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:26,827 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:26,827 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:26,827 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:26,827 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:26,827 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:26,844 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:26,844 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:28,763 - shroombox.sensor - INFO - Successful measurement at 13:06:28 - CO2: 562.74ppm, Temp: 20.86°C, RH: 32.6%
2025-03-06 13:06:28,764 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:28,764 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:28,764 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:28,804 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:28,805 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:28,846 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:28,899 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:28,910 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:28,910 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:28,910 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:28,911 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 0.3 seconds left
2025-03-06 13:06:28,911 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:28,912 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:28,912 - shroombox - INFO - Last modified time: 2025-03-06 13:06:28
2025-03-06 13:06:28,912 - shroombox - INFO - Last checked time: 2025-03-06 13:06:22
2025-03-06 13:06:28,913 - shroombox - INFO - Current time: 2025-03-06 13:06:28
2025-03-06 13:06:28,913 - shroombox - INFO - Config file modified at 2025-03-06 13:06:28.895383, reloading...
2025-03-06 13:06:28,914 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:28,914 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:28,914 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:28,915 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:28,916 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:28,916 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:28,916 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:28,917 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:28,917 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:28,917 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:28,917 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:28,918 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:28,918 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:28,918 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:28,919 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:28,919 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:28,919 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:28,919 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:28,920 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:28,920 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:28,920 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:28,921 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:28,937 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:28,938 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:29,165 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:29,166 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:29,214 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.7}
2025-03-06 13:06:29,228 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:29,228 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:29,301 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.7}
2025-03-06 13:06:30,854 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:30,952 - shroombox.sensor - INFO - Successful measurement at 13:06:30 - CO2: 562.87ppm, Temp: 20.87°C, RH: 32.59%
2025-03-06 13:06:30,953 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:30,953 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:30,953 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:30,994 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:30,995 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:31,093 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:31,104 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:31,104 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:31,105 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:31,105 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -1.9 seconds left
2025-03-06 13:06:31,105 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:06:31,105 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:06:31,112 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:06:31,113 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to OFF
2025-03-06 13:06:31,114 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:31,115 - shroombox - INFO - Last modified time: 2025-03-06 13:06:31
2025-03-06 13:06:31,115 - shroombox - INFO - Last checked time: 2025-03-06 13:06:28
2025-03-06 13:06:31,116 - shroombox - INFO - Current time: 2025-03-06 13:06:31
2025-03-06 13:06:31,116 - shroombox - INFO - Config file modified at 2025-03-06 13:06:31.087366, reloading...
2025-03-06 13:06:31,117 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:31,117 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:31,118 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:31,119 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:31,120 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:31,121 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:31,122 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:31,123 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:31,123 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:31,123 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:31,124 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:31,124 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:31,124 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:31,125 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:31,125 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:31,125 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:31,126 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:31,126 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:31,126 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:31,126 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:31,127 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:31,127 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:31,144 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:31,145 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:32,863 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:33,145 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:34,297 - shroombox.sensor - INFO - Successful measurement at 13:06:34 - CO2: 562.97ppm, Temp: 20.9°C, RH: 32.56%
2025-03-06 13:06:34,298 - shroombox - INFO - Live measurements - Temp: 20.9°C, RH: 32.56%, CO2: 562.97ppm
2025-03-06 13:06:34,312 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:34,312 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:34,362 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.9}
2025-03-06 13:06:34,872 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:35,153 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:36,899 - shroombox.sensor - INFO - Successful measurement at 13:06:36 - CO2: 562.18ppm, Temp: 20.89°C, RH: 32.54%
2025-03-06 13:06:36,900 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:36,900 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:36,901 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:36,959 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:36,960 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:37,056 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:37,067 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:37,068 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:37,068 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:37,068 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:37,069 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:37,069 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:37,069 - shroombox - INFO - Last modified time: 2025-03-06 13:06:37
2025-03-06 13:06:37,069 - shroombox - INFO - Last checked time: 2025-03-06 13:06:26
2025-03-06 13:06:37,070 - shroombox - INFO - Current time: 2025-03-06 13:06:37
2025-03-06 13:06:37,070 - shroombox - INFO - Config file modified at 2025-03-06 13:06:37.051319, reloading...
2025-03-06 13:06:37,070 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:37,070 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:37,071 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:37,071 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:37,071 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:37,071 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:37,072 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:37,072 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:37,072 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:37,072 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:37,072 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:37,073 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:37,073 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:37,073 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:37,073 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:37,073 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:37,074 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:37,074 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:37,074 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:37,074 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:37,074 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:37,074 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:37,091 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:37,091 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:37,162 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:39,105 - shroombox.sensor - INFO - Successful measurement at 13:06:39 - CO2: 561.67ppm, Temp: 20.87°C, RH: 32.59%
2025-03-06 13:06:39,106 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:39,106 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:39,106 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:39,148 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:39,149 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:39,169 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:39,244 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:39,255 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:39,255 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:39,255 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:39,256 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:39,256 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:39,256 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:39,256 - shroombox - INFO - Last modified time: 2025-03-06 13:06:39
2025-03-06 13:06:39,257 - shroombox - INFO - Last checked time: 2025-03-06 13:06:37
2025-03-06 13:06:39,257 - shroombox - INFO - Current time: 2025-03-06 13:06:39
2025-03-06 13:06:39,257 - shroombox - INFO - Config file modified at 2025-03-06 13:06:39.239302, reloading...
2025-03-06 13:06:39,257 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:39,258 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:39,258 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:39,258 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:39,258 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:39,259 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:39,259 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:39,259 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:39,259 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:39,259 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:39,260 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:39,260 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:39,260 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:39,260 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:39,261 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:39,261 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:39,261 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:39,261 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:39,262 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:39,262 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:39,262 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:39,262 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:39,278 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:39,279 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:40,323 - shroombox.sensor - INFO - Successful measurement at 13:06:40 - CO2: 561.75ppm, Temp: 20.86°C, RH: 32.65%
2025-03-06 13:06:40,323 - shroombox - INFO - Live measurements - Temp: 20.86°C, RH: 32.65%, CO2: 561.75ppm
2025-03-06 13:06:40,332 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:40,333 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:40,382 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 561.7}
2025-03-06 13:06:41,178 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:41,278 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:43,199 - shroombox.sensor - INFO - Successful measurement at 13:06:43 - CO2: 561.63ppm, Temp: 20.89°C, RH: 32.54%
2025-03-06 13:06:43,200 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:43,201 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:43,201 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:43,248 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:43,248 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:43,288 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:43,345 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:43,357 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:43,358 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=40.0%
2025-03-06 13:06:43,358 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=False
2025-03-06 13:06:43,359 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 17.4s (min=0.5s)
2025-03-06 13:06:43,359 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 17.4s
2025-03-06 13:06:43,359 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:06:43,366 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:06:43,366 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to ON
2025-03-06 13:06:43,366 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:06:43,367 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:43,367 - shroombox - INFO - Last modified time: 2025-03-06 13:06:43
2025-03-06 13:06:43,368 - shroombox - INFO - Last checked time: 2025-03-06 13:06:31
2025-03-06 13:06:43,368 - shroombox - INFO - Current time: 2025-03-06 13:06:43
2025-03-06 13:06:43,368 - shroombox - INFO - Config file modified at 2025-03-06 13:06:43.339271, reloading...
2025-03-06 13:06:43,369 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:43,369 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:43,369 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:43,369 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:43,370 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:43,371 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:43,371 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:43,371 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:43,372 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:43,372 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:43,372 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:43,373 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:43,373 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:43,373 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:43,374 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:43,374 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:43,375 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:43,375 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:43,375 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:43,376 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:43,376 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:43,377 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:43,400 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:43,400 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:45,311 - shroombox.sensor - INFO - Successful measurement at 13:06:45 - CO2: 561.97ppm, Temp: 20.87°C, RH: 32.61%
2025-03-06 13:06:45,311 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:45,311 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:45,312 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:45,350 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:45,350 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:45,401 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:45,454 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:45,465 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:45,466 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:45,466 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:45,466 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:45,466 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:45,467 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:45,468 - shroombox - INFO - Last modified time: 2025-03-06 13:06:45
2025-03-06 13:06:45,468 - shroombox - INFO - Last checked time: 2025-03-06 13:06:39
2025-03-06 13:06:45,468 - shroombox - INFO - Current time: 2025-03-06 13:06:45
2025-03-06 13:06:45,468 - shroombox - INFO - Config file modified at 2025-03-06 13:06:45.447254, reloading...
2025-03-06 13:06:45,468 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:45,469 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:45,469 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:45,469 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:45,469 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:45,470 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:45,470 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:45,470 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:45,470 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:45,470 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:45,471 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:45,471 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:45,471 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:45,471 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:45,471 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:45,472 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:45,472 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:45,472 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:45,472 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:45,472 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:45,472 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:45,473 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:45,490 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:45,490 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:46,314 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:46,315 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:46,365 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.0}
2025-03-06 13:06:46,377 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:46,377 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:46,427 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.0}
2025-03-06 13:06:47,424 - shroombox.sensor - INFO - Successful measurement at 13:06:47 - CO2: 562.15ppm, Temp: 20.85°C, RH: 32.59%
2025-03-06 13:06:47,425 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:47,425 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:47,426 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:47,473 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:47,474 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:47,493 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:47,573 - shroombox - INFO - Heater set to OFF - Temp: 20.85°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:47,585 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:47,585 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:47,585 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:47,586 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 13.1 seconds left
2025-03-06 13:06:47,587 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:47,588 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:47,588 - shroombox - INFO - Last modified time: 2025-03-06 13:06:47
2025-03-06 13:06:47,588 - shroombox - INFO - Last checked time: 2025-03-06 13:06:43
2025-03-06 13:06:47,589 - shroombox - INFO - Current time: 2025-03-06 13:06:47
2025-03-06 13:06:47,589 - shroombox - INFO - Config file modified at 2025-03-06 13:06:47.567238, reloading...
2025-03-06 13:06:47,589 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:47,590 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:47,590 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:47,590 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:47,591 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:47,591 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:47,591 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:47,592 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:47,592 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:47,592 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:47,592 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:47,592 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:47,593 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:47,593 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:47,593 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:47,593 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:47,593 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:47,593 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:47,594 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:47,594 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:47,594 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:47,594 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:47,611 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:47,611 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:49,514 - shroombox.sensor - INFO - Successful measurement at 13:06:49 - CO2: 562.05ppm, Temp: 20.87°C, RH: 32.65%
2025-03-06 13:06:49,514 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:49,515 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:49,515 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:49,554 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:49,555 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:49,613 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:49,650 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:49,661 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:49,661 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:49,661 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:49,662 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:49,662 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:49,663 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:49,663 - shroombox - INFO - Last modified time: 2025-03-06 13:06:49
2025-03-06 13:06:49,663 - shroombox - INFO - Last checked time: 2025-03-06 13:06:45
2025-03-06 13:06:49,664 - shroombox - INFO - Current time: 2025-03-06 13:06:49
2025-03-06 13:06:49,664 - shroombox - INFO - Config file modified at 2025-03-06 13:06:49.643222, reloading...
2025-03-06 13:06:49,664 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:49,665 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:49,665 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:49,665 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:49,666 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:49,666 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:49,666 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:49,666 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:49,667 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:49,667 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:49,667 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:49,667 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:49,667 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:49,668 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:49,668 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:49,668 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:49,668 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:49,668 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:49,669 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:49,669 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:49,669 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:49,669 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:49,685 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:49,685 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:51,636 - shroombox.sensor - INFO - Successful measurement at 13:06:51 - CO2: 561.2ppm, Temp: 20.87°C, RH: 32.65%
2025-03-06 13:06:51,636 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:51,637 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:51,637 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:51,678 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:51,679 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:51,685 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:51,777 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:51,792 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:51,792 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:51,792 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:51,793 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 8.9 seconds left
2025-03-06 13:06:51,793 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:51,794 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:51,794 - shroombox - INFO - Last modified time: 2025-03-06 13:06:51
2025-03-06 13:06:51,794 - shroombox - INFO - Last checked time: 2025-03-06 13:06:47
2025-03-06 13:06:51,794 - shroombox - INFO - Current time: 2025-03-06 13:06:51
2025-03-06 13:06:51,795 - shroombox - INFO - Config file modified at 2025-03-06 13:06:51.771205, reloading...
2025-03-06 13:06:51,795 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:51,795 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:51,796 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:51,796 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:51,796 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:51,797 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:51,797 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:51,797 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:51,798 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:51,798 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:51,798 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:51,798 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:51,798 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:51,799 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:51,799 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:51,799 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:51,800 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:51,800 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:51,800 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:51,801 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:51,802 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:51,802 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:51,825 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:51,826 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:52,308 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:52,309 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:52,357 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 561.2}
2025-03-06 13:06:52,365 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:52,366 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:52,414 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 561.2}
2025-03-06 13:06:53,706 - shroombox.sensor - INFO - Successful measurement at 13:06:53 - CO2: 561.12ppm, Temp: 20.87°C, RH: 32.59%
2025-03-06 13:06:53,707 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:53,707 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:53,708 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:53,750 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:53,751 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:53,828 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:53,848 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:53,862 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:53,863 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:53,864 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:06:53,864 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:06:53,865 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:06:53,865 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:53,866 - shroombox - INFO - Last modified time: 2025-03-06 13:06:53
2025-03-06 13:06:53,866 - shroombox - INFO - Last checked time: 2025-03-06 13:06:49
2025-03-06 13:06:53,866 - shroombox - INFO - Current time: 2025-03-06 13:06:53
2025-03-06 13:06:53,867 - shroombox - INFO - Config file modified at 2025-03-06 13:06:53.843189, reloading...
2025-03-06 13:06:53,867 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:53,867 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:53,868 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:53,868 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:53,868 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:53,869 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:53,869 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:53,869 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:53,870 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:53,871 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:53,871 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:53,871 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:53,872 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:53,872 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:53,873 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:53,873 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:53,873 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:53,873 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:53,873 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:53,873 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:53,874 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:53,874 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:53,891 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:53,892 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:55,837 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:55,893 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:57,857 - shroombox.sensor - INFO - Successful measurement at 13:06:57 - CO2: 561.23ppm, Temp: 20.87°C, RH: 32.59%
2025-03-06 13:06:57,858 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:06:57,858 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:06:57,859 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:06:57,902 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:06:57,902 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:06:57,902 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:57,993 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:06:58,006 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:06:58,007 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:06:58,007 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:06:58,007 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 2.7 seconds left
2025-03-06 13:06:58,008 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:06:58,008 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:58,009 - shroombox - INFO - Last modified time: 2025-03-06 13:06:57
2025-03-06 13:06:58,009 - shroombox - INFO - Last checked time: 2025-03-06 13:06:51
2025-03-06 13:06:58,009 - shroombox - INFO - Current time: 2025-03-06 13:06:58
2025-03-06 13:06:58,009 - shroombox - INFO - Config file modified at 2025-03-06 13:06:57.987157, reloading...
2025-03-06 13:06:58,010 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:06:58,010 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:58,010 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:06:58,011 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:06:58,011 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:06:58,012 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:06:58,012 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:06:58,012 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:06:58,013 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:06:58,013 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:06:58,013 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:06:58,013 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:06:58,014 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:06:58,014 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:06:58,014 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:06:58,014 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:06:58,014 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:06:58,015 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:06:58,015 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:06:58,015 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:06:58,015 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:06:58,016 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:06:58,032 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:58,033 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:06:58,333 - shroombox.sensor - INFO - Successful measurement at 13:06:58 - CO2: 560.72ppm, Temp: 20.87°C, RH: 32.58%
2025-03-06 13:06:58,333 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.58%, CO2: 560.72ppm
2025-03-06 13:06:58,342 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:06:58,342 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:06:58,390 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 561.2}
2025-03-06 13:06:59,912 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:00,032 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:01,934 - shroombox.sensor - INFO - Successful measurement at 13:07:01 - CO2: 560.9ppm, Temp: 20.89°C, RH: 32.64%
2025-03-06 13:07:01,934 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:01,935 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:01,935 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:01,980 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:01,981 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:02,041 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:02,071 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:02,081 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:02,081 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:07:02,082 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:07:02,082 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:07:02,082 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:07:02,083 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:02,083 - shroombox - INFO - Last modified time: 2025-03-06 13:07:02
2025-03-06 13:07:02,083 - shroombox - INFO - Last checked time: 2025-03-06 13:06:53
2025-03-06 13:07:02,083 - shroombox - INFO - Current time: 2025-03-06 13:07:02
2025-03-06 13:07:02,084 - shroombox - INFO - Config file modified at 2025-03-06 13:07:02.067126, reloading...
2025-03-06 13:07:02,084 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:02,084 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:02,084 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:02,085 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:02,085 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:02,085 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:02,085 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:02,086 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:02,086 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:02,086 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:02,086 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:02,086 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:02,087 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:02,087 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:02,087 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:02,087 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:02,087 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:02,087 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:02,088 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:02,088 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:02,088 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:02,088 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:02,104 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:02,104 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:04,062 - shroombox.sensor - INFO - Successful measurement at 13:07:04 - CO2: 560.85ppm, Temp: 20.89°C, RH: 32.64%
2025-03-06 13:07:04,062 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:04,063 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:04,063 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:04,104 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:04,104 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:04,104 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:04,199 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:04,210 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:04,211 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:07:04,212 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:07:04,212 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, -3.5 seconds left
2025-03-06 13:07:04,213 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst complete, turning humidifier OFF
2025-03-06 13:07:04,213 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:07:04,219 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:07:04,220 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to OFF
2025-03-06 13:07:04,221 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:04,222 - shroombox - INFO - Last modified time: 2025-03-06 13:07:04
2025-03-06 13:07:04,222 - shroombox - INFO - Last checked time: 2025-03-06 13:06:57
2025-03-06 13:07:04,223 - shroombox - INFO - Current time: 2025-03-06 13:07:04
2025-03-06 13:07:04,223 - shroombox - INFO - Config file modified at 2025-03-06 13:07:04.195109, reloading...
2025-03-06 13:07:04,224 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:04,225 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:04,225 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:04,225 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:04,226 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:04,226 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:04,227 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:04,227 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:04,227 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:04,227 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:04,228 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:04,228 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:04,228 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:04,228 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:04,229 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:04,229 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:04,229 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:04,230 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:04,230 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:04,230 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:04,231 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:04,231 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:04,248 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:04,248 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:04,301 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:04,301 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:04,401 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 560.9}
2025-03-06 13:07:04,445 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:04,446 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:04,518 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 560.9}
2025-03-06 13:07:06,128 - shroombox.sensor - INFO - Successful measurement at 13:07:06 - CO2: 561.35ppm, Temp: 20.89°C, RH: 32.64%
2025-03-06 13:07:06,128 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:06,129 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:06,129 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:06,179 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:06,179 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:06,250 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:06,286 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:06,297 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:06,298 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:07:06,298 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:07:06,299 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:07:06,299 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:07:06,300 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:06,300 - shroombox - INFO - Last modified time: 2025-03-06 13:07:06
2025-03-06 13:07:06,300 - shroombox - INFO - Last checked time: 2025-03-06 13:07:02
2025-03-06 13:07:06,300 - shroombox - INFO - Current time: 2025-03-06 13:07:06
2025-03-06 13:07:06,301 - shroombox - INFO - Config file modified at 2025-03-06 13:07:06.279093, reloading...
2025-03-06 13:07:06,301 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:06,301 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:06,302 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:06,302 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:06,302 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:06,302 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:06,303 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:06,303 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:06,303 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:06,303 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:06,304 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:06,304 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:06,304 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:06,304 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:06,304 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:06,305 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:06,305 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:06,305 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:06,305 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:06,305 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:06,306 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:06,306 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:06,324 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:06,325 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:08,273 - shroombox.sensor - INFO - Successful measurement at 13:07:08 - CO2: 561.35ppm, Temp: 20.86°C, RH: 32.69%
2025-03-06 13:07:08,273 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:08,274 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:08,274 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:08,316 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:08,317 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:08,325 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:08,410 - shroombox - INFO - Heater set to OFF - Temp: 20.86°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:08,420 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:08,421 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:07:08,421 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=False
2025-03-06 13:07:08,421 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: 19.2s (min=0.5s)
2025-03-06 13:07:08,421 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Starting new burst for 19.2s
2025-03-06 13:07:08,422 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to ON
2025-03-06 13:07:08,429 - shroombox.device - ERROR - Error setting device state: Tapo(SessionTimeout)
2025-03-06 13:07:08,430 - shroombox - ERROR - SET_HUMIDIFIER_STATE: Failed to set humidifier state to ON
2025-03-06 13:07:08,430 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Humidifier turned ON for burst
2025-03-06 13:07:08,430 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:08,431 - shroombox - INFO - Last modified time: 2025-03-06 13:07:08
2025-03-06 13:07:08,431 - shroombox - INFO - Last checked time: 2025-03-06 13:07:04
2025-03-06 13:07:08,431 - shroombox - INFO - Current time: 2025-03-06 13:07:08
2025-03-06 13:07:08,432 - shroombox - INFO - Config file modified at 2025-03-06 13:07:08.403077, reloading...
2025-03-06 13:07:08,432 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:08,432 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:08,433 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:08,433 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:08,433 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:08,434 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:08,434 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:08,434 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:08,435 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:08,435 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:08,435 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:08,436 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:08,436 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:08,436 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:08,437 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:08,437 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:08,437 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:08,437 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:08,438 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:08,438 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:08,438 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:08,438 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:08,455 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:08,456 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:10,320 - shroombox.sensor - INFO - Successful measurement at 13:07:10 - CO2: 561.39ppm, Temp: 20.87°C, RH: 32.62%
2025-03-06 13:07:10,320 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.62%, CO2: 561.39ppm
2025-03-06 13:07:10,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:10,331 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:10,333 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:10,380 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 561.4}
2025-03-06 13:07:10,457 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:12,356 - shroombox.sensor - INFO - Successful measurement at 13:07:12 - CO2: 561.75ppm, Temp: 20.89°C, RH: 32.61%
2025-03-06 13:07:12,356 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:12,357 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:12,357 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:12,402 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:12,402 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:12,465 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:12,495 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:12,507 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:12,507 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:07:12,507 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:07:12,508 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:07:12,508 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:07:12,508 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:12,509 - shroombox - INFO - Last modified time: 2025-03-06 13:07:12
2025-03-06 13:07:12,509 - shroombox - INFO - Last checked time: 2025-03-06 13:07:06
2025-03-06 13:07:12,509 - shroombox - INFO - Current time: 2025-03-06 13:07:12
2025-03-06 13:07:12,509 - shroombox - INFO - Config file modified at 2025-03-06 13:07:12.487045, reloading...
2025-03-06 13:07:12,510 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:12,510 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:12,510 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:12,510 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:12,511 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:12,511 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:12,511 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:12,512 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:12,512 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:12,512 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:12,512 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:12,512 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:12,513 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:12,513 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:12,513 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:12,513 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:12,514 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:12,514 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:12,514 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:12,514 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:12,514 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:12,515 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:12,532 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:12,532 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:14,489 - shroombox.sensor - INFO - Successful measurement at 13:07:14 - CO2: 561.87ppm, Temp: 20.87°C, RH: 32.67%
2025-03-06 13:07:14,489 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:14,490 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:14,490 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:14,532 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:14,534 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:14,535 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:14,629 - shroombox - INFO - Heater set to OFF - Temp: 20.87°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:14,639 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:14,640 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:07:14,640 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:07:14,641 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 12.9 seconds left
2025-03-06 13:07:14,641 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:07:14,641 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:14,642 - shroombox - INFO - Last modified time: 2025-03-06 13:07:14
2025-03-06 13:07:14,642 - shroombox - INFO - Last checked time: 2025-03-06 13:07:08
2025-03-06 13:07:14,642 - shroombox - INFO - Current time: 2025-03-06 13:07:14
2025-03-06 13:07:14,642 - shroombox - INFO - Config file modified at 2025-03-06 13:07:14.623029, reloading...
2025-03-06 13:07:14,643 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:14,643 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:14,643 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:14,644 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:14,644 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:14,644 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:14,645 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:14,645 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:14,645 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:14,646 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:14,646 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:14,646 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:14,647 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:14,648 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:14,648 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:14,649 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:14,649 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:14,650 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:14,650 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:14,651 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:14,651 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:14,652 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:14,672 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:14,673 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:16,310 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:16,310 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:16,361 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 561.9}
2025-03-06 13:07:16,371 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:16,371 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:16,422 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.7, 'co2': 561.9}
2025-03-06 13:07:16,556 - shroombox.sensor - INFO - Successful measurement at 13:07:16 - CO2: 561.82ppm, Temp: 20.89°C, RH: 32.66%
2025-03-06 13:07:16,556 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:16,556 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:16,557 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:16,602 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:16,602 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:16,672 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:16,694 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:16,705 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:16,705 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.7%, Setpoint=40.0%
2025-03-06 13:07:16,705 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:07:16,706 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:07:16,706 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:07:16,706 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:16,706 - shroombox - INFO - Last modified time: 2025-03-06 13:07:16
2025-03-06 13:07:16,707 - shroombox - INFO - Last checked time: 2025-03-06 13:07:12
2025-03-06 13:07:16,707 - shroombox - INFO - Current time: 2025-03-06 13:07:16
2025-03-06 13:07:16,707 - shroombox - INFO - Config file modified at 2025-03-06 13:07:16.687013, reloading...
2025-03-06 13:07:16,707 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:16,708 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:16,708 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:16,708 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:16,708 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:16,709 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:16,709 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:16,709 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:16,709 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:16,709 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:16,710 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:16,710 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:16,710 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:16,710 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:16,710 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:16,711 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:16,711 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:16,711 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:16,711 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:16,711 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:16,711 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:16,712 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:16,728 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:16,729 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:18,681 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:18,744 - shroombox.sensor - INFO - Successful measurement at 13:07:18 - CO2: 561.71ppm, Temp: 20.89°C, RH: 32.64%
2025-03-06 13:07:18,745 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:18,745 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:18,745 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:18,785 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:18,785 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:18,883 - shroombox - INFO - Heater set to OFF - Temp: 20.89°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:18,893 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:18,894 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:07:18,894 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:07:18,894 - shroombox - INFO - HUMIDITY CONTROL DEBUG: PID calculated burst duration: nans (min=0.5s)
2025-03-06 13:07:18,894 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Burst duration nans too short, skipping
2025-03-06 13:07:18,895 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:18,895 - shroombox - INFO - Last modified time: 2025-03-06 13:07:18
2025-03-06 13:07:18,896 - shroombox - INFO - Last checked time: 2025-03-06 13:07:16
2025-03-06 13:07:18,896 - shroombox - INFO - Current time: 2025-03-06 13:07:18
2025-03-06 13:07:18,896 - shroombox - INFO - Config file modified at 2025-03-06 13:07:18.874996, reloading...
2025-03-06 13:07:18,896 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:18,896 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:18,897 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:18,897 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:18,897 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:18,898 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:18,898 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:18,898 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:18,898 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:18,899 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:18,899 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:18,899 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:18,899 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:18,900 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:18,900 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:18,900 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:18,900 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:18,900 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:18,900 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:18,901 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:18,901 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:18,901 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:18,917 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:18,918 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:20,690 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:20,917 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:22,327 - shroombox.sensor - INFO - Successful measurement at 13:07:22 - CO2: 562.14ppm, Temp: 20.87°C, RH: 32.62%
2025-03-06 13:07:22,327 - shroombox - INFO - Live measurements - Temp: 20.87°C, RH: 32.62%, CO2: 562.14ppm
2025-03-06 13:07:22,341 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:22,341 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:22,390 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 561.7}
2025-03-06 13:07:22,696 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:22,925 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:24,719 - shroombox.sensor - INFO - Successful measurement at 13:07:24 - CO2: 562.28ppm, Temp: 20.85°C, RH: 32.65%
2025-03-06 13:07:24,719 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.9°C, Setpoint=10.0°C, Hysteresis=0.5°C
2025-03-06 13:07:24,720 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=9.5°C, Current heater state=OFF
2025-03-06 13:07:24,720 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? False (temp < threshold? 20.9 < 9.5)
2025-03-06 13:07:24,809 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to OFF based on temperature logic
2025-03-06 13:07:24,809 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:07:24,907 - shroombox - INFO - Heater set to OFF - Temp: 20.85°C (Target: 10.0°C ±0.5°C)
2025-03-06 13:07:24,920 - shroombox - INFO - ✓ Logged heater state: OFF
2025-03-06 13:07:24,921 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.6%, Setpoint=40.0%
2025-03-06 13:07:24,922 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=ON, Bursting=True
2025-03-06 13:07:24,923 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Currently in burst mode, 2.7 seconds left
2025-03-06 13:07:24,923 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Continuing burst
2025-03-06 13:07:24,923 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:24,924 - shroombox - INFO - Last modified time: 2025-03-06 13:07:24
2025-03-06 13:07:24,924 - shroombox - INFO - Last checked time: 2025-03-06 13:07:14
2025-03-06 13:07:24,924 - shroombox - INFO - Current time: 2025-03-06 13:07:24
2025-03-06 13:07:24,924 - shroombox - INFO - Config file modified at 2025-03-06 13:07:24.906949, reloading...
2025-03-06 13:07:24,925 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
   ...
2025-03-06 13:07:24,925 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:24,925 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:24,925 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:24,926 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:24,926 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:24,927 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:07:24,927 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:24,927 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:24,927 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:24,927 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 10.0
2025-03-06 13:07:24,928 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:24,928 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:24,929 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:24,929 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:24,929 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:24,929 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:24,929 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:07:24,929 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:24,930 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:24,930 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:24,930 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:24,934 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:24,948 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:24,949 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:28,067 - shroombox.sensor - ERROR - Error reading measurements: [Errno 110] Connection timed out
2025-03-06 13:07:29,091 - shroombox.sensor - ERROR - Error reading measurements: [Errno 110] Connection timed out
2025-03-06 13:07:30,115 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:30,115 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:30,115 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:30,173 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:31,139 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:31,139 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:32,163 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:32,163 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:32,163 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:32,212 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:33,187 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:33,187 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:34,211 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:34,211 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:34,211 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:34,276 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:35,235 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:35,235 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:36,259 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:36,259 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:36,260 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:36,329 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:37,283 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:37,283 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:38,307 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:38,307 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:39,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:39,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:39,331 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:39,381 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:40,355 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:40,358 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:41,379 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:41,380 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:41,380 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:41,455 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:41,479 - shroombox - INFO - Received settings update request with data: {
  "available_devices": [
    {
      "ip": "192.168.8.181",
      "mac": "B0-19-21-C4-C9-9D",
      "model": "P115",
      "name": "Humidifier",
      "role": "humidifier",
      "state": true,
      "type": "SMART.TAPOPLUG"
    },
    {
      "ip": "192.168.8.164",
      "mac": "B0-19-21-C4-CE-97",
      "model": "P115",
      "name": "Heatmat",
      "role": "heater",
      "state": false,
      "type": "SMART.TAPOPLUG"
    }
  ],
  "co2": {
    "pid": {
      "Kd": 0,
      "Ki": -0.01,
      "Kp": -1
    }
  },
  "environment": {
    "current_phase": "colonisation",
    "phases": {
      "cake": {
        "co2_setpoint": 500,
        "rh_setpoint": 0,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      },
      "colonisation": {
        "co2_setpoint": 500,
        "rh_setpoint": 40,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 30
      },
      "growing": {
        "co2_setpoint": 550,
        "rh_setpoint": 85,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      }
    }
  },
  "humidifier": {
    "break_time": 180,
    "burst_interval": 60,
    "burst_max": 30,
    "burst_min": 2,
    "pid": {
      "Kd": 0,
      "Ki": 0.01,
      "Kp": 0.2
    },
    "rh_hysteresis": 2
  },
  "logging": {
    "enabled": true,
    "interval": 30
  },
  "sensor": {
    "measurement_interval": 2
  }
}
2025-03-06 13:07:41,479 - shroombox - INFO - Settings file path: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:41,480 - shroombox - INFO - Successfully loaded current settings from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:41,480 - shroombox - INFO - Current phase: colonisation
2025-03-06 13:07:41,480 - shroombox - INFO - Old settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 40.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 10.0
}
2025-03-06 13:07:41,481 - shroombox - INFO - New settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 40.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 30.0
}
2025-03-06 13:07:41,481 - shroombox - INFO - Changing temp_setpoint from 10.0 to 30.0 for colonisation phase
2025-03-06 13:07:41,481 - shroombox - INFO - No change for rh_setpoint: remains 40.0
2025-03-06 13:07:41,481 - shroombox - INFO - No change for co2_setpoint: remains 500
2025-03-06 13:07:41,490 - shroombox - INFO - Successfully wrote and verified settings to /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:41,490 - shroombox - INFO - Settings updated successfully for colonisation phase
2025-03-06 13:07:41,490 - shroombox - INFO - Reset controller config_last_modified to 0
2025-03-06 13:07:41,491 - shroombox - INFO - Created task to check config updates
2025-03-06 13:07:41,491 - shroombox - INFO - Running heater diagnostic to apply new settings
2025-03-06 13:07:41,492 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:41,493 - shroombox - INFO - Last modified time: 2025-03-06 13:07:41
2025-03-06 13:07:41,493 - shroombox - INFO - Last checked time: Never
2025-03-06 13:07:41,493 - shroombox - INFO - Current time: 2025-03-06 13:07:41
2025-03-06 13:07:41,494 - shroombox - INFO - Config file modified at 2025-03-06 13:07:41.478822, reloading...
2025-03-06 13:07:41,494 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "name": "Humidifier",
            "role": "humidifier",
            "state": true,
            "type": "SMART.TAPOPLUG"
        },
        {
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "name": "Heatmat",
            "role": "heater",
            "state": false,
           ...
2025-03-06 13:07:41,494 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:41,495 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:07:41,495 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:07:41,495 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:07:41,496 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:07:41,496 - shroombox - INFO -   Temperature setpoint: 30.0°C
2025-03-06 13:07:41,496 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:07:41,496 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:07:41,497 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:07:41,497 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 30.0
2025-03-06 13:07:41,497 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:07:41,497 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:07:41,497 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:07:41,498 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:07:41,498 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:07:41,498 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:07:41,498 - shroombox - INFO - Temperature setpoint: 30.0°C
2025-03-06 13:07:41,498 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:07:41,499 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:07:41,499 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:07:41,499 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:07:42,403 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:42,404 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:43,427 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:43,427 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:43,427 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:44,451 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:44,451 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:45,475 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:45,475 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:45,475 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:07:46,499 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:46,500 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:47,523 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:47,523 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:47,524 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:47,590 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:48,547 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:48,547 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:49,571 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:49,571 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:49,572 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:49,647 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:50,595 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:50,595 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:51,619 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:51,619 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:51,620 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:51,669 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:52,647 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:52,647 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:53,667 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:53,667 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:53,667 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:53,716 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:54,691 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:54,691 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:55,715 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:55,715 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:55,716 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:55,787 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:56,739 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:56,743 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:57,763 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:57,763 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:57,763 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:57,834 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:07:58,787 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:58,787 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:59,811 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:07:59,811 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:07:59,812 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:07:59,869 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:00,839 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:00,839 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:01,859 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:01,859 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:01,860 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:01,925 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:02,883 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:02,884 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:03,907 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:03,907 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:03,907 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:03,956 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:04,931 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:04,931 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:05,955 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:05,955 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:05,955 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:06,028 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:06,979 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:06,980 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:08,003 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:08,004 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:09,027 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:09,027 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:09,027 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:09,077 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:10,051 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:10,051 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:11,075 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:11,076 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:11,076 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:11,159 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:12,099 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:12,099 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:13,123 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:13,123 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:14,147 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:14,147 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:14,147 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:14,195 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:15,171 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:15,171 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:16,195 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:16,195 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:16,196 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:16,304 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:17,219 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:17,219 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:18,247 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:18,247 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:19,267 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:19,267 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:19,268 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:19,317 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:20,291 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:20,291 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:21,315 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:21,316 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:21,316 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:21,394 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:22,339 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:22,344 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:23,363 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:23,363 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:24,387 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:24,388 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:24,388 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:24,462 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:25,411 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:25,411 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:26,435 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:26,435 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:26,436 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:26,503 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:26,541 - shroombox - INFO - Received settings update request with data: {
  "available_devices": [
    {
      "ip": "192.168.8.181",
      "mac": "B0-19-21-C4-C9-9D",
      "model": "P115",
      "name": "Humidifier",
      "role": "humidifier",
      "state": true,
      "type": "SMART.TAPOPLUG"
    },
    {
      "ip": "192.168.8.164",
      "mac": "B0-19-21-C4-CE-97",
      "model": "P115",
      "name": "Heatmat",
      "role": "heater",
      "state": false,
      "type": "SMART.TAPOPLUG"
    }
  ],
  "co2": {
    "pid": {
      "Kd": 0,
      "Ki": -0.01,
      "Kp": -1
    }
  },
  "environment": {
    "current_phase": "colonisation",
    "phases": {
      "cake": {
        "co2_setpoint": 500,
        "rh_setpoint": 0,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      },
      "colonisation": {
        "co2_setpoint": 500,
        "rh_setpoint": 40,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 25
      },
      "growing": {
        "co2_setpoint": 550,
        "rh_setpoint": 85,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      }
    }
  },
  "humidifier": {
    "break_time": 180,
    "burst_interval": 60,
    "burst_max": 30,
    "burst_min": 2,
    "pid": {
      "Kd": 0,
      "Ki": 0.01,
      "Kp": 0.2
    },
    "rh_hysteresis": 2
  },
  "logging": {
    "enabled": true,
    "interval": 30
  },
  "sensor": {
    "measurement_interval": 2
  }
}
2025-03-06 13:08:26,542 - shroombox - INFO - Settings file path: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:26,543 - shroombox - INFO - Successfully loaded current settings from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:26,543 - shroombox - INFO - Current phase: colonisation
2025-03-06 13:08:26,544 - shroombox - INFO - Old settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 40.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 30.0
}
2025-03-06 13:08:26,544 - shroombox - INFO - New settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 40.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 25.0
}
2025-03-06 13:08:26,544 - shroombox - INFO - Changing temp_setpoint from 30.0 to 25.0 for colonisation phase
2025-03-06 13:08:26,545 - shroombox - INFO - No change for rh_setpoint: remains 40.0
2025-03-06 13:08:26,545 - shroombox - INFO - No change for co2_setpoint: remains 500
2025-03-06 13:08:26,556 - shroombox - INFO - Successfully wrote and verified settings to /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:26,557 - shroombox - INFO - Settings updated successfully for colonisation phase
2025-03-06 13:08:26,557 - shroombox - INFO - Reset controller config_last_modified to 0
2025-03-06 13:08:26,558 - shroombox - INFO - Created task to check config updates
2025-03-06 13:08:26,558 - shroombox - INFO - Running heater diagnostic to apply new settings
2025-03-06 13:08:26,560 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:26,561 - shroombox - INFO - Last modified time: 2025-03-06 13:08:26
2025-03-06 13:08:26,561 - shroombox - INFO - Last checked time: Never
2025-03-06 13:08:26,561 - shroombox - INFO - Current time: 2025-03-06 13:08:26
2025-03-06 13:08:26,562 - shroombox - INFO - Config file modified at 2025-03-06 13:08:26.542478, reloading...
2025-03-06 13:08:26,562 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "name": "Humidifier",
            "role": "humidifier",
            "state": true,
            "type": "SMART.TAPOPLUG"
        },
        {
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "name": "Heatmat",
            "role": "heater",
            "state": false,
           ...
2025-03-06 13:08:26,563 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:26,563 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:08:26,563 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:08:26,564 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:26,564 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:08:26,565 - shroombox - INFO -   Temperature setpoint: 25.0°C
2025-03-06 13:08:26,565 - shroombox - INFO -   Humidity setpoint: 40.0%
2025-03-06 13:08:26,565 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:08:26,565 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:08:26,566 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 30.0 -> 25.0
2025-03-06 13:08:26,566 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:08:26,566 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 40.0
2025-03-06 13:08:26,567 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:08:26,567 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:08:26,567 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:08:26,568 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:08:26,568 - shroombox - INFO - Temperature setpoint: 25.0°C
2025-03-06 13:08:26,568 - shroombox - INFO - Humidity setpoint: 40.0%
2025-03-06 13:08:26,569 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:08:26,569 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:08:26,569 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:08:27,459 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:27,460 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:28,483 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:28,483 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:28,483 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:08:29,507 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:29,507 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:30,531 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:30,531 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:30,531 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:08:31,555 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:31,555 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:32,579 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:32,579 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:32,579 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:32,628 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:33,603 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:33,603 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:34,627 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:34,627 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:34,628 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:34,678 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:35,651 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:35,651 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:36,675 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:36,675 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:36,675 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:36,724 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:37,699 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:37,699 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:38,723 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:38,723 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:38,724 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:38,803 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:39,747 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:39,747 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:40,771 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:40,771 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:40,772 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:40,821 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:40,831 - shroombox - INFO - Received settings update request with data: {
  "available_devices": [
    {
      "ip": "192.168.8.181",
      "mac": "B0-19-21-C4-C9-9D",
      "model": "P115",
      "name": "Humidifier",
      "role": "humidifier",
      "state": true,
      "type": "SMART.TAPOPLUG"
    },
    {
      "ip": "192.168.8.164",
      "mac": "B0-19-21-C4-CE-97",
      "model": "P115",
      "name": "Heatmat",
      "role": "heater",
      "state": false,
      "type": "SMART.TAPOPLUG"
    }
  ],
  "co2": {
    "pid": {
      "Kd": 0,
      "Ki": -0.01,
      "Kp": -1
    }
  },
  "environment": {
    "current_phase": "colonisation",
    "phases": {
      "cake": {
        "co2_setpoint": 500,
        "rh_setpoint": 0,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      },
      "colonisation": {
        "co2_setpoint": 500,
        "rh_setpoint": 20,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 25
      },
      "growing": {
        "co2_setpoint": 550,
        "rh_setpoint": 85,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      }
    }
  },
  "humidifier": {
    "break_time": 180,
    "burst_interval": 60,
    "burst_max": 30,
    "burst_min": 2,
    "pid": {
      "Kd": 0,
      "Ki": 0.01,
      "Kp": 0.2
    },
    "rh_hysteresis": 2
  },
  "logging": {
    "enabled": true,
    "interval": 30
  },
  "sensor": {
    "measurement_interval": 2
  }
}
2025-03-06 13:08:40,832 - shroombox - INFO - Settings file path: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:40,832 - shroombox - INFO - Successfully loaded current settings from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:40,833 - shroombox - INFO - Current phase: colonisation
2025-03-06 13:08:40,833 - shroombox - INFO - Old settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 40.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 25.0
}
2025-03-06 13:08:40,833 - shroombox - INFO - New settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 25.0
}
2025-03-06 13:08:40,834 - shroombox - INFO - No change for temp_setpoint: remains 25.0
2025-03-06 13:08:40,834 - shroombox - INFO - Changing rh_setpoint from 40.0 to 20.0 for colonisation phase
2025-03-06 13:08:40,834 - shroombox - INFO - No change for co2_setpoint: remains 500
2025-03-06 13:08:40,844 - shroombox - INFO - Successfully wrote and verified settings to /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:40,844 - shroombox - INFO - Settings updated successfully for colonisation phase
2025-03-06 13:08:40,845 - shroombox - INFO - Reset controller config_last_modified to 0
2025-03-06 13:08:40,846 - shroombox - INFO - Created task to check config updates
2025-03-06 13:08:40,846 - shroombox - INFO - Running heater diagnostic to apply new settings
2025-03-06 13:08:40,849 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:40,849 - shroombox - INFO - Last modified time: 2025-03-06 13:08:40
2025-03-06 13:08:40,849 - shroombox - INFO - Last checked time: Never
2025-03-06 13:08:40,850 - shroombox - INFO - Current time: 2025-03-06 13:08:40
2025-03-06 13:08:40,850 - shroombox - INFO - Config file modified at 2025-03-06 13:08:40.834370, reloading...
2025-03-06 13:08:40,851 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "name": "Humidifier",
            "role": "humidifier",
            "state": true,
            "type": "SMART.TAPOPLUG"
        },
        {
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "name": "Heatmat",
            "role": "heater",
            "state": false,
           ...
2025-03-06 13:08:40,851 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:40,852 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:08:40,853 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:08:40,853 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:08:40,854 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:08:40,854 - shroombox - INFO -   Temperature setpoint: 25.0°C
2025-03-06 13:08:40,854 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:08:40,855 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:08:40,855 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:08:40,856 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 25.0 -> 25.0
2025-03-06 13:08:40,856 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:08:40,857 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 40.0 -> 20.0
2025-03-06 13:08:40,857 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:08:40,857 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:08:40,857 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:08:40,858 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:08:40,858 - shroombox - INFO - Temperature setpoint: 25.0°C
2025-03-06 13:08:40,858 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:08:40,859 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:08:40,859 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:08:40,859 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:08:41,795 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:41,795 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:42,819 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:42,819 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:42,820 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:08:43,843 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:43,843 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:44,867 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:44,867 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:44,867 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:08:45,891 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:45,891 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:46,915 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:46,915 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:46,915 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:46,964 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:47,939 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:47,939 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:48,963 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:48,963 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:48,963 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:49,012 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:49,987 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:49,987 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:51,011 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:51,011 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:51,011 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:51,061 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:52,035 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:52,035 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:53,059 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:53,059 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:53,059 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:53,109 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:54,087 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:54,088 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:55,107 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:55,107 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:55,108 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:55,155 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:56,131 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:56,131 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:57,155 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:57,155 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:57,155 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:57,203 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:08:58,179 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:58,179 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:59,203 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:08:59,203 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:08:59,203 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:08:59,277 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:00,227 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:00,227 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:01,251 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:01,254 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:02,279 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:02,279 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:02,279 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:02,327 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:03,303 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:03,303 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:04,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:04,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:04,323 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:04,372 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:05,347 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:05,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:06,371 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:06,372 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:07,395 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:07,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:07,395 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:07,444 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:08,419 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:08,419 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:09,447 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:09,447 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:09,448 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:09,498 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:10,467 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:10,467 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:11,495 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:11,499 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:13,283 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:13,283 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:13,283 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:13,332 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:14,307 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:14,308 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:15,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:15,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:15,331 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:15,381 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:16,355 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:16,355 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:17,379 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:17,379 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:19,299 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:19,300 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:19,300 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:19,384 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:20,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:20,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:21,347 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:21,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:22,371 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:22,371 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:22,372 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:22,436 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:23,395 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:23,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:24,419 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:24,420 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:25,443 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:25,443 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:25,443 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:25,492 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:26,467 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:26,467 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:27,491 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:27,491 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:27,492 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:27,540 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:28,515 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:28,515 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:29,539 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:29,539 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:31,299 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:31,299 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:31,299 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:31,348 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:32,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:32,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:33,347 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:33,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:33,347 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:33,398 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:34,371 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:34,371 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:35,395 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:35,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:37,283 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:37,283 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:37,283 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:37,331 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:38,307 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:38,307 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:39,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:39,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:39,331 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:39,379 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:41,315 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:41,315 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:43,299 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:43,299 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:43,299 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:43,347 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:44,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:44,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:45,347 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:45,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:45,347 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:45,414 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:47,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:47,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:49,379 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:49,379 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:49,380 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:49,451 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:50,403 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:50,403 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:51,427 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:51,427 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:51,428 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:51,501 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:53,411 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:53,411 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:55,267 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:55,267 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:55,268 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:55,344 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:56,387 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:56,387 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:09:56,387 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:09:56,442 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:09:57,411 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:09:57,411 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:00,419 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:00,419 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:01,443 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:01,444 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:01,445 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:01,500 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:02,531 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:02,531 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:02,532 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:02,584 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:03,555 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:03,555 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:06,563 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:06,564 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:07,587 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:07,587 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:07,587 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:07,646 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:08,679 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:08,679 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:08,680 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:08,736 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:09,699 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:09,699 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:12,707 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:12,707 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:13,731 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:13,731 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:13,732 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:13,804 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:14,819 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:14,819 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:14,820 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:14,870 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:15,843 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:15,843 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:18,275 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:18,275 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:18,276 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:18,344 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:19,299 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:19,299 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:20,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:20,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:20,324 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:20,392 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:20,444 - shroombox - INFO - Received settings update request with data: {
  "available_devices": [
    {
      "ip": "192.168.8.181",
      "mac": "B0-19-21-C4-C9-9D",
      "model": "P115",
      "name": "Humidifier",
      "role": "humidifier",
      "state": true,
      "type": "SMART.TAPOPLUG"
    },
    {
      "ip": "192.168.8.164",
      "mac": "B0-19-21-C4-CE-97",
      "model": "P115",
      "name": "Heatmat",
      "role": "heater",
      "state": false,
      "type": "SMART.TAPOPLUG"
    }
  ],
  "co2": {
    "pid": {
      "Kd": 0,
      "Ki": -0.01,
      "Kp": -1
    }
  },
  "environment": {
    "current_phase": "colonisation",
    "phases": {
      "cake": {
        "co2_setpoint": 500,
        "rh_setpoint": 0,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      },
      "colonisation": {
        "co2_setpoint": 500,
        "rh_setpoint": 20,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 26
      },
      "growing": {
        "co2_setpoint": 550,
        "rh_setpoint": 85,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      }
    }
  },
  "humidifier": {
    "break_time": 180,
    "burst_interval": 60,
    "burst_max": 30,
    "burst_min": 2,
    "pid": {
      "Kd": 0,
      "Ki": 0.01,
      "Kp": 0.2
    },
    "rh_hysteresis": 2
  },
  "logging": {
    "enabled": true,
    "interval": 30
  },
  "sensor": {
    "measurement_interval": 2
  }
}
2025-03-06 13:10:20,445 - shroombox - INFO - Settings file path: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:10:20,446 - shroombox - INFO - Successfully loaded current settings from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:10:20,446 - shroombox - INFO - Current phase: colonisation
2025-03-06 13:10:20,447 - shroombox - INFO - Old settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 25.0
}
2025-03-06 13:10:20,447 - shroombox - INFO - New settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 26.0
}
2025-03-06 13:10:20,448 - shroombox - INFO - Changing temp_setpoint from 25.0 to 26.0 for colonisation phase
2025-03-06 13:10:20,448 - shroombox - INFO - No change for rh_setpoint: remains 20.0
2025-03-06 13:10:20,449 - shroombox - INFO - No change for co2_setpoint: remains 500
2025-03-06 13:10:20,459 - shroombox - INFO - Successfully wrote and verified settings to /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:10:20,460 - shroombox - INFO - Settings updated successfully for colonisation phase
2025-03-06 13:10:20,460 - shroombox - INFO - Reset controller config_last_modified to 0
2025-03-06 13:10:20,460 - shroombox - INFO - Created task to check config updates
2025-03-06 13:10:20,461 - shroombox - INFO - Running heater diagnostic to apply new settings
2025-03-06 13:10:20,462 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:10:20,462 - shroombox - INFO - Last modified time: 2025-03-06 13:10:20
2025-03-06 13:10:20,462 - shroombox - INFO - Last checked time: Never
2025-03-06 13:10:20,463 - shroombox - INFO - Current time: 2025-03-06 13:10:20
2025-03-06 13:10:20,463 - shroombox - INFO - Config file modified at 2025-03-06 13:10:20.445621, reloading...
2025-03-06 13:10:20,463 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "name": "Humidifier",
            "role": "humidifier",
            "state": true,
            "type": "SMART.TAPOPLUG"
        },
        {
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "name": "Heatmat",
            "role": "heater",
            "state": false,
           ...
2025-03-06 13:10:20,464 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:10:20,464 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:10:20,464 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:10:20,465 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:10:20,465 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:10:20,465 - shroombox - INFO -   Temperature setpoint: 26.0°C
2025-03-06 13:10:20,465 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:10:20,466 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:10:20,466 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:10:20,466 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 25.0 -> 26.0
2025-03-06 13:10:20,466 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:10:20,466 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:10:20,467 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:10:20,467 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:10:20,467 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:10:20,467 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:10:20,468 - shroombox - INFO - Temperature setpoint: 26.0°C
2025-03-06 13:10:20,468 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:10:20,468 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:10:20,468 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:10:20,469 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:10:21,475 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:21,475 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:21,475 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:10:22,499 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:22,499 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:23,523 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:23,523 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:23,523 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:10:24,547 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:24,547 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:24,547 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:24,600 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:25,571 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:25,576 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:26,595 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:26,595 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:26,596 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:26,664 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:28,291 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:28,291 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:28,292 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:28,361 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:29,315 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:29,315 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:30,339 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:30,339 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:30,340 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:30,417 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:32,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:32,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:33,347 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:33,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:33,347 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:33,409 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:34,435 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:34,435 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:34,436 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:34,484 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:35,459 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:35,459 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:38,371 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:38,371 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:38,372 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:38,420 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:39,395 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:39,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:40,419 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:40,419 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:40,419 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:40,467 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:42,403 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:42,403 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:44,259 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:44,259 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:44,259 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:44,308 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:45,347 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:45,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:45,347 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:45,396 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:46,371 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:46,371 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:49,379 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:49,379 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:50,403 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:50,403 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:50,404 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:50,452 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:51,491 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:51,491 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:51,491 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:51,540 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:52,515 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:52,515 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:55,523 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:55,523 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:56,547 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:56,547 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:56,551 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:56,617 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:57,635 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:57,635 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:10:57,635 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:10:57,684 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:10:58,659 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:10:58,659 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:01,667 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:01,671 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:02,691 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:02,691 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:02,692 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:02,740 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:03,783 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:03,783 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:03,783 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:03,838 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:04,803 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:04,803 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:07,811 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:07,811 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:08,835 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:08,835 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:08,836 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:08,889 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:09,923 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:09,923 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:09,923 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:09,972 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:10,947 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:10,947 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:13,959 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:13,960 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:14,979 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:14,979 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:14,979 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:15,028 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:16,067 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:16,067 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:16,067 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:16,117 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:17,091 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:17,091 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:20,099 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:20,099 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:21,123 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:21,123 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:21,124 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:21,181 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:22,211 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:22,213 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:22,214 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:22,262 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:23,235 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:23,235 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:26,243 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:26,243 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:27,267 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:27,267 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:27,271 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:27,319 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:28,355 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:28,355 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:28,355 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:28,404 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:29,379 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:29,379 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:32,295 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:32,296 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:32,297 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:32,358 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:33,315 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:33,316 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:34,343 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:34,343 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:34,343 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:34,410 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:36,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:36,327 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:38,275 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:38,275 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:38,275 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:38,324 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:39,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:39,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:40,355 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:40,355 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:40,355 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:40,405 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:42,339 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:42,339 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:44,291 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:44,291 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:44,291 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:44,358 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:45,347 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:45,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:46,371 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:46,371 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:46,371 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:46,420 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:48,355 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:48,355 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:50,275 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:50,275 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:50,275 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:50,324 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:51,363 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:51,363 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:51,364 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:51,417 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:52,387 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:52,387 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:55,395 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:55,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:56,419 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:56,420 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:56,420 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:56,495 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:57,539 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:57,539 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:11:57,539 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:11:57,587 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:11:58,563 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:11:58,563 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:01,283 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:01,283 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:01,283 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:01,332 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:02,307 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:02,307 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:03,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:03,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:03,332 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:03,403 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:03,828 - shroombox - INFO - Received settings update request with data: {
  "available_devices": [
    {
      "ip": "192.168.8.181",
      "mac": "B0-19-21-C4-C9-9D",
      "model": "P115",
      "name": "Humidifier",
      "role": "humidifier",
      "state": true,
      "type": "SMART.TAPOPLUG"
    },
    {
      "ip": "192.168.8.164",
      "mac": "B0-19-21-C4-CE-97",
      "model": "P115",
      "name": "Heatmat",
      "role": "heater",
      "state": false,
      "type": "SMART.TAPOPLUG"
    }
  ],
  "co2": {
    "pid": {
      "Kd": 0,
      "Ki": -0.01,
      "Kp": -1
    }
  },
  "environment": {
    "current_phase": "colonisation",
    "phases": {
      "cake": {
        "co2_setpoint": 500,
        "rh_setpoint": 0,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      },
      "colonisation": {
        "co2_setpoint": 500,
        "rh_setpoint": 20,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 20
      },
      "growing": {
        "co2_setpoint": 550,
        "rh_setpoint": 85,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      }
    }
  },
  "humidifier": {
    "break_time": 180,
    "burst_interval": 60,
    "burst_max": 30,
    "burst_min": 2,
    "pid": {
      "Kd": 0,
      "Ki": 0.01,
      "Kp": 0.2
    },
    "rh_hysteresis": 2
  },
  "logging": {
    "enabled": true,
    "interval": 30
  },
  "sensor": {
    "measurement_interval": 2
  }
}
2025-03-06 13:12:03,829 - shroombox - INFO - Settings file path: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:03,829 - shroombox - INFO - Successfully loaded current settings from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:03,830 - shroombox - INFO - Current phase: colonisation
2025-03-06 13:12:03,830 - shroombox - INFO - Old settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 26.0
}
2025-03-06 13:12:03,830 - shroombox - INFO - New settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 20.0
}
2025-03-06 13:12:03,831 - shroombox - INFO - Changing temp_setpoint from 26.0 to 20.0 for colonisation phase
2025-03-06 13:12:03,831 - shroombox - INFO - No change for rh_setpoint: remains 20.0
2025-03-06 13:12:03,831 - shroombox - INFO - No change for co2_setpoint: remains 500
2025-03-06 13:12:03,840 - shroombox - INFO - Successfully wrote and verified settings to /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:03,840 - shroombox - INFO - Settings updated successfully for colonisation phase
2025-03-06 13:12:03,840 - shroombox - INFO - Reset controller config_last_modified to 0
2025-03-06 13:12:03,841 - shroombox - INFO - Created task to check config updates
2025-03-06 13:12:03,841 - shroombox - INFO - Running heater diagnostic to apply new settings
2025-03-06 13:12:03,842 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:03,843 - shroombox - INFO - Last modified time: 2025-03-06 13:12:03
2025-03-06 13:12:03,843 - shroombox - INFO - Last checked time: Never
2025-03-06 13:12:03,843 - shroombox - INFO - Current time: 2025-03-06 13:12:03
2025-03-06 13:12:03,844 - shroombox - INFO - Config file modified at 2025-03-06 13:12:03.828856, reloading...
2025-03-06 13:12:03,844 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "name": "Humidifier",
            "role": "humidifier",
            "state": true,
            "type": "SMART.TAPOPLUG"
        },
        {
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "name": "Heatmat",
            "role": "heater",
            "state": false,
           ...
2025-03-06 13:12:03,844 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:03,844 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:12:03,845 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:12:03,845 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:03,845 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:12:03,846 - shroombox - INFO -   Temperature setpoint: 20.0°C
2025-03-06 13:12:03,846 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:12:03,846 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:12:03,846 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:12:03,847 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 26.0 -> 20.0
2025-03-06 13:12:03,847 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:12:03,847 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:12:03,847 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:12:03,848 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:12:03,848 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:12:03,848 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:12:03,848 - shroombox - INFO - Temperature setpoint: 20.0°C
2025-03-06 13:12:03,848 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:12:03,849 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:12:03,849 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:12:03,849 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:12:04,867 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:04,867 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:04,868 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:12:05,891 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:05,891 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:06,915 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:06,915 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:06,915 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:12:07,939 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:07,939 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:07,939 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:08,000 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:08,963 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:08,963 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:09,987 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:09,987 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:09,988 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:10,057 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:10,111 - shroombox - INFO - Received settings update request with data: {
  "available_devices": [
    {
      "ip": "192.168.8.181",
      "mac": "B0-19-21-C4-C9-9D",
      "model": "P115",
      "name": "Humidifier",
      "role": "humidifier",
      "state": true,
      "type": "SMART.TAPOPLUG"
    },
    {
      "ip": "192.168.8.164",
      "mac": "B0-19-21-C4-CE-97",
      "model": "P115",
      "name": "Heatmat",
      "role": "heater",
      "state": false,
      "type": "SMART.TAPOPLUG"
    }
  ],
  "co2": {
    "pid": {
      "Kd": 0,
      "Ki": -0.01,
      "Kp": -1
    }
  },
  "environment": {
    "current_phase": "colonisation",
    "phases": {
      "cake": {
        "co2_setpoint": 500,
        "rh_setpoint": 0,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      },
      "colonisation": {
        "co2_setpoint": 500,
        "rh_setpoint": 20,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 10
      },
      "growing": {
        "co2_setpoint": 550,
        "rh_setpoint": 85,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      }
    }
  },
  "humidifier": {
    "break_time": 180,
    "burst_interval": 60,
    "burst_max": 30,
    "burst_min": 2,
    "pid": {
      "Kd": 0,
      "Ki": 0.01,
      "Kp": 0.2
    },
    "rh_hysteresis": 2
  },
  "logging": {
    "enabled": true,
    "interval": 30
  },
  "sensor": {
    "measurement_interval": 2
  }
}
2025-03-06 13:12:10,111 - shroombox - INFO - Settings file path: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:10,112 - shroombox - INFO - Successfully loaded current settings from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:10,112 - shroombox - INFO - Current phase: colonisation
2025-03-06 13:12:10,113 - shroombox - INFO - Old settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 20.0
}
2025-03-06 13:12:10,113 - shroombox - INFO - New settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 10.0
}
2025-03-06 13:12:10,114 - shroombox - INFO - Changing temp_setpoint from 20.0 to 10.0 for colonisation phase
2025-03-06 13:12:10,114 - shroombox - INFO - No change for rh_setpoint: remains 20.0
2025-03-06 13:12:10,114 - shroombox - INFO - No change for co2_setpoint: remains 500
2025-03-06 13:12:10,124 - shroombox - INFO - Successfully wrote and verified settings to /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:10,124 - shroombox - INFO - Settings updated successfully for colonisation phase
2025-03-06 13:12:10,125 - shroombox - INFO - Reset controller config_last_modified to 0
2025-03-06 13:12:10,126 - shroombox - INFO - Created task to check config updates
2025-03-06 13:12:10,126 - shroombox - INFO - Running heater diagnostic to apply new settings
2025-03-06 13:12:10,128 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:10,129 - shroombox - INFO - Last modified time: 2025-03-06 13:12:10
2025-03-06 13:12:10,130 - shroombox - INFO - Last checked time: Never
2025-03-06 13:12:10,130 - shroombox - INFO - Current time: 2025-03-06 13:12:10
2025-03-06 13:12:10,131 - shroombox - INFO - Config file modified at 2025-03-06 13:12:10.112810, reloading...
2025-03-06 13:12:10,131 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "name": "Humidifier",
            "role": "humidifier",
            "state": true,
            "type": "SMART.TAPOPLUG"
        },
        {
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "name": "Heatmat",
            "role": "heater",
            "state": false,
           ...
2025-03-06 13:12:10,132 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:10,133 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:12:10,133 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:12:10,134 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:10,135 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:12:10,135 - shroombox - INFO -   Temperature setpoint: 10.0°C
2025-03-06 13:12:10,136 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:12:10,136 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:12:10,136 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:12:10,137 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 20.0 -> 10.0
2025-03-06 13:12:10,137 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:12:10,137 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:12:10,137 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:12:10,138 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:12:10,138 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:12:10,138 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:12:10,138 - shroombox - INFO - Temperature setpoint: 10.0°C
2025-03-06 13:12:10,138 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:12:10,139 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:12:10,139 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:12:10,139 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:12:11,171 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:11,171 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:11,171 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:12:12,195 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:12,195 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:13,219 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:13,219 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:13,219 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:12:14,243 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:14,243 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:14,243 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:14,293 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:15,267 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:15,267 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:16,291 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:16,291 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:16,292 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:16,364 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:17,411 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:17,411 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:17,413 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:17,488 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:18,435 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:18,435 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:19,459 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:19,460 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:19,460 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:19,544 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:21,283 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:21,283 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:21,284 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:21,332 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:22,307 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:22,307 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:23,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:23,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:23,332 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:23,379 - shroombox - INFO - Retrieved measurements: {'temperature': 20.9, 'humidity': 32.6, 'co2': 562.3}
2025-03-06 13:12:23,411 - shroombox - INFO - Received settings update request with data: {
  "available_devices": [
    {
      "ip": "192.168.8.181",
      "mac": "B0-19-21-C4-C9-9D",
      "model": "P115",
      "name": "Humidifier",
      "role": "humidifier",
      "state": true,
      "type": "SMART.TAPOPLUG"
    },
    {
      "ip": "192.168.8.164",
      "mac": "B0-19-21-C4-CE-97",
      "model": "P115",
      "name": "Heatmat",
      "role": "heater",
      "state": false,
      "type": "SMART.TAPOPLUG"
    }
  ],
  "co2": {
    "pid": {
      "Kd": 0,
      "Ki": -0.01,
      "Kp": -1
    }
  },
  "environment": {
    "current_phase": "colonisation",
    "phases": {
      "cake": {
        "co2_setpoint": 500,
        "rh_setpoint": 0,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      },
      "colonisation": {
        "co2_setpoint": 500,
        "rh_setpoint": 20,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 30
      },
      "growing": {
        "co2_setpoint": 550,
        "rh_setpoint": 85,
        "temp_hysteresis": 0.5,
        "temp_setpoint": 17
      }
    }
  },
  "humidifier": {
    "break_time": 180,
    "burst_interval": 60,
    "burst_max": 30,
    "burst_min": 2,
    "pid": {
      "Kd": 0,
      "Ki": 0.01,
      "Kp": 0.2
    },
    "rh_hysteresis": 2
  },
  "logging": {
    "enabled": true,
    "interval": 30
  },
  "sensor": {
    "measurement_interval": 2
  }
}
2025-03-06 13:12:23,412 - shroombox - INFO - Settings file path: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:23,412 - shroombox - INFO - Successfully loaded current settings from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:23,413 - shroombox - INFO - Current phase: colonisation
2025-03-06 13:12:23,413 - shroombox - INFO - Old settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 10.0
}
2025-03-06 13:12:23,413 - shroombox - INFO - New settings for colonisation: {
  "co2_setpoint": 500,
  "rh_setpoint": 20.0,
  "temp_hysteresis": 0.5,
  "temp_setpoint": 30.0
}
2025-03-06 13:12:23,413 - shroombox - INFO - Changing temp_setpoint from 10.0 to 30.0 for colonisation phase
2025-03-06 13:12:23,414 - shroombox - INFO - No change for rh_setpoint: remains 20.0
2025-03-06 13:12:23,414 - shroombox - INFO - No change for co2_setpoint: remains 500
2025-03-06 13:12:23,421 - shroombox - INFO - Successfully wrote and verified settings to /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:23,422 - shroombox - INFO - Settings updated successfully for colonisation phase
2025-03-06 13:12:23,422 - shroombox - INFO - Reset controller config_last_modified to 0
2025-03-06 13:12:23,423 - shroombox - INFO - Created task to check config updates
2025-03-06 13:12:23,423 - shroombox - INFO - Running heater diagnostic to apply new settings
2025-03-06 13:12:23,424 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:23,425 - shroombox - INFO - Last modified time: 2025-03-06 13:12:23
2025-03-06 13:12:23,425 - shroombox - INFO - Last checked time: Never
2025-03-06 13:12:23,425 - shroombox - INFO - Current time: 2025-03-06 13:12:23
2025-03-06 13:12:23,425 - shroombox - INFO - Config file modified at 2025-03-06 13:12:23.412713, reloading...
2025-03-06 13:12:23,426 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "name": "Humidifier",
            "role": "humidifier",
            "state": true,
            "type": "SMART.TAPOPLUG"
        },
        {
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "name": "Heatmat",
            "role": "heater",
            "state": false,
           ...
2025-03-06 13:12:23,426 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:23,426 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:12:23,427 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:12:23,427 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:12:23,428 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:12:23,428 - shroombox - INFO -   Temperature setpoint: 30.0°C
2025-03-06 13:12:23,428 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:12:23,428 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:12:23,429 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:12:23,429 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 10.0 -> 30.0
2025-03-06 13:12:23,429 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:12:23,429 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:12:23,430 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> False
2025-03-06 13:12:23,430 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:12:23,430 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:12:23,430 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:12:23,431 - shroombox - INFO - Temperature setpoint: 30.0°C
2025-03-06 13:12:23,431 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:12:23,431 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:12:23,431 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:12:23,432 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:12:24,451 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:24,451 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:24,451 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:12:25,475 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:25,475 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:26,499 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:26,499 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:26,499 - shroombox - ERROR - HEATER DIAGNOSTIC: No measurements available!
2025-03-06 13:12:27,523 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:27,523 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:27,523 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:27,574 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:28,547 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:28,551 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:29,571 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:29,571 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:29,572 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:29,648 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:31,395 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:31,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:31,396 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:31,467 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:32,419 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:32,419 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:33,443 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:33,443 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:33,443 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:33,490 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:35,427 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:35,427 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:37,283 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:37,283 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:37,283 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:37,331 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:38,339 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:38,339 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:38,339 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:38,387 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:39,363 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:39,363 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:42,371 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:42,371 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:43,395 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:43,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:43,395 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:43,442 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:44,451 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:44,451 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:44,451 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:44,498 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:45,475 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:45,475 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:48,483 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:48,483 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:49,507 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:49,507 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:49,508 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:49,555 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:50,595 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:50,595 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:50,595 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:50,642 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:51,619 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:51,619 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:54,627 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:54,627 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:55,651 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:55,651 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:55,651 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:55,723 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:56,739 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:56,739 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:12:56,740 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:12:56,788 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:12:56,866 - shroombox - ERROR - Error updating device states in settings: Expecting value: line 1 column 1 (char 0)
2025-03-06 13:12:57,763 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:12:57,763 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:00,771 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:00,771 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:01,795 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:01,795 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:01,795 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:01,843 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:02,883 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:02,883 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:02,883 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:02,932 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:03,907 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:03,907 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:06,915 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:06,915 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:07,939 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:07,939 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:07,939 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:07,987 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:09,027 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:09,027 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:09,027 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:09,074 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:10,051 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:10,051 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:13,059 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:13,059 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:14,083 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:14,083 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:14,084 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:14,131 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:15,171 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:15,171 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:15,171 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:15,218 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:16,195 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:16,195 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:18,275 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:18,276 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:18,276 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:18,394 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:19,299 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:19,299 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:20,323 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:20,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:20,323 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:20,370 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:21,635 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:21,635 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:21,635 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:21,682 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:22,659 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:22,659 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:23,683 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:23,683 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:23,684 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:23,757 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:25,667 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:25,667 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:28,675 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:28,675 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:29,955 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:29,955 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:29,955 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:30,002 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:31,011 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:31,011 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:31,011 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:31,059 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:32,035 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:32,035 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:35,011 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:35,012 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:35,012 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:35,094 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:36,035 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:36,035 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:37,063 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:37,063 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:37,063 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:37,112 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:39,043 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:39,043 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:40,099 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:40,100 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:40,100 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:40,204 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:41,219 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:41,219 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:41,219 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:41,270 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:42,243 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:42,243 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:45,095 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:45,095 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:45,095 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:45,158 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:46,115 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:46,115 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:47,139 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:47,139 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:47,140 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:47,207 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:49,123 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:49,123 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:50,211 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:50,211 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:50,212 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:50,258 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:51,267 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:51,267 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:51,267 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:51,314 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:52,291 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:52,291 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:55,267 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:55,267 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:55,267 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:55,315 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:56,291 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:56,291 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:57,315 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:57,315 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:13:57,315 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:13:57,362 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:13:59,299 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:13:59,299 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:00,707 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:00,707 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:00,707 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:00,770 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:01,795 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:01,795 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:01,795 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:01,842 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:02,819 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:02,819 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:05,827 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:05,827 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:06,851 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:06,851 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:06,852 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:06,900 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:07,907 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:07,907 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:07,907 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:07,955 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:08,931 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:08,931 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:11,939 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:11,939 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:12,963 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:12,963 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:12,963 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:13,011 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:14,019 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:14,019 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:14,019 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:14,066 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:15,043 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:15,043 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:18,051 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:18,051 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:19,075 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:19,075 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:19,075 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:19,123 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:20,131 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:20,131 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:20,131 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:20,178 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:21,155 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:21,155 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:24,163 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:24,163 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:25,187 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:25,187 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:25,187 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:25,245 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:26,279 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:26,279 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:26,279 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:26,327 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:27,299 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:27,299 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:30,307 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:30,307 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:31,331 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:31,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:31,331 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:31,379 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:32,387 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:32,387 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:32,388 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:32,434 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:33,411 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:33,411 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:36,419 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:36,419 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:37,443 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:37,443 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:37,444 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:37,491 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:38,499 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:38,499 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:38,499 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:38,547 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:39,523 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:39,523 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:42,531 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:42,531 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:43,555 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:43,555 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:43,555 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:43,603 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:44,611 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:44,611 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:44,611 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:44,661 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:45,635 - shroombox.sensor - ERROR - Error checking sensor availability: [Errno 110] Connection timed out
2025-03-06 13:14:45,635 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:45,853 - shroombox - INFO - Received shutdown signal, cleaning up...
2025-03-06 13:14:45,872 - shroombox - INFO - 
=== Cleaning up resources ===
2025-03-06 13:14:45,873 - shroombox - INFO - ✓ Fan stopped
2025-03-06 13:14:45,873 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:14:45,969 - shroombox - INFO - ✓ Heater turned off
2025-03-06 13:14:45,969 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:14:46,113 - shroombox - INFO - Environment variables loaded:
2025-03-06 13:14:46,113 - shroombox - INFO - INFLUXDB_URL: http://localhost:8086
2025-03-06 13:14:46,114 - shroombox - INFO - INFLUXDB_ORG: supershrooms
2025-03-06 13:14:46,114 - shroombox - INFO - INFLUXDB_BUCKET: test
2025-03-06 13:14:46,114 - shroombox - INFO - ==================================================
2025-03-06 13:14:46,150 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:14:46,150 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:14:46,151 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from ON to OFF
2025-03-06 13:14:46,152 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:14:46,152 - shroombox - INFO - ✓ Humidifier turned off
2025-03-06 13:14:46,154 - shroombox - INFO - ✓ InfluxDB client closed
2025-03-06 13:14:46,155 - shroombox - INFO - ✓ Cleanup completed
2025-03-06 13:14:47,614 - shroombox - INFO - 
=== Starting Initial Device Scan ===
2025-03-06 13:14:47,615 - shroombox - INFO - 
Before scan - Current settings in settings.json:
2025-03-06 13:14:47,615 - shroombox - INFO - Number of devices: 2
2025-03-06 13:14:47,616 - shroombox - INFO -   - Humidifier (192.168.8.181) - Role: humidifier
2025-03-06 13:14:47,616 - shroombox - INFO -   - Heatmat (192.168.8.164) - Role: heater
2025-03-06 13:14:47,616 - shroombox - INFO - 
Scanning for devices...
2025-03-06 13:14:47,616 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:14:47,616 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:14:50,880 - shroombox - INFO - 
=== Cleaning up resources ===
2025-03-06 13:14:50,880 - shroombox - INFO - ✓ Fan stopped
2025-03-06 13:14:50,880 - shroombox - INFO - Setting heater to OFF
2025-03-06 13:14:50,970 - shroombox - INFO - ✓ Heater turned off
2025-03-06 13:14:50,970 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:14:50,988 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:14:50,989 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:14:50,989 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:14:50,990 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:14:50,991 - shroombox - INFO - ✓ Humidifier turned off
2025-03-06 13:14:50,991 - shroombox - INFO - ✓ InfluxDB client closed
2025-03-06 13:14:50,991 - shroombox - INFO - ✓ Cleanup completed
2025-03-06 13:14:52,947 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:14:53,017 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:14:53,062 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:14:53,063 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:14:53,065 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:14:53,066 - shroombox - INFO - 
After scan - Updated settings in settings.json:
2025-03-06 13:14:53,068 - shroombox - INFO - 
Found and saved 2 devices:
2025-03-06 13:14:53,070 - shroombox - INFO - 
Device Details:
2025-03-06 13:14:53,071 - shroombox - INFO -   Name: Humidifier
2025-03-06 13:14:53,072 - shroombox - INFO -   IP: 192.168.8.181
2025-03-06 13:14:53,073 - shroombox - INFO -   MAC: B0-19-21-C4-C9-9D
2025-03-06 13:14:53,073 - shroombox - INFO -   Model: P115
2025-03-06 13:14:53,074 - shroombox - INFO -   Role: humidifier
2025-03-06 13:14:53,074 - shroombox - INFO -   State: OFF
2025-03-06 13:14:53,075 - shroombox - INFO - 
Device Details:
2025-03-06 13:14:53,075 - shroombox - INFO -   Name: Heatmat
2025-03-06 13:14:53,076 - shroombox - INFO -   IP: 192.168.8.164
2025-03-06 13:14:53,076 - shroombox - INFO -   MAC: B0-19-21-C4-CE-97
2025-03-06 13:14:53,077 - shroombox - INFO -   Model: P115
2025-03-06 13:14:53,077 - shroombox - INFO -   Role: heater
2025-03-06 13:14:53,078 - shroombox - INFO -   State: OFF
2025-03-06 13:14:53,079 - shroombox - INFO - 
No changes detected - settings.json remains the same.
2025-03-06 13:14:53,079 - shroombox - INFO - 
=== Device Scan Complete ===

2025-03-06 13:14:53,080 - shroombox - INFO - Current working directory: /home/danny/Github/shroombox/shroombox3
2025-03-06 13:14:53,080 - shroombox - INFO - Looking for config at: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:14:53,081 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:14:53,081 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:14:53,082 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:14:53,083 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:14:53,083 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:14:53,084 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:14:53,085 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:14:53,085 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:14:53,085 - shroombox - INFO - Config last modified: 2025-03-06 13:14:53.059625
2025-03-06 13:14:53,086 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:14:54,115 - shroombox.sensor - ERROR - Failed to initialize SCD30 sensor: [Errno 110] Connection timed out
2025-03-06 13:14:54,117 - shroombox - INFO - Loaded device assignments - Heater: 192.168.8.164, Humidifier: 192.168.8.181
2025-03-06 13:14:54,120 - shroombox - INFO - 
Initializing PIDs:
2025-03-06 13:14:54,123 - shroombox - INFO - Phase: colonisation
2025-03-06 13:14:54,123 - shroombox - INFO - RH Setpoint: 20.0
2025-03-06 13:14:54,123 - shroombox - INFO - CO2 Setpoint: 500
2025-03-06 13:14:54,124 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:14:54,124 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:14:54,124 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:14:54,124 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:14:54,125 - shroombox - INFO - Updating humidity PID tunings: (0.2, 0.01, 0.05) -> (0.2, 0.01, 0.0)
2025-03-06 13:14:54,125 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:14:54,125 - shroombox - INFO - 
=== Initializing InfluxDB Client ===
2025-03-06 13:14:54,125 - shroombox - INFO - URL: http://localhost:8086
2025-03-06 13:14:54,125 - shroombox - INFO - Organization: supershrooms
2025-03-06 13:14:54,126 - shroombox - INFO - Bucket: test
2025-03-06 13:14:54,167 - shroombox - INFO - ✓ InfluxDB connection test successful
2025-03-06 13:14:54,167 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:14:54,168 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:14:54,184 - shroombox - INFO - Environment variables loaded:
2025-03-06 13:14:54,185 - shroombox - INFO - INFLUXDB_URL: http://localhost:8086
2025-03-06 13:14:54,185 - shroombox - INFO - INFLUXDB_ORG: supershrooms
2025-03-06 13:14:54,186 - shroombox - INFO - INFLUXDB_BUCKET: test
2025-03-06 13:14:54,186 - shroombox - INFO - ==================================================
2025-03-06 13:14:54,219 - shroombox - INFO - Checking I2C bus before sensor initialization...
2025-03-06 13:14:54,221 - shroombox - WARNING - Could not check I2C bus: [Errno 2] No such file or directory: 'i2cdetect'
2025-03-06 13:14:54,221 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:14:55,235 - shroombox.sensor - ERROR - Failed to initialize SCD30 sensor: [Errno 110] Connection timed out
2025-03-06 13:14:55,235 - shroombox - WARNING - SCD30 sensor not available (expected at address 0x61), continuing in monitoring-only mode
2025-03-06 13:14:55,235 - shroombox - INFO - Please check: 
1. Power connections to the sensor
2. I2C connections (SDA and SCL)
3. Pull-up resistors on I2C lines
2025-03-06 13:14:55,236 - shroombox - INFO - Current working directory: /home/danny/Github/shroombox/shroombox3
2025-03-06 13:14:55,236 - shroombox - INFO - Looking for config at: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:14:55,236 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:14:55,236 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:14:55,237 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:14:55,237 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:14:55,238 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:14:55,238 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:14:55,238 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:14:55,238 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:14:55,239 - shroombox - INFO - Config last modified: 2025-03-06 13:14:53.059625
2025-03-06 13:14:55,239 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:14:56,259 - shroombox.sensor - ERROR - Failed to initialize SCD30 sensor: [Errno 110] Connection timed out
2025-03-06 13:14:56,259 - shroombox - INFO - Loaded device assignments - Heater: 192.168.8.164, Humidifier: 192.168.8.181
2025-03-06 13:14:56,259 - shroombox - INFO - 
Initializing PIDs:
2025-03-06 13:14:56,260 - shroombox - INFO - Phase: colonisation
2025-03-06 13:14:56,260 - shroombox - INFO - RH Setpoint: 20.0
2025-03-06 13:14:56,260 - shroombox - INFO - CO2 Setpoint: 500
2025-03-06 13:14:56,261 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:14:56,261 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:14:56,261 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:14:56,261 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:14:56,261 - shroombox - INFO - Updating humidity PID tunings: (0.2, 0.01, 0.05) -> (0.2, 0.01, 0.0)
2025-03-06 13:14:56,262 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:14:56,262 - shroombox - INFO - 
=== Initializing InfluxDB Client ===
2025-03-06 13:14:56,262 - shroombox - INFO - URL: http://localhost:8086
2025-03-06 13:14:56,262 - shroombox - INFO - Organization: supershrooms
2025-03-06 13:14:56,263 - shroombox - INFO - Bucket: test
2025-03-06 13:14:56,284 - shroombox - INFO - ✓ InfluxDB connection test successful
2025-03-06 13:14:56,285 - shroombox - INFO - Controller initialized successfully (monitoring-only mode)
2025-03-06 13:14:59,178 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:14:59,272 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:14:59,314 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:14:59,314 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:14:59,316 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:14:59,316 - shroombox - ERROR - Failed to initialize sensor, continuing without sensor...
2025-03-06 13:14:59,316 - shroombox - INFO - 
=== Starting Main Control Loop ===
2025-03-06 13:14:59,317 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:59,717 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:59,717 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:59,794 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:14:59,800 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:14:59,801 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:14:59,851 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:01,319 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:03,323 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:05,324 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:05,691 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:05,692 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:05,739 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:05,745 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:05,745 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:05,793 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:07,325 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:09,327 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:11,328 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:11,692 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:11,693 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:11,742 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:11,747 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:11,747 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:11,798 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:13,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:15,331 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:17,332 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:17,713 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:17,713 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:17,761 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:17,766 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:17,766 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:17,814 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:19,333 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:21,334 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:23,336 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:23,691 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:23,692 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:23,738 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:23,744 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:23,744 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:23,813 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:25,339 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:27,341 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:29,343 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:29,704 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:29,704 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:29,755 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:29,757 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:29,758 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:29,805 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:31,344 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:33,347 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:35,349 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:35,691 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:35,692 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:35,739 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:35,744 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:35,744 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:35,793 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:37,350 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:39,352 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:41,355 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:41,707 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:41,708 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:41,755 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:41,757 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:41,758 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:41,806 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:43,358 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:45,360 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:47,363 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:47,682 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:47,682 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:47,731 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:47,736 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:47,737 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:47,785 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:49,366 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:51,368 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:53,370 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:53,689 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:53,690 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:53,761 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:53,770 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:53,770 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:53,818 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:55,373 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:57,376 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:59,379 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:59,694 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:59,694 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:59,741 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:15:59,746 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:15:59,746 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:15:59,794 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:01,381 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:03,382 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:04,671 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:04,672 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:04,718 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:04,722 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:04,723 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:04,772 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:05,385 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:07,387 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:09,390 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:09,769 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:09,769 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:09,817 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:09,824 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:09,824 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:09,871 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:11,393 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:13,393 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:15,396 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:15,721 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:15,721 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:15,834 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:15,837 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:15,838 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:15,961 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:17,399 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:19,402 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:21,403 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:21,714 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:21,715 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:21,781 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:21,785 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:21,786 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:21,851 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:23,406 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:25,409 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:27,410 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:27,703 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:27,703 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:27,750 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:27,753 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:27,753 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:27,801 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:29,412 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:31,415 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:33,416 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:33,703 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:33,703 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:33,750 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:33,755 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:33,755 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:33,805 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:35,417 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:37,420 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:39,401 - shroombox - INFO - Environment variables loaded:
2025-03-06 13:16:39,401 - shroombox - INFO - INFLUXDB_URL: http://localhost:8086
2025-03-06 13:16:39,402 - shroombox - INFO - INFLUXDB_ORG: supershrooms
2025-03-06 13:16:39,402 - shroombox - INFO - INFLUXDB_BUCKET: test
2025-03-06 13:16:39,402 - shroombox - INFO - ==================================================
2025-03-06 13:16:39,707 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:39,708 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:39,775 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:39,781 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:39,782 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:39,934 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:41,032 - shroombox - INFO - 
=== Starting Initial Device Scan ===
2025-03-06 13:16:41,032 - shroombox - INFO - 
Before scan - Current settings in settings.json:
2025-03-06 13:16:41,033 - shroombox - INFO - Number of devices: 2
2025-03-06 13:16:41,033 - shroombox - INFO -   - Heatmat (192.168.8.164) - Role: heater
2025-03-06 13:16:41,033 - shroombox - INFO -   - Humidifier (192.168.8.181) - Role: humidifier
2025-03-06 13:16:41,033 - shroombox - INFO - 
Scanning for devices...
2025-03-06 13:16:41,034 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:16:41,034 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:16:45,703 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:45,704 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:45,750 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:45,755 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:45,756 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:45,805 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:46,312 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:16:46,356 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:16:46,397 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:16:46,397 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:16:46,399 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:16:46,399 - shroombox - INFO - 
After scan - Updated settings in settings.json:
2025-03-06 13:16:46,400 - shroombox - INFO - 
Found and saved 2 devices:
2025-03-06 13:16:46,400 - shroombox - INFO - 
Device Details:
2025-03-06 13:16:46,400 - shroombox - INFO -   Name: Humidifier
2025-03-06 13:16:46,400 - shroombox - INFO -   IP: 192.168.8.181
2025-03-06 13:16:46,400 - shroombox - INFO -   MAC: B0-19-21-C4-C9-9D
2025-03-06 13:16:46,401 - shroombox - INFO -   Model: P115
2025-03-06 13:16:46,401 - shroombox - INFO -   Role: humidifier
2025-03-06 13:16:46,401 - shroombox - INFO -   State: OFF
2025-03-06 13:16:46,401 - shroombox - INFO - 
Device Details:
2025-03-06 13:16:46,401 - shroombox - INFO -   Name: Heatmat
2025-03-06 13:16:46,401 - shroombox - INFO -   IP: 192.168.8.164
2025-03-06 13:16:46,402 - shroombox - INFO -   MAC: B0-19-21-C4-CE-97
2025-03-06 13:16:46,402 - shroombox - INFO -   Model: P115
2025-03-06 13:16:46,402 - shroombox - INFO -   Role: heater
2025-03-06 13:16:46,402 - shroombox - INFO -   State: OFF
2025-03-06 13:16:46,402 - shroombox - INFO - 
Changes detected in settings.json!
2025-03-06 13:16:46,403 - shroombox - INFO - Settings file has been updated with new device information.
2025-03-06 13:16:46,403 - shroombox - INFO - 
=== Device Scan Complete ===

2025-03-06 13:16:46,403 - shroombox - INFO - Current working directory: /home/danny/Github/shroombox/shroombox3
2025-03-06 13:16:46,403 - shroombox - INFO - Looking for config at: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:46,403 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:46,404 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:16:46,404 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:16:46,404 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:46,404 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:16:46,405 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:16:46,405 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:16:46,405 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:16:46,405 - shroombox - INFO - Config last modified: 2025-03-06 13:16:46.395308
2025-03-06 13:16:46,406 - shroombox.sensor - INFO - Initializing SCD30 sensor...
2025-03-06 13:16:47,427 - shroombox.sensor - ERROR - Failed to initialize SCD30 sensor: [Errno 110] Connection timed out
2025-03-06 13:16:47,427 - shroombox - INFO - Loaded device assignments - Heater: 192.168.8.164, Humidifier: 192.168.8.181
2025-03-06 13:16:47,427 - shroombox - INFO - 
Initializing PIDs:
2025-03-06 13:16:47,428 - shroombox - INFO - Phase: colonisation
2025-03-06 13:16:47,428 - shroombox - INFO - RH Setpoint: 20.0
2025-03-06 13:16:47,428 - shroombox - INFO - CO2 Setpoint: 500
2025-03-06 13:16:47,428 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:16:47,429 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:47,429 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:16:47,429 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:16:47,429 - shroombox - INFO - Updating humidity PID tunings: (0.2, 0.01, 0.05) -> (0.2, 0.01, 0.0)
2025-03-06 13:16:47,429 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:16:47,430 - shroombox - INFO - 
=== Initializing InfluxDB Client ===
2025-03-06 13:16:47,430 - shroombox - INFO - URL: http://localhost:8086
2025-03-06 13:16:47,430 - shroombox - INFO - Organization: supershrooms
2025-03-06 13:16:47,430 - shroombox - INFO - Bucket: test
2025-03-06 13:16:47,458 - shroombox - INFO - ✓ InfluxDB connection test successful
2025-03-06 13:16:47,458 - shroombox.device - INFO - Starting device scan and settings update...
2025-03-06 13:16:47,458 - shroombox.device - INFO - Starting Kasa device discovery...
2025-03-06 13:16:51,701 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:51,701 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:51,749 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:51,756 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:51,757 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:51,809 - shroombox - INFO - Retrieved measurements: {'temperature': None, 'humidity': None, 'co2': None}
2025-03-06 13:16:52,467 - shroombox.device - INFO - Found 2 devices on network
2025-03-06 13:16:52,512 - shroombox.device - INFO - ✓ Found Tapo P115: Humidifier at 192.168.8.181
2025-03-06 13:16:52,561 - shroombox.device - INFO - ✓ Found Tapo P115: Heatmat at 192.168.8.164
2025-03-06 13:16:52,562 - shroombox.device - INFO - Discovery complete. Found 2 Tapo P115 devices
2025-03-06 13:16:52,563 - shroombox.device - INFO - Successfully updated settings with 2 devices
2025-03-06 13:16:52,563 - shroombox - ERROR - Failed to initialize sensor, continuing without sensor...
2025-03-06 13:16:52,564 - shroombox - INFO - 
=== Starting Main Control Loop ===
2025-03-06 13:16:52,564 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:52,564 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:52,564 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:16:52,565 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=OFF
2025-03-06 13:16:52,565 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:52,609 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:16:52,609 - shroombox - INFO - Setting heater to ON
2025-03-06 13:16:52,780 - shroombox - INFO - Successfully set heater to ON
2025-03-06 13:16:52,819 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:16:52,830 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:16:52,830 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:16:52,831 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:16:52,831 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:16:52,831 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:16:52,915 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:16:52,916 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:16:52,916 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:16:52,917 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:16:52,918 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:52,918 - shroombox - INFO - Last modified time: 2025-03-06 13:16:52
2025-03-06 13:16:52,918 - shroombox - INFO - Last checked time: 2025-03-06 13:16:46
2025-03-06 13:16:52,918 - shroombox - INFO - Current time: 2025-03-06 13:16:52
2025-03-06 13:16:52,919 - shroombox - INFO - Config file modified at 2025-03-06 13:16:52.911317, reloading...
2025-03-06 13:16:52,919 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:16:52,919 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:52,919 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:16:52,919 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:16:52,920 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:52,920 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:16:52,920 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:16:52,920 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:16:52,921 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:16:52,921 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:16:52,921 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:16:52,921 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:16:52,921 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:16:52,922 - shroombox - INFO - CONFIG UPDATE: Heater state in config: False -> True
2025-03-06 13:16:52,922 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:16:52,922 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:16:52,922 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:16:52,922 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:52,922 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:16:52,923 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:16:52,923 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:16:52,923 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:16:52,935 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:52,936 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:52,975 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:16:52,975 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:16:52,975 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:52,975 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:16:52,976 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:16:52,976 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:52,976 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:16:52,976 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:16:52,976 - shroombox - INFO - =======================================================
2025-03-06 13:16:52,977 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:16:54,936 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:54,936 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:54,937 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:16:54,937 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:16:54,937 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:54,978 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:16:54,979 - shroombox - INFO - Setting heater to ON
2025-03-06 13:16:55,076 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:16:55,090 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:16:55,090 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:16:55,090 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:16:55,091 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:16:55,091 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:16:55,104 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:16:55,104 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:16:55,104 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:16:55,106 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:16:55,106 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:55,107 - shroombox - INFO - Last modified time: 2025-03-06 13:16:55
2025-03-06 13:16:55,107 - shroombox - INFO - Last checked time: 2025-03-06 13:16:52
2025-03-06 13:16:55,107 - shroombox - INFO - Current time: 2025-03-06 13:16:55
2025-03-06 13:16:55,107 - shroombox - INFO - Config file modified at 2025-03-06 13:16:55.099320, reloading...
2025-03-06 13:16:55,108 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:16:55,108 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:55,108 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:16:55,109 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:16:55,109 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:55,109 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:16:55,109 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:16:55,109 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:16:55,110 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:16:55,110 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:16:55,110 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:16:55,110 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:16:55,110 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:16:55,111 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:16:55,111 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:16:55,111 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:16:55,111 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:16:55,111 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:55,112 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:16:55,112 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:16:55,112 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:16:55,112 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:16:55,123 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:55,124 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:55,165 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:16:55,166 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:16:55,166 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:55,166 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:16:55,167 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:16:55,167 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:55,167 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:16:55,168 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:16:55,168 - shroombox - INFO - =======================================================
2025-03-06 13:16:55,168 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:16:57,126 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:57,127 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:57,127 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:16:57,127 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:16:57,128 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:57,203 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:16:57,203 - shroombox - INFO - Setting heater to ON
2025-03-06 13:16:57,310 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:16:57,320 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:16:57,321 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:16:57,321 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:16:57,321 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:16:57,321 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:16:57,334 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:16:57,335 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:16:57,335 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:16:57,336 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:16:57,337 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:57,337 - shroombox - INFO - Last modified time: 2025-03-06 13:16:57
2025-03-06 13:16:57,337 - shroombox - INFO - Last checked time: 2025-03-06 13:16:55
2025-03-06 13:16:57,338 - shroombox - INFO - Current time: 2025-03-06 13:16:57
2025-03-06 13:16:57,338 - shroombox - INFO - Config file modified at 2025-03-06 13:16:57.331323, reloading...
2025-03-06 13:16:57,338 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:16:57,338 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:57,339 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:16:57,339 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:16:57,339 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:57,339 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:16:57,340 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:16:57,340 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:16:57,340 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:16:57,340 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:16:57,341 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:16:57,341 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:16:57,341 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:16:57,341 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:16:57,341 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:16:57,342 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:16:57,342 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:16:57,342 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:57,342 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:16:57,342 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:16:57,343 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:16:57,343 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:16:57,353 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:57,354 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:57,393 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:16:57,394 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:16:57,394 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:57,394 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:16:57,394 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:16:57,395 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:57,395 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:16:57,395 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:16:57,395 - shroombox - INFO - =======================================================
2025-03-06 13:16:57,395 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:16:57,703 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:57,704 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:57,753 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:16:57,757 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:57,757 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:16:57,809 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:16:59,355 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:59,355 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:59,355 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:16:59,356 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:16:59,356 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:59,401 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:16:59,402 - shroombox - INFO - Setting heater to ON
2025-03-06 13:16:59,495 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:16:59,510 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:16:59,510 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:16:59,511 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:16:59,511 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:16:59,511 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:16:59,524 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:16:59,524 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:16:59,525 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:16:59,526 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:16:59,526 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:59,527 - shroombox - INFO - Last modified time: 2025-03-06 13:16:59
2025-03-06 13:16:59,527 - shroombox - INFO - Last checked time: 2025-03-06 13:16:57
2025-03-06 13:16:59,527 - shroombox - INFO - Current time: 2025-03-06 13:16:59
2025-03-06 13:16:59,527 - shroombox - INFO - Config file modified at 2025-03-06 13:16:59.519325, reloading...
2025-03-06 13:16:59,528 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:16:59,528 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:59,529 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:16:59,529 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:16:59,529 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:16:59,529 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:16:59,530 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:16:59,530 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:16:59,530 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:16:59,530 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:16:59,531 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:16:59,531 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:16:59,531 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:16:59,531 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:16:59,532 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:16:59,532 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:16:59,532 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:16:59,532 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:59,532 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:16:59,532 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:16:59,533 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:16:59,533 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:16:59,545 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:16:59,545 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:16:59,586 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:16:59,586 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:16:59,587 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:16:59,587 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:16:59,587 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:16:59,588 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:16:59,588 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:16:59,588 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:16:59,588 - shroombox - INFO - =======================================================
2025-03-06 13:16:59,588 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:01,547 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:01,547 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:01,548 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:01,548 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:01,548 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:01,595 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:01,596 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:01,690 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:01,700 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:01,701 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:01,701 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:01,701 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:01,701 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:01,717 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:01,717 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:01,718 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:01,719 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:01,719 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:01,720 - shroombox - INFO - Last modified time: 2025-03-06 13:17:01
2025-03-06 13:17:01,720 - shroombox - INFO - Last checked time: 2025-03-06 13:16:59
2025-03-06 13:17:01,720 - shroombox - INFO - Current time: 2025-03-06 13:17:01
2025-03-06 13:17:01,720 - shroombox - INFO - Config file modified at 2025-03-06 13:17:01.715328, reloading...
2025-03-06 13:17:01,721 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:01,721 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:01,721 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:01,721 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:01,722 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:01,722 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:01,722 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:01,722 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:01,723 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:01,723 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:01,723 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:01,724 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:01,724 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:01,724 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:01,724 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:01,725 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:01,725 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:01,725 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:01,725 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:01,725 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:01,726 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:01,726 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:01,736 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:01,737 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:01,781 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:01,781 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:01,781 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:01,781 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:01,782 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:01,782 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:01,782 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:01,782 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:01,782 - shroombox - INFO - =======================================================
2025-03-06 13:17:01,783 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:03,708 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:03,708 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:03,739 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:03,739 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:03,740 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:03,740 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:03,740 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:03,757 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:03,761 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:03,761 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:03,795 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:03,796 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:03,831 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:03,932 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:03,949 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:03,950 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:03,950 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:03,950 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:03,950 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:03,964 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:03,964 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:03,965 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:03,966 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:03,967 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:03,967 - shroombox - INFO - Last modified time: 2025-03-06 13:17:03
2025-03-06 13:17:03,967 - shroombox - INFO - Last checked time: 2025-03-06 13:17:01
2025-03-06 13:17:03,968 - shroombox - INFO - Current time: 2025-03-06 13:17:03
2025-03-06 13:17:03,968 - shroombox - INFO - Config file modified at 2025-03-06 13:17:03.959331, reloading...
2025-03-06 13:17:03,968 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:03,968 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:03,969 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:03,969 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:03,969 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:03,969 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:03,969 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:03,970 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:03,970 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:03,970 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:03,970 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:03,970 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:03,971 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:03,972 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:03,972 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:03,972 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:03,972 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:03,972 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:03,973 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:03,973 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:03,973 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:03,973 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:03,987 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:03,987 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:04,399 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:04,400 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:04,400 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:04,400 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:04,401 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:04,401 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:04,401 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:04,401 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:04,401 - shroombox - INFO - =======================================================
2025-03-06 13:17:04,401 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:05,989 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:05,990 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:05,990 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:05,990 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:05,990 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:06,031 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:06,032 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:06,128 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:06,141 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:06,141 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:06,142 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:06,142 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:06,142 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:06,157 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:06,158 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:06,159 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:06,161 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:06,163 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:06,163 - shroombox - INFO - Last modified time: 2025-03-06 13:17:06
2025-03-06 13:17:06,164 - shroombox - INFO - Last checked time: 2025-03-06 13:17:03
2025-03-06 13:17:06,166 - shroombox - INFO - Current time: 2025-03-06 13:17:06
2025-03-06 13:17:06,166 - shroombox - INFO - Config file modified at 2025-03-06 13:17:06.155333, reloading...
2025-03-06 13:17:06,167 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:06,168 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:06,168 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:06,168 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:06,169 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:06,170 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:06,170 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:06,170 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:06,170 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:06,171 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:06,171 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:06,171 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:06,172 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:06,172 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:06,172 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:06,172 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:06,173 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:06,173 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:06,173 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:06,173 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:06,174 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:06,174 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:06,189 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:06,189 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:06,232 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:06,233 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:06,233 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:06,234 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:06,234 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:06,234 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:06,234 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:06,234 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:06,235 - shroombox - INFO - =======================================================
2025-03-06 13:17:06,235 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:08,191 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:08,192 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:08,192 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:08,192 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:08,193 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:08,236 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:08,236 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:08,336 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:08,347 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:08,347 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:08,347 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:08,348 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:08,348 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:08,361 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:08,361 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:08,361 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:08,363 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:08,363 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:08,364 - shroombox - INFO - Last modified time: 2025-03-06 13:17:08
2025-03-06 13:17:08,364 - shroombox - INFO - Last checked time: 2025-03-06 13:17:06
2025-03-06 13:17:08,364 - shroombox - INFO - Current time: 2025-03-06 13:17:08
2025-03-06 13:17:08,364 - shroombox - INFO - Config file modified at 2025-03-06 13:17:08.355335, reloading...
2025-03-06 13:17:08,365 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:08,365 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:08,365 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:08,365 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:08,366 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:08,366 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:08,367 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:08,367 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:08,367 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:08,367 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:08,367 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:08,368 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:08,368 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:08,368 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:08,368 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:08,368 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:08,368 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:08,369 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:08,369 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:08,369 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:08,369 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:08,369 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:08,380 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:08,380 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:08,426 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:08,427 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:08,427 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:08,427 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:08,428 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:08,428 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:08,428 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:08,428 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:08,428 - shroombox - INFO - =======================================================
2025-03-06 13:17:08,428 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:09,707 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:09,708 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:09,756 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:09,761 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:09,761 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:09,813 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:10,383 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:10,383 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:10,383 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:10,384 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:10,384 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:10,426 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:10,427 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:10,530 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:10,540 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:10,541 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:10,541 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:10,541 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:10,541 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:10,559 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:10,560 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:10,560 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:10,561 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:10,561 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:10,562 - shroombox - INFO - Last modified time: 2025-03-06 13:17:10
2025-03-06 13:17:10,562 - shroombox - INFO - Last checked time: 2025-03-06 13:17:08
2025-03-06 13:17:10,563 - shroombox - INFO - Current time: 2025-03-06 13:17:10
2025-03-06 13:17:10,563 - shroombox - INFO - Config file modified at 2025-03-06 13:17:10.555338, reloading...
2025-03-06 13:17:10,564 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:10,564 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:10,564 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:10,565 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:10,565 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:10,566 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:10,566 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:10,566 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:10,567 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:10,567 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:10,567 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:10,567 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:10,568 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:10,568 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:10,568 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:10,569 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:10,569 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:10,569 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:10,570 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:10,570 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:10,570 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:10,571 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:10,583 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:10,583 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:10,623 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:10,624 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:10,624 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:10,624 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:10,624 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:10,624 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:10,625 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:10,625 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:10,625 - shroombox - INFO - =======================================================
2025-03-06 13:17:10,625 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:12,585 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:12,586 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:12,586 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:12,586 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:12,587 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:12,643 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:12,643 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:12,739 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:12,751 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:12,751 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:12,751 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:12,752 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:12,752 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:12,764 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:12,765 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:12,765 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:12,766 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:12,767 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:12,767 - shroombox - INFO - Last modified time: 2025-03-06 13:17:12
2025-03-06 13:17:12,767 - shroombox - INFO - Last checked time: 2025-03-06 13:17:10
2025-03-06 13:17:12,768 - shroombox - INFO - Current time: 2025-03-06 13:17:12
2025-03-06 13:17:12,768 - shroombox - INFO - Config file modified at 2025-03-06 13:17:12.759340, reloading...
2025-03-06 13:17:12,768 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:12,768 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:12,768 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:12,769 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:12,769 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:12,769 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:12,769 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:12,770 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:12,770 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:12,771 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:12,771 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:12,771 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:12,771 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:12,772 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:12,772 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:12,772 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:12,772 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:12,772 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:12,773 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:12,773 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:12,773 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:12,773 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:12,785 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:12,786 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:12,831 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:12,831 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:12,831 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:12,831 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:12,832 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:12,832 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:12,832 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:12,832 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:12,832 - shroombox - INFO - =======================================================
2025-03-06 13:17:12,833 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:14,788 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:14,788 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:14,788 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:14,789 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:14,789 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:14,828 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:14,829 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:14,975 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:14,986 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:14,986 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:14,987 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:14,987 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:14,987 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:15,000 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:15,000 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:15,001 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:15,002 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:15,002 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:15,002 - shroombox - INFO - Last modified time: 2025-03-06 13:17:14
2025-03-06 13:17:15,003 - shroombox - INFO - Last checked time: 2025-03-06 13:17:12
2025-03-06 13:17:15,003 - shroombox - INFO - Current time: 2025-03-06 13:17:15
2025-03-06 13:17:15,003 - shroombox - INFO - Config file modified at 2025-03-06 13:17:14.995342, reloading...
2025-03-06 13:17:15,003 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:15,004 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:15,004 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:15,004 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:15,004 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:15,005 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:15,005 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:15,005 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:15,005 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:15,005 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:15,005 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:15,006 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:15,006 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:15,006 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:15,006 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:15,006 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:15,007 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:15,007 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:15,007 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:15,007 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:15,007 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:15,008 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:15,018 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:15,018 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:15,061 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:15,061 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:15,061 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:15,062 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:15,062 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:15,062 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:15,062 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:15,062 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:15,063 - shroombox - INFO - =======================================================
2025-03-06 13:17:15,063 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:15,704 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:15,704 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:15,753 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:15,757 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:15,757 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:15,807 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:17,020 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:17,021 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:17,021 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:17,022 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:17,022 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:17,062 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:17,062 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:17,167 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:17,177 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:17,177 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:17,178 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:17,178 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:17,178 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:17,192 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:17,193 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:17,193 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:17,194 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:17,195 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:17,195 - shroombox - INFO - Last modified time: 2025-03-06 13:17:17
2025-03-06 13:17:17,195 - shroombox - INFO - Last checked time: 2025-03-06 13:17:14
2025-03-06 13:17:17,196 - shroombox - INFO - Current time: 2025-03-06 13:17:17
2025-03-06 13:17:17,196 - shroombox - INFO - Config file modified at 2025-03-06 13:17:17.187345, reloading...
2025-03-06 13:17:17,196 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:17,196 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:17,197 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:17,197 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:17,197 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:17,198 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:17,198 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:17,198 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:17,198 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:17,198 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:17,199 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:17,199 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:17,199 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:17,199 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:17,200 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:17,200 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:17,200 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:17,200 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:17,200 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:17,200 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:17,201 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:17,201 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:17,212 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:17,212 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:17,255 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:17,256 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:17,256 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:17,257 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:17,257 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:17,257 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:17,257 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:17,258 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:17,258 - shroombox - INFO - =======================================================
2025-03-06 13:17:17,258 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:19,213 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:19,213 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:19,213 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:19,214 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:19,214 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:19,257 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:19,257 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:19,351 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:19,363 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:19,364 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:19,364 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:19,364 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:19,364 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:19,376 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:19,377 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:19,377 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:19,378 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:19,379 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:19,379 - shroombox - INFO - Last modified time: 2025-03-06 13:17:19
2025-03-06 13:17:19,379 - shroombox - INFO - Last checked time: 2025-03-06 13:17:17
2025-03-06 13:17:19,379 - shroombox - INFO - Current time: 2025-03-06 13:17:19
2025-03-06 13:17:19,380 - shroombox - INFO - Config file modified at 2025-03-06 13:17:19.371347, reloading...
2025-03-06 13:17:19,380 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:19,380 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:19,380 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:19,381 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:19,381 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:19,381 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:19,381 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:19,382 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:19,382 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:19,382 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:19,382 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:19,382 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:19,383 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:19,383 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:19,383 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:19,383 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:19,383 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:19,384 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:19,384 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:19,384 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:19,384 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:19,384 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:19,395 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:19,396 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:19,436 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:19,436 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:19,436 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:19,437 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:19,437 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:19,437 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:19,437 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:19,437 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:19,437 - shroombox - INFO - =======================================================
2025-03-06 13:17:19,438 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:21,398 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:21,398 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:21,399 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:21,399 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:21,399 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:21,444 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:21,445 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:21,542 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:21,554 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:21,555 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:21,555 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:21,555 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:21,555 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:21,570 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:21,570 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:21,570 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:21,572 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:21,572 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:21,573 - shroombox - INFO - Last modified time: 2025-03-06 13:17:21
2025-03-06 13:17:21,573 - shroombox - INFO - Last checked time: 2025-03-06 13:17:19
2025-03-06 13:17:21,573 - shroombox - INFO - Current time: 2025-03-06 13:17:21
2025-03-06 13:17:21,574 - shroombox - INFO - Config file modified at 2025-03-06 13:17:21.567349, reloading...
2025-03-06 13:17:21,574 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:21,574 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:21,574 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:21,574 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:21,575 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:21,575 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:21,575 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:21,576 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:21,576 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:21,576 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:21,576 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:21,576 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:21,576 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:21,577 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:21,577 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:21,577 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:21,577 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:21,577 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:21,577 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:21,578 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:21,578 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:21,578 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:21,590 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:21,591 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:21,638 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:21,638 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:21,638 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:21,639 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:21,639 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:21,639 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:21,639 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:21,639 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:21,640 - shroombox - INFO - =======================================================
2025-03-06 13:17:21,640 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:21,696 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:21,696 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:21,745 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:21,747 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:21,748 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:21,799 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:23,593 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:23,593 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:23,594 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:23,594 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:23,594 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:23,637 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:23,637 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:23,735 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:23,747 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:23,747 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:23,748 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:23,748 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:23,748 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:23,761 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:23,761 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:23,762 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:23,763 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:23,764 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:23,764 - shroombox - INFO - Last modified time: 2025-03-06 13:17:23
2025-03-06 13:17:23,765 - shroombox - INFO - Last checked time: 2025-03-06 13:17:21
2025-03-06 13:17:23,765 - shroombox - INFO - Current time: 2025-03-06 13:17:23
2025-03-06 13:17:23,765 - shroombox - INFO - Config file modified at 2025-03-06 13:17:23.759351, reloading...
2025-03-06 13:17:23,766 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:23,766 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:23,767 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:23,767 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:23,768 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:23,768 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:23,768 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:23,769 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:23,769 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:23,769 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:23,769 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:23,770 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:23,770 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:23,770 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:23,770 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:23,771 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:23,771 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:23,771 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:23,771 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:23,772 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:23,772 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:23,772 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:23,783 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:23,784 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:23,823 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:23,823 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:23,823 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:23,823 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:23,824 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:23,824 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:23,824 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:23,824 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:23,824 - shroombox - INFO - =======================================================
2025-03-06 13:17:23,824 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:25,786 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:25,786 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:25,786 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:25,787 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:25,787 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:25,835 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:25,835 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:25,932 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:25,943 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:25,944 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:25,944 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:25,944 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:25,944 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:25,956 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:25,957 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:25,957 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:25,959 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:25,959 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:25,960 - shroombox - INFO - Last modified time: 2025-03-06 13:17:25
2025-03-06 13:17:25,960 - shroombox - INFO - Last checked time: 2025-03-06 13:17:23
2025-03-06 13:17:25,960 - shroombox - INFO - Current time: 2025-03-06 13:17:25
2025-03-06 13:17:25,960 - shroombox - INFO - Config file modified at 2025-03-06 13:17:25.951353, reloading...
2025-03-06 13:17:25,960 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:25,961 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:25,961 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:25,961 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:25,962 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:25,962 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:25,963 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:25,963 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:25,963 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:25,963 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:25,964 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:25,964 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:25,964 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:25,964 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:25,964 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:25,964 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:25,965 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:25,965 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:25,965 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:25,965 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:25,965 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:25,966 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:25,975 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:25,976 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:26,014 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:26,015 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:26,016 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:26,016 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:26,017 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:26,017 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:26,017 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:26,018 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:26,019 - shroombox - INFO - =======================================================
2025-03-06 13:17:26,019 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:27,691 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:27,691 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:27,739 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:27,746 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:27,747 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:27,812 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:27,978 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:27,978 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:27,979 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:27,979 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:27,979 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:28,019 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:28,019 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:28,123 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:28,135 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:28,136 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:28,136 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:28,136 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:28,136 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:28,149 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:28,150 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:28,150 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:28,151 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:28,152 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:28,152 - shroombox - INFO - Last modified time: 2025-03-06 13:17:28
2025-03-06 13:17:28,152 - shroombox - INFO - Last checked time: 2025-03-06 13:17:25
2025-03-06 13:17:28,153 - shroombox - INFO - Current time: 2025-03-06 13:17:28
2025-03-06 13:17:28,153 - shroombox - INFO - Config file modified at 2025-03-06 13:17:28.147355, reloading...
2025-03-06 13:17:28,153 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:28,153 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:28,154 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:28,154 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:28,154 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:28,154 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:28,155 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:28,155 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:28,155 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:28,155 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:28,155 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:28,155 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:28,156 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:28,156 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:28,156 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:28,156 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:28,156 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:28,157 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:28,157 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:28,157 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:28,157 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:28,157 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:28,170 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:28,170 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:28,209 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:28,209 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:28,209 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:28,210 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:28,210 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:28,210 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:28,210 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:28,210 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:28,210 - shroombox - INFO - =======================================================
2025-03-06 13:17:28,211 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:30,170 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:30,171 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:30,171 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:30,171 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:30,171 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:30,215 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:30,216 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:30,305 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:30,318 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:30,319 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:30,319 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:30,319 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:30,319 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:30,332 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:30,332 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:30,333 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:30,334 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:30,334 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:30,335 - shroombox - INFO - Last modified time: 2025-03-06 13:17:30
2025-03-06 13:17:30,335 - shroombox - INFO - Last checked time: 2025-03-06 13:17:28
2025-03-06 13:17:30,335 - shroombox - INFO - Current time: 2025-03-06 13:17:30
2025-03-06 13:17:30,335 - shroombox - INFO - Config file modified at 2025-03-06 13:17:30.327357, reloading...
2025-03-06 13:17:30,336 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:30,336 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:30,336 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:30,336 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:30,337 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:30,337 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:30,337 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:30,337 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:30,337 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:30,338 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:30,338 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:30,338 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:30,338 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:30,338 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:30,338 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:30,339 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:30,339 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:30,339 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:30,339 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:30,339 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:30,340 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:30,340 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:30,349 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:30,350 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:30,389 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:30,389 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:30,390 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:30,390 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:30,390 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:30,390 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:30,390 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:30,391 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:30,391 - shroombox - INFO - =======================================================
2025-03-06 13:17:30,391 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:32,351 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:32,352 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:32,352 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:32,352 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:32,352 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:32,396 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:32,396 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:32,533 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:32,544 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:32,545 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:32,545 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:32,545 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:32,545 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:32,560 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:32,560 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:32,561 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:32,562 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:32,563 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:32,563 - shroombox - INFO - Last modified time: 2025-03-06 13:17:32
2025-03-06 13:17:32,564 - shroombox - INFO - Last checked time: 2025-03-06 13:17:30
2025-03-06 13:17:32,564 - shroombox - INFO - Current time: 2025-03-06 13:17:32
2025-03-06 13:17:32,564 - shroombox - INFO - Config file modified at 2025-03-06 13:17:32.555358, reloading...
2025-03-06 13:17:32,564 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:32,564 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:32,565 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:32,565 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:32,565 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:32,565 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:32,566 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:32,566 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:32,566 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:32,566 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:32,566 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:32,567 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:32,567 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:32,567 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:32,567 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:32,567 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:32,568 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:32,568 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:32,568 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:32,568 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:32,568 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:32,568 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:32,579 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:32,579 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:32,623 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:32,623 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:32,624 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:32,624 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:32,624 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:32,624 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:32,624 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:32,625 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:32,625 - shroombox - INFO - =======================================================
2025-03-06 13:17:32,625 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:33,687 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:33,688 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:33,736 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:33,741 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:33,742 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:33,797 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:34,579 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:34,580 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:34,580 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:34,580 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:34,580 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:34,632 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:34,632 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:34,730 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:34,743 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:34,743 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:34,744 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:34,744 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:34,744 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:34,756 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:34,756 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:34,757 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:34,758 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:34,759 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:34,759 - shroombox - INFO - Last modified time: 2025-03-06 13:17:34
2025-03-06 13:17:34,760 - shroombox - INFO - Last checked time: 2025-03-06 13:17:32
2025-03-06 13:17:34,760 - shroombox - INFO - Current time: 2025-03-06 13:17:34
2025-03-06 13:17:34,760 - shroombox - INFO - Config file modified at 2025-03-06 13:17:34.751360, reloading...
2025-03-06 13:17:34,760 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:34,760 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:34,761 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:34,761 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:34,761 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:34,762 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:34,762 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:34,762 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:34,762 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:34,762 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:34,763 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:34,763 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:34,763 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:34,763 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:34,763 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:34,764 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:34,764 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:34,764 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:34,764 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:34,764 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:34,764 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:34,765 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:34,777 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:34,777 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:34,822 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:34,822 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:34,823 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:34,823 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:34,823 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:34,823 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:34,823 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:34,824 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:34,824 - shroombox - INFO - =======================================================
2025-03-06 13:17:34,824 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:36,779 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:36,780 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:36,780 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:36,780 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:36,781 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:36,829 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:36,829 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:36,930 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:36,940 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:36,940 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:36,941 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:36,941 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:36,941 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:36,961 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:36,961 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:36,961 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:36,962 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:36,963 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:36,963 - shroombox - INFO - Last modified time: 2025-03-06 13:17:36
2025-03-06 13:17:36,963 - shroombox - INFO - Last checked time: 2025-03-06 13:17:34
2025-03-06 13:17:36,964 - shroombox - INFO - Current time: 2025-03-06 13:17:36
2025-03-06 13:17:36,964 - shroombox - INFO - Config file modified at 2025-03-06 13:17:36.955362, reloading...
2025-03-06 13:17:36,964 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:36,964 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:36,965 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:36,965 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:36,965 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:36,966 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:36,966 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:36,966 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:36,966 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:36,967 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:36,967 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:36,967 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:36,967 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:36,968 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:36,968 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:36,968 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:36,968 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:36,968 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:36,969 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:36,969 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:36,969 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:36,969 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:36,980 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:36,981 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:37,020 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:37,020 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:37,021 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:37,021 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:37,021 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:37,021 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:37,021 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:37,022 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:37,022 - shroombox - INFO - =======================================================
2025-03-06 13:17:37,022 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:38,982 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:38,983 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:38,983 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:38,983 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:38,983 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:39,024 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:39,024 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:39,123 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:39,133 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:39,134 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:39,134 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:39,134 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:39,134 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:39,147 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:39,148 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:39,148 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:39,149 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:39,150 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:39,151 - shroombox - INFO - Last modified time: 2025-03-06 13:17:39
2025-03-06 13:17:39,151 - shroombox - INFO - Last checked time: 2025-03-06 13:17:36
2025-03-06 13:17:39,151 - shroombox - INFO - Current time: 2025-03-06 13:17:39
2025-03-06 13:17:39,151 - shroombox - INFO - Config file modified at 2025-03-06 13:17:39.143363, reloading...
2025-03-06 13:17:39,152 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:39,152 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:39,152 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:39,153 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:39,153 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:39,153 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:39,153 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:39,154 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:39,154 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:39,154 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:39,154 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:39,154 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:39,155 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:39,155 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:39,155 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:39,155 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:39,155 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:39,155 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:39,156 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:39,156 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:39,156 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:39,156 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:39,167 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:39,167 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:39,207 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:39,208 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:39,208 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:39,208 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:39,208 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:39,208 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:39,209 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:39,209 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:39,209 - shroombox - INFO - =======================================================
2025-03-06 13:17:39,209 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:39,702 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:39,703 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:39,751 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:39,756 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:39,756 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:39,806 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:41,168 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:41,168 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:41,169 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:41,169 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:41,169 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:41,213 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:41,213 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:41,306 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:41,320 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:41,320 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:41,321 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:41,321 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:41,322 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:41,336 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:41,336 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:41,337 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:41,338 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:41,339 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:41,339 - shroombox - INFO - Last modified time: 2025-03-06 13:17:41
2025-03-06 13:17:41,339 - shroombox - INFO - Last checked time: 2025-03-06 13:17:39
2025-03-06 13:17:41,340 - shroombox - INFO - Current time: 2025-03-06 13:17:41
2025-03-06 13:17:41,340 - shroombox - INFO - Config file modified at 2025-03-06 13:17:41.331365, reloading...
2025-03-06 13:17:41,340 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:41,341 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:41,341 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:41,341 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:41,342 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:41,342 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:41,342 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:41,342 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:41,343 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:41,343 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:41,343 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:41,343 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:41,343 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:41,344 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:41,344 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:41,344 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:41,344 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:41,344 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:41,345 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:41,345 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:41,345 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:41,345 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:41,356 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:41,356 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:41,400 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:41,400 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:41,400 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:41,400 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:41,401 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:41,401 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:41,401 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:41,401 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:41,401 - shroombox - INFO - =======================================================
2025-03-06 13:17:41,401 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:43,357 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:43,357 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:43,358 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:43,358 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:43,358 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:43,426 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:43,426 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:43,519 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:43,529 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:43,530 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:43,530 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:43,530 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:43,530 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:43,543 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:43,543 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:43,544 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:43,545 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:43,545 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:43,545 - shroombox - INFO - Last modified time: 2025-03-06 13:17:43
2025-03-06 13:17:43,546 - shroombox - INFO - Last checked time: 2025-03-06 13:17:41
2025-03-06 13:17:43,546 - shroombox - INFO - Current time: 2025-03-06 13:17:43
2025-03-06 13:17:43,546 - shroombox - INFO - Config file modified at 2025-03-06 13:17:43.539366, reloading...
2025-03-06 13:17:43,546 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:43,547 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:43,547 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:43,547 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:43,547 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:43,548 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:43,548 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:43,548 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:43,548 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:43,548 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:43,549 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:43,549 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:43,549 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:43,549 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:43,549 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:43,549 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:43,550 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:43,550 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:43,550 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:43,550 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:43,550 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:43,551 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:43,564 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:43,564 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:43,605 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:43,605 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:43,605 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:43,606 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:43,606 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:43,606 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:43,606 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:43,606 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:43,606 - shroombox - INFO - =======================================================
2025-03-06 13:17:43,607 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:45,566 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:45,567 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:45,567 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:45,567 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:45,567 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:45,609 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:45,609 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:45,700 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:45,700 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:45,704 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:45,721 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:45,722 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:45,722 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:45,722 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:45,722 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:45,736 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:45,737 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:45,738 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:45,739 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:45,740 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:45,741 - shroombox - INFO - Last modified time: 2025-03-06 13:17:45
2025-03-06 13:17:45,741 - shroombox - INFO - Last checked time: 2025-03-06 13:17:43
2025-03-06 13:17:45,742 - shroombox - INFO - Current time: 2025-03-06 13:17:45
2025-03-06 13:17:45,743 - shroombox - INFO - Config file modified at 2025-03-06 13:17:45.735368, reloading...
2025-03-06 13:17:45,743 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:45,744 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:45,744 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:45,745 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:45,745 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:45,746 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:45,746 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:45,747 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:45,748 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:45,748 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:45,749 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:45,749 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:45,749 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:45,750 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:45,750 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:45,750 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:45,751 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:45,751 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:45,752 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:45,752 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:45,752 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:45,752 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:45,754 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:45,760 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:45,763 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:45,766 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:45,767 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:45,814 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:45,816 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:45,816 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:45,817 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:45,817 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:45,818 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:45,818 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:45,818 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:45,819 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:45,819 - shroombox - INFO - =======================================================
2025-03-06 13:17:45,820 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:47,769 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:47,769 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:47,770 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:47,770 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:47,770 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:47,812 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:47,813 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:47,907 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:47,919 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:47,920 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:47,920 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:47,920 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:47,920 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:47,937 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:47,937 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:47,938 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:47,939 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:47,940 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:47,940 - shroombox - INFO - Last modified time: 2025-03-06 13:17:47
2025-03-06 13:17:47,940 - shroombox - INFO - Last checked time: 2025-03-06 13:17:45
2025-03-06 13:17:47,940 - shroombox - INFO - Current time: 2025-03-06 13:17:47
2025-03-06 13:17:47,941 - shroombox - INFO - Config file modified at 2025-03-06 13:17:47.931369, reloading...
2025-03-06 13:17:47,941 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:47,941 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:47,941 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:47,942 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:47,942 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:47,943 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:47,943 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:47,943 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:47,943 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:47,943 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:47,944 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:47,944 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:47,944 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:47,944 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:47,944 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:47,945 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:47,945 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:47,945 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:47,945 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:47,945 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:47,945 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:47,946 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:47,956 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:47,956 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:47,995 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:47,995 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:47,995 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:47,995 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:47,996 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:47,996 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:47,996 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:47,996 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:47,996 - shroombox - INFO - =======================================================
2025-03-06 13:17:47,996 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:49,957 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:49,957 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:49,957 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:49,958 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:49,958 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:50,000 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:50,001 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:50,092 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:50,103 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:50,103 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:50,103 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:50,103 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:50,104 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:50,118 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:50,118 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:50,119 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:50,120 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:50,120 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:50,121 - shroombox - INFO - Last modified time: 2025-03-06 13:17:50
2025-03-06 13:17:50,121 - shroombox - INFO - Last checked time: 2025-03-06 13:17:47
2025-03-06 13:17:50,121 - shroombox - INFO - Current time: 2025-03-06 13:17:50
2025-03-06 13:17:50,121 - shroombox - INFO - Config file modified at 2025-03-06 13:17:50.115371, reloading...
2025-03-06 13:17:50,122 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:50,122 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:50,122 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:50,122 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:50,122 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:50,123 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:50,123 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:50,123 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:50,123 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:50,124 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:50,124 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:50,124 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:50,124 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:50,124 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:50,124 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:50,125 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:50,125 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:50,125 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:50,125 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:50,125 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:50,125 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:50,126 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:50,139 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:50,139 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:50,179 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:50,179 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:50,179 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:50,179 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:50,180 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:50,180 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:50,180 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:50,180 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:50,180 - shroombox - INFO - =======================================================
2025-03-06 13:17:50,180 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:51,703 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:51,704 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:51,752 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:51,757 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:51,757 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:51,840 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:52,142 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:52,142 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:52,142 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:52,143 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:52,143 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:52,186 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:52,187 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:52,287 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:52,302 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:52,303 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:52,303 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:52,304 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:52,304 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:52,318 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:52,319 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:52,319 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:52,320 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:52,321 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:52,321 - shroombox - INFO - Last modified time: 2025-03-06 13:17:52
2025-03-06 13:17:52,322 - shroombox - INFO - Last checked time: 2025-03-06 13:17:50
2025-03-06 13:17:52,322 - shroombox - INFO - Current time: 2025-03-06 13:17:52
2025-03-06 13:17:52,322 - shroombox - INFO - Config file modified at 2025-03-06 13:17:52.315372, reloading...
2025-03-06 13:17:52,323 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:52,323 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:52,323 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:52,324 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:52,324 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:52,324 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:52,325 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:52,325 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:52,325 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:52,326 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:52,326 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:52,326 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:52,327 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:52,327 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:52,327 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:52,327 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:52,328 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:52,328 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:52,328 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:52,328 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:52,328 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:52,329 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:52,340 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:52,341 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:52,380 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:52,381 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:52,381 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:52,382 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:52,382 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:52,382 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:52,382 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:52,383 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:52,383 - shroombox - INFO - =======================================================
2025-03-06 13:17:52,384 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:54,343 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:54,344 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:54,344 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:54,344 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:54,344 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:54,394 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:54,395 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:54,485 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:54,497 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:54,498 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:54,498 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:54,498 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:54,498 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:54,512 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:54,512 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:54,513 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:54,514 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:54,514 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:54,515 - shroombox - INFO - Last modified time: 2025-03-06 13:17:54
2025-03-06 13:17:54,515 - shroombox - INFO - Last checked time: 2025-03-06 13:17:52
2025-03-06 13:17:54,515 - shroombox - INFO - Current time: 2025-03-06 13:17:54
2025-03-06 13:17:54,515 - shroombox - INFO - Config file modified at 2025-03-06 13:17:54.507373, reloading...
2025-03-06 13:17:54,516 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:54,516 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:54,516 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:54,516 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:54,517 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:54,517 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:54,517 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:54,517 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:54,517 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:54,518 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:54,518 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:54,518 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:54,518 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:54,518 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:54,518 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:54,519 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:54,519 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:54,519 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:54,519 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:54,520 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:54,520 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:54,520 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:54,532 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:54,533 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:54,577 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:54,578 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:54,578 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:54,578 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:54,578 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:54,578 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:54,579 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:54,579 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:54,579 - shroombox - INFO - =======================================================
2025-03-06 13:17:54,579 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:56,533 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:56,533 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:56,533 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:56,533 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:56,534 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:56,575 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:56,576 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:56,673 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:56,685 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:56,686 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:56,686 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:56,686 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:56,686 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:56,701 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:56,702 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:56,702 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:56,704 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:56,704 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:56,705 - shroombox - INFO - Last modified time: 2025-03-06 13:17:56
2025-03-06 13:17:56,705 - shroombox - INFO - Last checked time: 2025-03-06 13:17:54
2025-03-06 13:17:56,705 - shroombox - INFO - Current time: 2025-03-06 13:17:56
2025-03-06 13:17:56,705 - shroombox - INFO - Config file modified at 2025-03-06 13:17:56.699374, reloading...
2025-03-06 13:17:56,706 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:56,706 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:56,706 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:56,706 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:56,707 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:56,707 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:56,707 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:56,707 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:56,707 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:56,708 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:56,708 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:56,708 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:56,708 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:56,708 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:56,709 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:56,709 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:56,709 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:56,709 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:56,709 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:56,709 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:56,710 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:56,710 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:56,720 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:56,721 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:56,761 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:56,762 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:56,762 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:56,762 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:56,762 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:56,763 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:56,763 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:56,763 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:56,763 - shroombox - INFO - =======================================================
2025-03-06 13:17:56,764 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:17:57,705 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:57,705 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:57,753 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:57,759 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:57,759 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:17:57,811 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:17:58,723 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:58,723 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:58,724 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:17:58,724 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:17:58,724 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:58,768 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:17:58,769 - shroombox - INFO - Setting heater to ON
2025-03-06 13:17:58,862 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:17:58,871 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:17:58,872 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:17:58,872 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:17:58,872 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:17:58,872 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:17:58,895 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:17:58,896 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:17:58,896 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:17:58,898 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:17:58,898 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:58,898 - shroombox - INFO - Last modified time: 2025-03-06 13:17:58
2025-03-06 13:17:58,899 - shroombox - INFO - Last checked time: 2025-03-06 13:17:56
2025-03-06 13:17:58,899 - shroombox - INFO - Current time: 2025-03-06 13:17:58
2025-03-06 13:17:58,899 - shroombox - INFO - Config file modified at 2025-03-06 13:17:58.891375, reloading...
2025-03-06 13:17:58,899 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:17:58,900 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:58,900 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:17:58,900 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:17:58,900 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:17:58,901 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:17:58,901 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:17:58,901 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:17:58,901 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:17:58,901 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:17:58,901 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:17:58,902 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:17:58,902 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:17:58,902 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:17:58,902 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:17:58,902 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:17:58,903 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:17:58,903 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:58,903 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:17:58,903 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:17:58,903 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:17:58,904 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:17:58,914 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:17:58,915 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:17:58,954 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:17:58,955 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:17:58,955 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:17:58,956 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:17:58,956 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:17:58,956 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:17:58,956 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:17:58,957 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:17:58,957 - shroombox - INFO - =======================================================
2025-03-06 13:17:58,957 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:00,917 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:00,918 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:00,918 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:00,918 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:00,919 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:00,957 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:00,958 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:01,053 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:01,065 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:01,066 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:01,066 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:01,066 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:01,066 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:01,079 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:01,080 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:01,080 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:01,081 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:01,082 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:01,082 - shroombox - INFO - Last modified time: 2025-03-06 13:18:01
2025-03-06 13:18:01,082 - shroombox - INFO - Last checked time: 2025-03-06 13:17:58
2025-03-06 13:18:01,082 - shroombox - INFO - Current time: 2025-03-06 13:18:01
2025-03-06 13:18:01,082 - shroombox - INFO - Config file modified at 2025-03-06 13:18:01.075377, reloading...
2025-03-06 13:18:01,083 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:01,083 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:01,083 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:01,083 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:01,084 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:01,084 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:01,085 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:01,085 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:01,085 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:01,085 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:01,085 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:01,086 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:01,086 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:01,086 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:01,086 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:01,087 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:01,087 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:01,087 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:01,087 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:01,087 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:01,088 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:01,088 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:01,098 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:01,098 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:01,139 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:01,139 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:01,140 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:01,140 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:01,140 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:01,140 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:01,140 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:01,141 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:01,141 - shroombox - INFO - =======================================================
2025-03-06 13:18:01,141 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:03,100 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:03,101 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:03,101 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:03,101 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:03,101 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:03,143 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:03,143 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:03,236 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:03,247 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:03,248 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:03,248 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:03,248 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:03,248 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:03,261 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:03,262 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:03,262 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:03,263 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:03,264 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:03,264 - shroombox - INFO - Last modified time: 2025-03-06 13:18:03
2025-03-06 13:18:03,264 - shroombox - INFO - Last checked time: 2025-03-06 13:18:01
2025-03-06 13:18:03,265 - shroombox - INFO - Current time: 2025-03-06 13:18:03
2025-03-06 13:18:03,265 - shroombox - INFO - Config file modified at 2025-03-06 13:18:03.259377, reloading...
2025-03-06 13:18:03,265 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:03,265 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:03,266 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:03,266 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:03,266 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:03,266 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:03,266 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:03,267 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:03,267 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:03,267 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:03,267 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:03,267 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:03,268 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:03,268 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:03,268 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:03,268 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:03,268 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:03,269 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:03,269 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:03,269 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:03,270 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:03,270 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:03,283 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:03,283 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:03,322 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:03,322 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:03,322 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:03,322 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:03,322 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:03,323 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:03,323 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:03,323 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:03,323 - shroombox - INFO - =======================================================
2025-03-06 13:18:03,323 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:03,689 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:03,690 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:03,740 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:03,745 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:03,746 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:03,798 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:05,284 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:05,284 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:05,285 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:05,285 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:05,285 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:05,332 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:05,333 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:05,422 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:05,434 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:05,434 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:05,434 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:05,435 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:05,435 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:05,447 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:05,448 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:05,448 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:05,449 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:05,450 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:05,450 - shroombox - INFO - Last modified time: 2025-03-06 13:18:05
2025-03-06 13:18:05,450 - shroombox - INFO - Last checked time: 2025-03-06 13:18:03
2025-03-06 13:18:05,451 - shroombox - INFO - Current time: 2025-03-06 13:18:05
2025-03-06 13:18:05,451 - shroombox - INFO - Config file modified at 2025-03-06 13:18:05.443378, reloading...
2025-03-06 13:18:05,451 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:05,451 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:05,452 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:05,452 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:05,452 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:05,452 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:05,453 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:05,453 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:05,453 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:05,453 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:05,453 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:05,453 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:05,454 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:05,454 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:05,454 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:05,454 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:05,454 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:05,455 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:05,455 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:05,455 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:05,455 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:05,455 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:05,467 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:05,468 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:05,513 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:05,514 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:05,514 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:05,514 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:05,514 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:05,514 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:05,515 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:05,515 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:05,515 - shroombox - INFO - =======================================================
2025-03-06 13:18:05,515 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:07,470 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:07,470 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:07,470 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:07,470 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:07,471 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:07,511 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:07,512 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:07,609 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:07,620 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:07,621 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:07,621 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:07,621 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:07,621 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:07,636 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:07,636 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:07,637 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:07,638 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:07,638 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:07,639 - shroombox - INFO - Last modified time: 2025-03-06 13:18:07
2025-03-06 13:18:07,639 - shroombox - INFO - Last checked time: 2025-03-06 13:18:05
2025-03-06 13:18:07,639 - shroombox - INFO - Current time: 2025-03-06 13:18:07
2025-03-06 13:18:07,640 - shroombox - INFO - Config file modified at 2025-03-06 13:18:07.631379, reloading...
2025-03-06 13:18:07,640 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:07,640 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:07,640 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:07,641 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:07,641 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:07,641 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:07,642 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:07,642 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:07,642 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:07,642 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:07,642 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:07,642 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:07,643 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:07,643 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:07,643 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:07,643 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:07,643 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:07,644 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:07,644 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:07,644 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:07,644 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:07,644 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:07,655 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:07,655 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:07,700 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:07,701 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:07,701 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:07,702 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:07,702 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:07,703 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:07,703 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:07,704 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:07,704 - shroombox - INFO - =======================================================
2025-03-06 13:18:07,705 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:09,657 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:09,657 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:09,658 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:09,658 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:09,658 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:09,704 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:09,704 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:09,705 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:09,706 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:09,756 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:09,762 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:09,763 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:09,812 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:09,814 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:09,825 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:09,825 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:09,825 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:09,826 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:09,826 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:09,838 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:09,839 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:09,839 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:09,840 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:09,841 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:09,841 - shroombox - INFO - Last modified time: 2025-03-06 13:18:09
2025-03-06 13:18:09,841 - shroombox - INFO - Last checked time: 2025-03-06 13:18:07
2025-03-06 13:18:09,842 - shroombox - INFO - Current time: 2025-03-06 13:18:09
2025-03-06 13:18:09,842 - shroombox - INFO - Config file modified at 2025-03-06 13:18:09.835380, reloading...
2025-03-06 13:18:09,842 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:09,843 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:09,844 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:09,844 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:09,845 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:09,845 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:09,845 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:09,845 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:09,846 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:09,846 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:09,846 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:09,846 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:09,846 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:09,847 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:09,847 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:09,847 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:09,847 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:09,847 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:09,848 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:09,848 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:09,848 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:09,848 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:09,860 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:09,860 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:09,921 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:09,921 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:09,921 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:09,921 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:09,922 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:09,922 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:09,922 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:09,922 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:09,922 - shroombox - INFO - =======================================================
2025-03-06 13:18:09,922 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:11,863 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:11,863 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:11,863 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:11,864 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:11,864 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:11,908 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:11,908 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:12,004 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:12,017 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:12,018 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:12,018 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:12,018 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:12,018 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:12,032 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:12,032 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:12,033 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:12,034 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:12,035 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:12,035 - shroombox - INFO - Last modified time: 2025-03-06 13:18:12
2025-03-06 13:18:12,035 - shroombox - INFO - Last checked time: 2025-03-06 13:18:09
2025-03-06 13:18:12,036 - shroombox - INFO - Current time: 2025-03-06 13:18:12
2025-03-06 13:18:12,036 - shroombox - INFO - Config file modified at 2025-03-06 13:18:12.027381, reloading...
2025-03-06 13:18:12,036 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:12,037 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:12,037 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:12,037 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:12,037 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:12,038 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:12,038 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:12,038 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:12,038 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:12,038 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:12,039 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:12,039 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:12,039 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:12,039 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:12,039 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:12,039 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:12,040 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:12,040 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:12,040 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:12,040 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:12,040 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:12,041 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:12,051 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:12,051 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:12,095 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:12,096 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:12,096 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:12,096 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:12,096 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:12,096 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:12,097 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:12,097 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:12,097 - shroombox - INFO - =======================================================
2025-03-06 13:18:12,097 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:14,054 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:14,054 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:14,054 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:14,054 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:14,055 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:14,124 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:14,124 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:14,299 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:14,311 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:14,311 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:14,311 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:14,312 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:14,312 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:14,324 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:14,325 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:14,325 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:14,326 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:14,327 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:14,327 - shroombox - INFO - Last modified time: 2025-03-06 13:18:14
2025-03-06 13:18:14,327 - shroombox - INFO - Last checked time: 2025-03-06 13:18:12
2025-03-06 13:18:14,327 - shroombox - INFO - Current time: 2025-03-06 13:18:14
2025-03-06 13:18:14,328 - shroombox - INFO - Config file modified at 2025-03-06 13:18:14.319381, reloading...
2025-03-06 13:18:14,328 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:14,328 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:14,328 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:14,328 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:14,329 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:14,329 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:14,329 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:14,329 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:14,330 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:14,330 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:14,330 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:14,330 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:14,330 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:14,331 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:14,331 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:14,331 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:14,331 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:14,331 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:14,331 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:14,332 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:14,332 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:14,332 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:14,342 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:14,343 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:14,391 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:14,391 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:14,391 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:14,391 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:14,392 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:14,392 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:14,392 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:14,392 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:14,392 - shroombox - INFO - =======================================================
2025-03-06 13:18:14,393 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:15,702 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:15,703 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:15,752 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:15,759 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:15,759 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:15,809 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:16,345 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:16,345 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:16,346 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:16,346 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:16,346 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:16,388 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:16,388 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:16,485 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:16,496 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:16,496 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:16,497 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:16,497 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:16,497 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:16,513 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:16,513 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:16,513 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:16,514 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:16,515 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:16,516 - shroombox - INFO - Last modified time: 2025-03-06 13:18:16
2025-03-06 13:18:16,516 - shroombox - INFO - Last checked time: 2025-03-06 13:18:14
2025-03-06 13:18:16,516 - shroombox - INFO - Current time: 2025-03-06 13:18:16
2025-03-06 13:18:16,516 - shroombox - INFO - Config file modified at 2025-03-06 13:18:16.507382, reloading...
2025-03-06 13:18:16,517 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:16,517 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:16,517 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:16,518 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:16,518 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:16,518 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:16,518 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:16,519 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:16,519 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:16,519 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:16,519 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:16,519 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:16,519 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:16,520 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:16,520 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:16,520 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:16,520 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:16,520 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:16,521 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:16,521 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:16,521 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:16,521 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:16,531 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:16,532 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:16,576 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:16,576 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:16,576 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:16,576 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:16,577 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:16,577 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:16,577 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:16,577 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:16,577 - shroombox - INFO - =======================================================
2025-03-06 13:18:16,577 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:18,532 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:18,532 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:18,533 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:18,533 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:18,533 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:18,579 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:18,580 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:18,677 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:18,688 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:18,688 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:18,689 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:18,689 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:18,689 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:18,701 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:18,702 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:18,702 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:18,703 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:18,704 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:18,704 - shroombox - INFO - Last modified time: 2025-03-06 13:18:18
2025-03-06 13:18:18,704 - shroombox - INFO - Last checked time: 2025-03-06 13:18:16
2025-03-06 13:18:18,705 - shroombox - INFO - Current time: 2025-03-06 13:18:18
2025-03-06 13:18:18,705 - shroombox - INFO - Config file modified at 2025-03-06 13:18:18.699383, reloading...
2025-03-06 13:18:18,705 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:18,705 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:18,706 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:18,706 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:18,706 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:18,706 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:18,707 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:18,707 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:18,707 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:18,708 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:18,708 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:18,708 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:18,709 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:18,709 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:18,709 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:18,709 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:18,710 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:18,710 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:18,710 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:18,710 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:18,710 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:18,711 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:18,721 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:18,721 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:18,763 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:18,763 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:18,764 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:18,764 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:18,764 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:18,765 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:18,765 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:18,766 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:18,766 - shroombox - INFO - =======================================================
2025-03-06 13:18:18,766 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:20,722 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:20,722 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:20,722 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:20,722 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:20,723 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:20,763 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:20,763 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:20,861 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:20,875 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:20,875 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:20,876 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:20,876 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:20,876 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:20,888 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:20,889 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:20,889 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:20,890 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:20,891 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:20,891 - shroombox - INFO - Last modified time: 2025-03-06 13:18:20
2025-03-06 13:18:20,891 - shroombox - INFO - Last checked time: 2025-03-06 13:18:18
2025-03-06 13:18:20,892 - shroombox - INFO - Current time: 2025-03-06 13:18:20
2025-03-06 13:18:20,892 - shroombox - INFO - Config file modified at 2025-03-06 13:18:20.883383, reloading...
2025-03-06 13:18:20,893 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:20,893 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:20,893 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:20,893 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:20,894 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:20,894 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:20,894 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:20,895 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:20,895 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:20,895 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:20,895 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:20,895 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:20,896 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:20,896 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:20,896 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:20,896 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:20,896 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:20,896 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:20,897 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:20,897 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:20,897 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:20,897 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:20,909 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:20,910 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:20,951 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:20,952 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:20,952 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:20,952 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:20,952 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:20,953 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:20,953 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:20,953 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:20,953 - shroombox - INFO - =======================================================
2025-03-06 13:18:20,953 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:21,688 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:21,689 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:21,755 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:21,762 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:21,763 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:21,812 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:22,910 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:22,910 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:22,911 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:22,912 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:22,912 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:22,954 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:22,955 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:23,054 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:23,073 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:23,073 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:23,074 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:23,074 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:23,079 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:23,093 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:23,094 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:23,097 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:23,099 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:23,101 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:23,101 - shroombox - INFO - Last modified time: 2025-03-06 13:18:23
2025-03-06 13:18:23,102 - shroombox - INFO - Last checked time: 2025-03-06 13:18:20
2025-03-06 13:18:23,102 - shroombox - INFO - Current time: 2025-03-06 13:18:23
2025-03-06 13:18:23,102 - shroombox - INFO - Config file modified at 2025-03-06 13:18:23.095384, reloading...
2025-03-06 13:18:23,103 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:23,105 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:23,110 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:23,110 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:23,112 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:23,113 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:23,114 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:23,114 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:23,115 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:23,116 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:23,117 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:23,117 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:23,118 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:23,119 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:23,120 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:23,121 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:23,122 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:23,123 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:23,124 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:23,124 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:23,125 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:23,126 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:23,143 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:23,144 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:23,192 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:23,192 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:23,193 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:23,194 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:23,194 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:23,194 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:23,199 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:23,200 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:23,201 - shroombox - INFO - =======================================================
2025-03-06 13:18:23,201 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:25,151 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:25,151 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:25,152 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:25,152 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:25,152 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:25,217 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:25,217 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:25,367 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:25,380 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:25,380 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:25,381 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:25,381 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:25,381 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:25,395 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:25,395 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:25,396 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:25,397 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:25,398 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:25,398 - shroombox - INFO - Last modified time: 2025-03-06 13:18:25
2025-03-06 13:18:25,399 - shroombox - INFO - Last checked time: 2025-03-06 13:18:23
2025-03-06 13:18:25,399 - shroombox - INFO - Current time: 2025-03-06 13:18:25
2025-03-06 13:18:25,399 - shroombox - INFO - Config file modified at 2025-03-06 13:18:25.391384, reloading...
2025-03-06 13:18:25,400 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:25,400 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:25,400 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:25,400 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:25,401 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:25,401 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:25,401 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:25,402 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:25,402 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:25,402 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:25,402 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:25,403 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:25,403 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:25,403 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:25,403 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:25,404 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:25,404 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:25,404 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:25,404 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:25,404 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:25,405 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:25,405 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:25,416 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:25,417 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:25,459 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:25,460 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:25,460 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:25,460 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:25,461 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:25,461 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:25,462 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:25,462 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:25,463 - shroombox - INFO - =======================================================
2025-03-06 13:18:25,463 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:27,419 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:27,420 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:27,420 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:27,420 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:27,421 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:27,459 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:27,459 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:27,561 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:27,573 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:27,574 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:27,575 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:27,575 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:27,575 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:27,588 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:27,588 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:27,589 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:27,590 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:27,590 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:27,590 - shroombox - INFO - Last modified time: 2025-03-06 13:18:27
2025-03-06 13:18:27,591 - shroombox - INFO - Last checked time: 2025-03-06 13:18:25
2025-03-06 13:18:27,591 - shroombox - INFO - Current time: 2025-03-06 13:18:27
2025-03-06 13:18:27,591 - shroombox - INFO - Config file modified at 2025-03-06 13:18:27.583385, reloading...
2025-03-06 13:18:27,591 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:27,592 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:27,592 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:27,592 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:27,592 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:27,593 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:27,593 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:27,593 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:27,593 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:27,593 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:27,593 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:27,594 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:27,594 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:27,594 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:27,594 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:27,594 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:27,595 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:27,595 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:27,595 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:27,595 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:27,595 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:27,596 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:27,606 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:27,606 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:27,652 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:27,653 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:27,653 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:27,653 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:27,653 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:27,654 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:27,654 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:27,654 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:27,654 - shroombox - INFO - =======================================================
2025-03-06 13:18:27,654 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:27,700 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:27,701 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:27,749 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:27,751 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:27,752 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:27,802 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:29,609 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:29,609 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:29,609 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:29,610 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:29,610 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:29,665 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:29,665 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:29,757 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:29,769 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:29,769 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:29,769 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:29,770 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:29,770 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:29,782 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:29,783 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:29,783 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:29,784 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:29,785 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:29,785 - shroombox - INFO - Last modified time: 2025-03-06 13:18:29
2025-03-06 13:18:29,785 - shroombox - INFO - Last checked time: 2025-03-06 13:18:27
2025-03-06 13:18:29,786 - shroombox - INFO - Current time: 2025-03-06 13:18:29
2025-03-06 13:18:29,786 - shroombox - INFO - Config file modified at 2025-03-06 13:18:29.779385, reloading...
2025-03-06 13:18:29,786 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:29,786 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:29,787 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:29,787 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:29,787 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:29,787 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:29,788 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:29,788 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:29,788 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:29,788 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:29,788 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:29,788 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:29,789 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:29,789 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:29,789 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:29,789 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:29,789 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:29,789 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:29,790 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:29,790 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:29,790 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:29,790 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:29,810 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:29,810 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:29,848 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:29,848 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:29,849 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:29,849 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:29,849 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:29,849 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:29,849 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:29,850 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:29,850 - shroombox - INFO - =======================================================
2025-03-06 13:18:29,850 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:31,810 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:31,811 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:31,811 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:31,811 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:31,812 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:31,850 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:31,851 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:31,946 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:31,964 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:31,965 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:31,965 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:31,965 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:31,965 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:31,978 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:31,979 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:31,979 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:31,980 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:31,981 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:31,981 - shroombox - INFO - Last modified time: 2025-03-06 13:18:31
2025-03-06 13:18:31,981 - shroombox - INFO - Last checked time: 2025-03-06 13:18:29
2025-03-06 13:18:31,981 - shroombox - INFO - Current time: 2025-03-06 13:18:31
2025-03-06 13:18:31,982 - shroombox - INFO - Config file modified at 2025-03-06 13:18:31.975385, reloading...
2025-03-06 13:18:31,982 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:31,982 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:31,982 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:31,982 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:31,983 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:31,983 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:31,983 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:31,983 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:31,984 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:31,984 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:31,984 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:31,984 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:31,984 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:31,984 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:31,985 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:31,985 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:31,985 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:31,985 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:31,985 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:31,986 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:31,986 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:31,986 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:31,997 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:31,998 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:32,042 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:32,042 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:32,043 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:32,043 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:32,043 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:32,043 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:32,044 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:32,044 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:32,044 - shroombox - INFO - =======================================================
2025-03-06 13:18:32,044 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:33,691 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:33,692 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:33,779 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:33,787 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:33,787 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:33,839 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:33,999 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:34,000 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:34,000 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:34,000 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:34,000 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:34,044 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:34,045 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:34,144 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:34,156 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:34,156 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:34,157 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:34,157 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:34,157 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:34,171 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:34,171 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:34,172 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:34,173 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:34,173 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:34,174 - shroombox - INFO - Last modified time: 2025-03-06 13:18:34
2025-03-06 13:18:34,174 - shroombox - INFO - Last checked time: 2025-03-06 13:18:31
2025-03-06 13:18:34,174 - shroombox - INFO - Current time: 2025-03-06 13:18:34
2025-03-06 13:18:34,174 - shroombox - INFO - Config file modified at 2025-03-06 13:18:34.167386, reloading...
2025-03-06 13:18:34,175 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:34,175 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:34,175 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:34,175 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:34,176 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:34,176 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:34,176 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:34,176 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:34,176 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:34,177 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:34,177 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:34,177 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:34,177 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:34,177 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:34,178 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:34,178 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:34,178 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:34,178 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:34,178 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:34,178 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:34,179 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:34,179 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:34,189 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:34,189 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:34,238 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:34,238 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:34,239 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:34,239 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:34,239 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:34,239 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:34,239 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:34,240 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:34,240 - shroombox - INFO - =======================================================
2025-03-06 13:18:34,240 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:36,191 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:36,192 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:36,192 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:36,192 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:36,192 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:36,237 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:36,238 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:36,334 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:36,346 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:36,346 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:36,347 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:36,347 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:36,347 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:36,360 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:36,360 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:36,361 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:36,362 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:36,362 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:36,363 - shroombox - INFO - Last modified time: 2025-03-06 13:18:36
2025-03-06 13:18:36,363 - shroombox - INFO - Last checked time: 2025-03-06 13:18:34
2025-03-06 13:18:36,363 - shroombox - INFO - Current time: 2025-03-06 13:18:36
2025-03-06 13:18:36,364 - shroombox - INFO - Config file modified at 2025-03-06 13:18:36.355386, reloading...
2025-03-06 13:18:36,364 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:36,364 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:36,364 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:36,365 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:36,365 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:36,365 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:36,366 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:36,366 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:36,366 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:36,366 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:36,367 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:36,367 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:36,367 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:36,367 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:36,367 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:36,368 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:36,368 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:36,368 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:36,368 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:36,368 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:36,368 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:36,369 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:36,378 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:36,379 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:36,417 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:36,418 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:36,418 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:36,418 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:36,418 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:36,418 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:36,419 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:36,419 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:36,419 - shroombox - INFO - =======================================================
2025-03-06 13:18:36,419 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:38,379 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:38,379 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:38,380 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:38,380 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:38,381 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:38,445 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:38,446 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:38,535 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:38,547 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:38,547 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:38,547 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:38,548 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:38,548 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:38,563 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:38,563 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:38,563 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:38,564 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:38,565 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:38,565 - shroombox - INFO - Last modified time: 2025-03-06 13:18:38
2025-03-06 13:18:38,565 - shroombox - INFO - Last checked time: 2025-03-06 13:18:36
2025-03-06 13:18:38,566 - shroombox - INFO - Current time: 2025-03-06 13:18:38
2025-03-06 13:18:38,566 - shroombox - INFO - Config file modified at 2025-03-06 13:18:38.559386, reloading...
2025-03-06 13:18:38,566 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:38,566 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:38,567 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:38,567 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:38,567 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:38,567 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:38,568 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:38,568 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:38,568 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:38,568 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:38,568 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:38,569 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:38,569 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:38,569 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:38,569 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:38,569 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:38,569 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:38,570 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:38,570 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:38,570 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:38,570 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:38,570 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:38,582 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:38,583 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:38,621 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:38,621 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:38,622 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:38,622 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:38,622 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:38,622 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:38,622 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:38,623 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:38,623 - shroombox - INFO - =======================================================
2025-03-06 13:18:38,623 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:39,690 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:39,691 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:39,738 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:39,746 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:39,746 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:39,795 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:40,585 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:40,585 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:40,586 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:40,586 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:40,586 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:40,631 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:40,631 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:40,732 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:40,743 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:40,743 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:40,744 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:40,744 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:40,744 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:40,758 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:40,758 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:40,759 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:40,760 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:40,761 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:40,761 - shroombox - INFO - Last modified time: 2025-03-06 13:18:40
2025-03-06 13:18:40,761 - shroombox - INFO - Last checked time: 2025-03-06 13:18:38
2025-03-06 13:18:40,762 - shroombox - INFO - Current time: 2025-03-06 13:18:40
2025-03-06 13:18:40,762 - shroombox - INFO - Config file modified at 2025-03-06 13:18:40.755386, reloading...
2025-03-06 13:18:40,762 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:40,762 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:40,762 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:40,763 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:40,763 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:40,763 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:40,763 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:40,764 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:40,764 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:40,764 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:40,764 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:40,764 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:40,764 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:40,765 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:40,765 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:40,765 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:40,765 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:40,765 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:40,766 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:40,766 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:40,766 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:40,766 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:40,777 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:40,778 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:40,862 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:40,862 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:40,863 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:40,863 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:40,864 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:40,864 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:40,864 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:40,865 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:40,865 - shroombox - INFO - =======================================================
2025-03-06 13:18:40,866 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:42,781 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:42,781 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:42,782 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:42,782 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:42,782 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:42,820 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:42,820 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:42,915 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:42,928 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:42,928 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:42,928 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:42,929 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:42,929 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:42,943 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:42,944 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:42,944 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:42,945 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:42,946 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:42,946 - shroombox - INFO - Last modified time: 2025-03-06 13:18:42
2025-03-06 13:18:42,946 - shroombox - INFO - Last checked time: 2025-03-06 13:18:40
2025-03-06 13:18:42,946 - shroombox - INFO - Current time: 2025-03-06 13:18:42
2025-03-06 13:18:42,946 - shroombox - INFO - Config file modified at 2025-03-06 13:18:42.939386, reloading...
2025-03-06 13:18:42,947 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:42,947 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:42,948 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:42,948 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:42,948 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:42,948 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:42,949 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:42,949 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:42,949 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:42,949 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:42,950 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:42,950 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:42,950 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:42,950 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:42,950 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:42,951 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:42,951 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:42,951 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:42,951 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:42,951 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:42,952 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:42,952 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:42,962 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:42,963 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:43,004 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:43,004 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:43,005 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:43,005 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:43,005 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:43,005 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:43,005 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:43,006 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:43,006 - shroombox - INFO - =======================================================
2025-03-06 13:18:43,006 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:44,963 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:44,963 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:44,963 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:44,964 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:44,964 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:45,021 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:45,022 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:45,115 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:45,131 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:45,132 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:45,132 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:45,132 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:45,132 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:45,145 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:45,145 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:45,146 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:45,147 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:45,147 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:45,148 - shroombox - INFO - Last modified time: 2025-03-06 13:18:45
2025-03-06 13:18:45,148 - shroombox - INFO - Last checked time: 2025-03-06 13:18:42
2025-03-06 13:18:45,148 - shroombox - INFO - Current time: 2025-03-06 13:18:45
2025-03-06 13:18:45,149 - shroombox - INFO - Config file modified at 2025-03-06 13:18:45.143386, reloading...
2025-03-06 13:18:45,149 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:45,149 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:45,149 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:45,150 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:45,150 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:45,150 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:45,151 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:45,151 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:45,151 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:45,151 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:45,152 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:45,152 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:45,152 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:45,152 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:45,152 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:45,152 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:45,153 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:45,153 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:45,153 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:45,153 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:45,153 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:45,154 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:45,163 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:45,163 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:45,204 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:45,205 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:45,205 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:45,205 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:45,205 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:45,205 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:45,206 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:45,206 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:45,206 - shroombox - INFO - =======================================================
2025-03-06 13:18:45,206 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:45,694 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:45,694 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:45,768 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:45,773 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:45,774 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:45,824 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:47,164 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:47,164 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:47,164 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:47,165 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:47,165 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:47,207 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:47,208 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:47,307 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:47,321 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:47,321 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:47,321 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:47,322 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:47,322 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:47,335 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:47,336 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:47,336 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:47,338 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:47,338 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:47,339 - shroombox - INFO - Last modified time: 2025-03-06 13:18:47
2025-03-06 13:18:47,339 - shroombox - INFO - Last checked time: 2025-03-06 13:18:45
2025-03-06 13:18:47,339 - shroombox - INFO - Current time: 2025-03-06 13:18:47
2025-03-06 13:18:47,339 - shroombox - INFO - Config file modified at 2025-03-06 13:18:47.331386, reloading...
2025-03-06 13:18:47,340 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:47,340 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:47,340 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:47,340 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:47,341 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:47,341 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:47,341 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:47,341 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:47,342 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:47,342 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:47,342 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:47,342 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:47,342 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:47,343 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:47,343 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:47,343 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:47,343 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:47,343 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:47,343 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:47,344 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:47,344 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:47,344 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:47,356 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:47,356 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:47,395 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:47,396 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:47,396 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:47,396 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:47,397 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:47,397 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:47,397 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:47,397 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:47,397 - shroombox - INFO - =======================================================
2025-03-06 13:18:47,398 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:49,358 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:49,358 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:49,359 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:49,359 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:49,359 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:49,400 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:49,400 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:49,505 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:49,518 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:49,519 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:49,519 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:49,519 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:49,520 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:49,532 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:49,533 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:49,533 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:49,534 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:49,535 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:49,535 - shroombox - INFO - Last modified time: 2025-03-06 13:18:49
2025-03-06 13:18:49,535 - shroombox - INFO - Last checked time: 2025-03-06 13:18:47
2025-03-06 13:18:49,535 - shroombox - INFO - Current time: 2025-03-06 13:18:49
2025-03-06 13:18:49,536 - shroombox - INFO - Config file modified at 2025-03-06 13:18:49.527386, reloading...
2025-03-06 13:18:49,536 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:49,536 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:49,536 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:49,537 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:49,537 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:49,537 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:49,537 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:49,538 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:49,538 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:49,538 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:49,538 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:49,538 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:49,539 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:49,539 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:49,539 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:49,540 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:49,540 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:49,540 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:49,540 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:49,540 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:49,541 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:49,541 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:49,553 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:49,553 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:49,597 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:49,598 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:49,598 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:49,598 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:49,598 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:49,598 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:49,599 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:49,599 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:49,599 - shroombox - INFO - =======================================================
2025-03-06 13:18:49,599 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:51,555 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:51,556 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:51,556 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:51,556 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:51,557 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:51,599 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:51,600 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:51,684 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:51,684 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:51,697 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:51,707 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:51,709 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:51,709 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:51,710 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:51,710 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:51,723 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:51,724 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:51,725 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:51,727 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:51,728 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:51,728 - shroombox - INFO - Last modified time: 2025-03-06 13:18:51
2025-03-06 13:18:51,729 - shroombox - INFO - Last checked time: 2025-03-06 13:18:49
2025-03-06 13:18:51,730 - shroombox - INFO - Current time: 2025-03-06 13:18:51
2025-03-06 13:18:51,731 - shroombox - INFO - Config file modified at 2025-03-06 13:18:51.719385, reloading...
2025-03-06 13:18:51,732 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:51,732 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:51,732 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:51,733 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:51,733 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:51,734 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:51,734 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:51,734 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:51,735 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:51,735 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:51,735 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:51,735 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:51,736 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:51,736 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:51,736 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:51,736 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:51,737 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:51,737 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:51,737 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:51,737 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:51,737 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:51,738 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:51,738 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:51,745 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:51,746 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:51,749 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:51,750 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:51,797 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:51,807 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:51,808 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:51,809 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:51,809 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:51,809 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:51,809 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:51,810 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:51,810 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:51,811 - shroombox - INFO - =======================================================
2025-03-06 13:18:51,811 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:53,752 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:53,753 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:53,753 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:53,753 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:53,753 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:53,803 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:53,803 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:53,893 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:53,906 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:53,906 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:53,906 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:53,907 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:53,907 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:53,921 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:53,922 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:53,922 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:53,923 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:53,924 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:53,924 - shroombox - INFO - Last modified time: 2025-03-06 13:18:53
2025-03-06 13:18:53,924 - shroombox - INFO - Last checked time: 2025-03-06 13:18:51
2025-03-06 13:18:53,925 - shroombox - INFO - Current time: 2025-03-06 13:18:53
2025-03-06 13:18:53,925 - shroombox - INFO - Config file modified at 2025-03-06 13:18:53.919385, reloading...
2025-03-06 13:18:53,925 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:53,925 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:53,926 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:53,926 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:53,926 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:53,926 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:53,927 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:53,927 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:53,927 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:53,927 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:53,927 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:53,928 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:53,928 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:53,928 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:53,928 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:53,928 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:53,928 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:53,929 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:53,929 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:53,929 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:53,929 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:53,930 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:53,939 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:53,939 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:53,976 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:53,977 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:53,977 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:53,977 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:53,977 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:53,978 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:53,978 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:53,978 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:53,978 - shroombox - INFO - =======================================================
2025-03-06 13:18:53,978 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:55,940 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:55,940 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:55,940 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:55,941 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:55,941 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:55,985 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:55,986 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:56,090 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:56,104 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:56,104 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:56,104 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:56,105 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:56,105 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:56,117 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:56,117 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:56,118 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:56,119 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:56,120 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:56,120 - shroombox - INFO - Last modified time: 2025-03-06 13:18:56
2025-03-06 13:18:56,120 - shroombox - INFO - Last checked time: 2025-03-06 13:18:53
2025-03-06 13:18:56,120 - shroombox - INFO - Current time: 2025-03-06 13:18:56
2025-03-06 13:18:56,121 - shroombox - INFO - Config file modified at 2025-03-06 13:18:56.115385, reloading...
2025-03-06 13:18:56,121 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:56,121 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:56,121 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:56,122 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:56,122 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:56,122 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:56,122 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:56,123 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:56,123 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:56,123 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:56,123 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:56,123 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:56,123 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:56,124 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:56,124 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:56,124 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:56,124 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:56,124 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:56,125 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:56,125 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:56,125 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:56,125 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:56,138 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:56,138 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:56,206 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:56,206 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:56,207 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:56,207 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:56,207 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:56,207 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:56,207 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:56,208 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:56,208 - shroombox - INFO - =======================================================
2025-03-06 13:18:56,208 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:18:57,695 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:57,696 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:57,745 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:57,750 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:57,751 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:18:57,801 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:18:58,140 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:58,141 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:58,141 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:18:58,141 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:18:58,141 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:58,186 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:18:58,187 - shroombox - INFO - Setting heater to ON
2025-03-06 13:18:58,281 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:18:58,302 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:18:58,303 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:18:58,303 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:18:58,303 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:18:58,303 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:18:58,318 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:18:58,318 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:18:58,319 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:18:58,320 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:18:58,320 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:58,321 - shroombox - INFO - Last modified time: 2025-03-06 13:18:58
2025-03-06 13:18:58,321 - shroombox - INFO - Last checked time: 2025-03-06 13:18:56
2025-03-06 13:18:58,321 - shroombox - INFO - Current time: 2025-03-06 13:18:58
2025-03-06 13:18:58,321 - shroombox - INFO - Config file modified at 2025-03-06 13:18:58.315385, reloading...
2025-03-06 13:18:58,322 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:18:58,322 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:58,322 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:18:58,322 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:18:58,323 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:18:58,323 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:18:58,323 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:18:58,323 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:18:58,324 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:18:58,324 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:18:58,324 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:18:58,324 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:18:58,324 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:18:58,325 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:18:58,325 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:18:58,325 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:18:58,325 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:18:58,325 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:58,325 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:18:58,326 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:18:58,326 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:18:58,326 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:18:58,338 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:18:58,339 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:18:58,377 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:18:58,377 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:18:58,378 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:18:58,378 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:18:58,378 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:18:58,378 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:18:58,379 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:18:58,379 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:18:58,379 - shroombox - INFO - =======================================================
2025-03-06 13:18:58,379 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:00,341 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:00,341 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:00,341 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:00,342 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:00,342 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:00,430 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:00,431 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:00,525 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:00,535 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:00,536 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:00,536 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:00,536 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:00,536 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:00,548 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:00,549 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:00,549 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:00,550 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:00,551 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:00,551 - shroombox - INFO - Last modified time: 2025-03-06 13:19:00
2025-03-06 13:19:00,551 - shroombox - INFO - Last checked time: 2025-03-06 13:18:58
2025-03-06 13:19:00,552 - shroombox - INFO - Current time: 2025-03-06 13:19:00
2025-03-06 13:19:00,552 - shroombox - INFO - Config file modified at 2025-03-06 13:19:00.543384, reloading...
2025-03-06 13:19:00,552 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:00,552 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:00,553 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:00,553 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:00,553 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:00,553 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:00,554 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:00,554 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:00,554 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:00,554 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:00,554 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:00,554 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:00,555 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:00,555 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:00,555 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:00,555 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:00,555 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:00,556 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:00,556 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:00,556 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:00,556 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:00,556 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:00,566 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:00,566 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:00,605 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:00,605 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:00,606 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:00,606 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:00,606 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:00,606 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:00,606 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:00,607 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:00,607 - shroombox - INFO - =======================================================
2025-03-06 13:19:00,607 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:02,568 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:02,569 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:02,569 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:02,569 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:02,570 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:02,617 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:02,618 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:02,715 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:02,727 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:02,728 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:02,728 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:02,728 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:02,729 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:02,741 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:02,742 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:02,742 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:02,743 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:02,744 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:02,744 - shroombox - INFO - Last modified time: 2025-03-06 13:19:02
2025-03-06 13:19:02,745 - shroombox - INFO - Last checked time: 2025-03-06 13:19:00
2025-03-06 13:19:02,745 - shroombox - INFO - Current time: 2025-03-06 13:19:02
2025-03-06 13:19:02,745 - shroombox - INFO - Config file modified at 2025-03-06 13:19:02.739384, reloading...
2025-03-06 13:19:02,745 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:02,746 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:02,746 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:02,746 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:02,747 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:02,747 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:02,747 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:02,747 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:02,748 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:02,748 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:02,748 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:02,748 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:02,748 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:02,749 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:02,749 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:02,749 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:02,750 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:02,750 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:02,750 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:02,750 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:02,750 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:02,751 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:02,761 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:02,762 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:02,803 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:02,803 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:02,803 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:02,804 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:02,804 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:02,804 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:02,804 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:02,804 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:02,804 - shroombox - INFO - =======================================================
2025-03-06 13:19:02,805 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:03,694 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:03,695 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:19:03,743 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:19:03,748 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:03,749 - shroombox - INFO - Using InfluxDB for measurements
2025-03-06 13:19:03,799 - shroombox - INFO - Retrieved measurements: {'temperature': 20.5, 'humidity': 32.5, 'co2': 575.0}
2025-03-06 13:19:04,764 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:04,765 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:04,766 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:04,766 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:04,767 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:04,817 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:04,818 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:04,913 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:04,923 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:04,923 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:04,923 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:04,924 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:04,924 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:04,937 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:04,937 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:04,937 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:04,938 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:04,939 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:04,939 - shroombox - INFO - Last modified time: 2025-03-06 13:19:04
2025-03-06 13:19:04,940 - shroombox - INFO - Last checked time: 2025-03-06 13:19:02
2025-03-06 13:19:04,940 - shroombox - INFO - Current time: 2025-03-06 13:19:04
2025-03-06 13:19:04,940 - shroombox - INFO - Config file modified at 2025-03-06 13:19:04.931383, reloading...
2025-03-06 13:19:04,940 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:04,940 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:04,941 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:04,941 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:04,941 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:04,941 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:04,942 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:04,942 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:04,942 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:04,942 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:04,942 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:04,942 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:04,943 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:04,943 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:04,943 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:04,943 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:04,943 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:04,944 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:04,944 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:04,944 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:04,944 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:04,945 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:04,958 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:04,958 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:04,999 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:04,999 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:04,999 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:04,999 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:05,000 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:05,000 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:05,000 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:05,000 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:05,000 - shroombox - INFO - =======================================================
2025-03-06 13:19:05,001 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:06,960 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:06,961 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:06,961 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:06,962 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:06,962 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:07,006 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:07,006 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:07,100 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:07,113 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:07,113 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:07,113 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:07,114 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:07,114 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:07,127 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:07,128 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:07,128 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
2025-03-06 13:19:07,129 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully wrote updated settings to file
2025-03-06 13:19:07,129 - shroombox - INFO - Checking config updates - File: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:07,130 - shroombox - INFO - Last modified time: 2025-03-06 13:19:07
2025-03-06 13:19:07,130 - shroombox - INFO - Last checked time: 2025-03-06 13:19:04
2025-03-06 13:19:07,130 - shroombox - INFO - Current time: 2025-03-06 13:19:07
2025-03-06 13:19:07,131 - shroombox - INFO - Config file modified at 2025-03-06 13:19:07.123383, reloading...
2025-03-06 13:19:07,131 - shroombox - INFO - Current config file content (first 500 chars): {
    "available_devices": [
        {
            "name": "Humidifier",
            "ip": "192.168.8.181",
            "mac": "B0-19-21-C4-C9-9D",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": false,
            "role": "humidifier"
        },
        {
            "name": "Heatmat",
            "ip": "192.168.8.164",
            "mac": "B0-19-21-C4-CE-97",
            "model": "P115",
            "type": "SMART.TAPOPLUG",
            "state": true,
   ...
2025-03-06 13:19:07,132 - shroombox - INFO - Loading config from: /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:07,132 - shroombox - INFO - Config file permissions: 0o100644
2025-03-06 13:19:07,132 - shroombox - INFO - Config file owner: 1000, group: 1000
2025-03-06 13:19:07,133 - shroombox - INFO - Successfully loaded config from /home/danny/Github/shroombox/shroombox3/config/settings.json
2025-03-06 13:19:07,134 - shroombox - INFO - Loaded settings for phase 'colonisation':
2025-03-06 13:19:07,134 - shroombox - INFO -   Temperature setpoint: 22.0°C
2025-03-06 13:19:07,135 - shroombox - INFO -   Humidity setpoint: 20.0%
2025-03-06 13:19:07,135 - shroombox - INFO -   CO2 setpoint: 500ppm
2025-03-06 13:19:07,135 - shroombox - INFO - CONFIG UPDATE: Phase changed: colonisation -> colonisation
2025-03-06 13:19:07,136 - shroombox - INFO - CONFIG UPDATE: Temperature setpoint: 22.0 -> 22.0
2025-03-06 13:19:07,136 - shroombox - INFO - CONFIG UPDATE: CO2 setpoint: 500 -> 500
2025-03-06 13:19:07,136 - shroombox - INFO - CONFIG UPDATE: Humidity setpoint: 20.0 -> 20.0
2025-03-06 13:19:07,136 - shroombox - INFO - CONFIG UPDATE: Heater state in config: True -> True
2025-03-06 13:19:07,136 - shroombox - INFO - CONFIG UPDATE: Heater IP: 192.168.8.164 -> 192.168.8.164
2025-03-06 13:19:07,137 - shroombox - INFO - Updating controllers with new settings...
2025-03-06 13:19:07,137 - shroombox - INFO - Updating controllers with phase: colonisation
2025-03-06 13:19:07,137 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:07,137 - shroombox - INFO - Humidity setpoint: 20.0%
2025-03-06 13:19:07,137 - shroombox - INFO - CO2 setpoint: 500ppm
2025-03-06 13:19:07,137 - shroombox - INFO - Controllers updated successfully with new settings
2025-03-06 13:19:07,138 - shroombox - INFO - Running heater diagnostic with new settings
2025-03-06 13:19:07,149 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:07,149 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:07,188 - shroombox - INFO - =================== HEATER DIAGNOSTIC ===================
2025-03-06 13:19:07,188 - shroombox - INFO - Current temperature: 20.5°C
2025-03-06 13:19:07,188 - shroombox - INFO - Temperature setpoint: 22.0°C
2025-03-06 13:19:07,189 - shroombox - INFO - Hysteresis: 0.5°C
2025-03-06 13:19:07,189 - shroombox - INFO - Heat-on threshold: 21.5°C
2025-03-06 13:19:07,189 - shroombox - INFO - Criteria met for heating? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:07,189 - shroombox - INFO - Current heater state according to Tapo: ON
2025-03-06 13:19:07,189 - shroombox - INFO - Local tracking of heater state: ON
2025-03-06 13:19:07,190 - shroombox - INFO - =======================================================
2025-03-06 13:19:07,190 - shroombox - INFO - HEATER DIAGNOSTIC: Heater state is correct according to control logic.
2025-03-06 13:19:09,149 - shroombox.sensor - WARNING - Warning: No sensor available
2025-03-06 13:19:09,150 - shroombox - INFO - Using fallback measurements for testing
2025-03-06 13:19:09,150 - shroombox - INFO - TEMP CONTROL DEBUG: Current temp=20.5°C, Setpoint=22.0°C, Hysteresis=0.5°C
2025-03-06 13:19:09,150 - shroombox - INFO - TEMP CONTROL DEBUG: Turn on threshold=21.5°C, Current heater state=ON
2025-03-06 13:19:09,151 - shroombox - INFO - TEMP CONTROL DEBUG: Should heat? True (temp < threshold? 20.5 < 21.5)
2025-03-06 13:19:09,194 - shroombox - INFO - TEMP CONTROL DEBUG: Enforcing heater state to ON based on temperature logic
2025-03-06 13:19:09,194 - shroombox - INFO - Setting heater to ON
2025-03-06 13:19:09,285 - shroombox - INFO - Heater set to ON - Temp: 20.5°C (Target: 22.0°C ±0.5°C)
2025-03-06 13:19:09,298 - shroombox - INFO - ✓ Logged heater state: ON
2025-03-06 13:19:09,298 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current RH=32.5%, Setpoint=20.0%
2025-03-06 13:19:09,299 - shroombox - INFO - HUMIDITY CONTROL DEBUG: Current humidifier state=OFF, Bursting=False
2025-03-06 13:19:09,299 - shroombox - INFO - HUMIDITY CONTROL DEBUG: RH 32.5% is above setpoint 20.0%, turning humidifier OFF
2025-03-06 13:19:09,299 - shroombox - INFO - SET_HUMIDIFIER_STATE: Setting humidifier to OFF
2025-03-06 13:19:09,311 - shroombox - INFO - SET_HUMIDIFIER_STATE: Successfully set humidifier to OFF
2025-03-06 13:19:09,311 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updating settings.json with state OFF
2025-03-06 13:19:09,312 - shroombox - INFO - SET_HUMIDIFIER_STATE: Updated humidifier state in settings from OFF to OFF
